(function(){"use strict";var e={6752:function(e,a,t){var s=t(3751),l=t(641);const o={id:"app"};function i(e,a,t,s,i,n){const r=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(r)])}var n={name:"App"},r=t(6262);const d=(0,r.A)(n,[["render",i]]);var c=d,u=t(5220),v=t(33);const p={class:"login-bg"},m={class:"login-container"},k={class:"login-card"},h={class:"logo-section"},b={class:"logo-icon"},g={class:"system-switch"},L={class:"switch-tabs"},f={class:"custom-input-wrapper"},y={class:"custom-input-wrapper"},x={key:0,class:"status-inline"},T={key:1,class:"form-footer"},A={class:"custom-input-wrapper"},w={class:"custom-input-wrapper"},C={class:"custom-input-wrapper"},F={class:"form-footer"},_={class:"info-section minimal"},E={class:"service-status"};function I(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-form-item"),c=(0,l.g2)("a-button"),u=(0,l.g2)("a-form");return(0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("div",m,[(0,l.Lk)("div",k,[(0,l.Lk)("div",h,[(0,l.Lk)("div",b,[(0,l.bF)(r,{type:"robot"})]),a[12]||(a[12]=(0,l.Lk)("h1",{class:"system-title"},"Smart OA ç³»ç»Ÿç™»å½•",-1)),a[13]||(a[13]=(0,l.Lk)("div",{class:"accent-underline"},null,-1)),a[14]||(a[14]=(0,l.Lk)("p",{class:"subtitle"},"ç»Ÿä¸€åŠå…¬ Â· é«˜æ•ˆåä½œ",-1)),(0,l.Lk)("div",g,[(0,l.Lk)("div",L,[(0,l.Lk)("div",{class:(0,v.C4)(["switch-tab",{active:"admin"===e.selectedSystem}]),onClick:a[0]||(a[0]=a=>e.handleSystemChange("admin"))},[(0,l.bF)(r,{type:"setting"}),a[10]||(a[10]=(0,l.eW)(" ç®¡ç†ç«¯ ",-1))],2),(0,l.Lk)("div",{class:(0,v.C4)(["switch-tab",{active:"user"===e.selectedSystem}]),onClick:a[1]||(a[1]=a=>e.handleSystemChange("user"))},[(0,l.bF)(r,{type:"user"}),a[11]||(a[11]=(0,l.eW)(" ç”¨æˆ·ç«¯ ",-1))],2)])])]),e.isLogin?((0,l.uX)(),(0,l.Wv)(u,{key:0,model:e.loginForm,onFinish:e.onLoginFinish,autocomplete:"off",layout:"vertical",class:"login-form"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{name:"username",rules:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å!"}],label:"ç”¨æˆ·å"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",f,[(0,l.bF)(r,{type:"user",class:"input-icon"}),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.loginForm.username=a),type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",class:"custom-input",autocomplete:"off"},null,512),[[s.Jo,e.loginForm.username]])])]),_:1}),(0,l.bF)(d,{name:"password",rules:[{required:!0,message:"è¯·è¾“å…¥å¯†ç !"}],label:"å¯†ç "},{default:(0,l.k6)(()=>[(0,l.Lk)("div",y,[(0,l.bF)(r,{type:"lock",class:"input-icon"}),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.loginForm.password=a),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",class:"custom-input",autocomplete:"off"},null,512),[[s.Jo,e.loginForm.password]])])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(c,{type:"primary","html-type":"submit",block:"",size:"large",loading:e.loading,class:"login-button"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"login"}),a[15]||(a[15]=(0,l.eW)(" ç™»å½•ç³»ç»Ÿ ",-1))]),_:1,__:[15]},8,["loading"])]),_:1}),null!==e.backendStatus?((0,l.uX)(),(0,l.CE)("div",x,[(0,l.bF)(r,{type:e.backendStatus?"check-circle":"close-circle",class:(0,v.C4)(["status-dot",e.backendStatus?"ok":"bad"])},null,8,["type","class"]),(0,l.Lk)("span",{class:(0,v.C4)(["status-label",e.backendStatus?"ok":"bad"])},(0,v.v_)(e.backendStatus?"åç«¯æœåŠ¡æ­£å¸¸":"åç«¯æœåŠ¡æœªå¯åŠ¨"),3),(0,l.Lk)("a",{onClick:a[4]||(a[4]=(...a)=>e.checkBackendStatus&&e.checkBackendStatus(...a)),class:"status-action"},"é‡æ–°æ£€æŸ¥")])):(0,l.Q3)("",!0),"user"===e.selectedSystem?((0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("a",{onClick:a[5]||(a[5]=(...a)=>e.toggleForm&&e.toggleForm(...a)),class:"switch-link"},"æ²¡æœ‰è´¦å·? ç‚¹å‡»æ³¨å†Œ")])):(0,l.Q3)("",!0)]),_:1},8,["model","onFinish"])):((0,l.uX)(),(0,l.Wv)(u,{key:1,model:e.registerForm,onFinish:e.onRegisterFinish,autocomplete:"off",layout:"vertical",class:"register-form"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{name:"username",rules:[{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å!"},{min:3,message:"ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦!"},{pattern:/^[a-zA-Z0-9_]+$/,message:"ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿!"}],label:"ç”¨æˆ·å"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",A,[(0,l.bF)(r,{type:"user",class:"input-icon"}),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[6]||(a[6]=a=>e.registerForm.username=a),type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",class:"custom-input",autocomplete:"off"},null,512),[[s.Jo,e.registerForm.username]])])]),_:1}),(0,l.bF)(d,{name:"password",rules:[{required:!0,message:"è¯·è¾“å…¥å¯†ç !"},{min:6,message:"å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦!"}],label:"å¯†ç "},{default:(0,l.k6)(()=>[(0,l.Lk)("div",w,[(0,l.bF)(r,{type:"lock",class:"input-icon"}),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[7]||(a[7]=a=>e.registerForm.password=a),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",class:"custom-input",autocomplete:"off"},null,512),[[s.Jo,e.registerForm.password]])])]),_:1}),(0,l.bF)(d,{name:"confirmPassword",rules:[{required:!0,message:"è¯·ç¡®è®¤å¯†ç !"},{validator:e.validateConfirmPassword,message:"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´!"}],label:"ç¡®è®¤å¯†ç "},{default:(0,l.k6)(()=>[(0,l.Lk)("div",C,[(0,l.bF)(r,{type:"safety",class:"input-icon"}),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[8]||(a[8]=a=>e.registerForm.confirmPassword=a),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç ",class:"custom-input",autocomplete:"off"},null,512),[[s.Jo,e.registerForm.confirmPassword]])])]),_:1},8,["rules"]),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(c,{type:"primary","html-type":"submit",block:"",size:"large",loading:e.loading,class:"register-button"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user-add"}),a[16]||(a[16]=(0,l.eW)(" æ³¨å†Œè´¦å· ",-1))]),_:1,__:[16]},8,["loading"])]),_:1}),(0,l.Lk)("div",F,[(0,l.Lk)("a",{onClick:a[9]||(a[9]=(...a)=>e.toggleForm&&e.toggleForm(...a)),class:"switch-link"},"å·²æœ‰è´¦å·?è¿”å›ç™»å½•")])]),_:1},8,["model","onFinish"]))]),(0,l.Lk)("div",_,[(0,l.Lk)("div",E,[a[18]||(a[18]=(0,l.Lk)("h3",{class:"section-title"},"æœåŠ¡çŠ¶æ€",-1)),(0,l.Lk)("p",{class:(0,v.C4)(["status-message",{error:!e.backendStatus}])},(0,v.v_)(e.backendStatus?"åç«¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼Œå¯ç™»å½•":"åç«¯æœåŠ¡æœªå¯åŠ¨ï¼Œè¯·æ£€æŸ¥"),3),(0,l.bF)(c,{type:"default",size:"small",onClick:e.checkBackendStatus,class:"status-check-btn"},{default:(0,l.k6)(()=>a[17]||(a[17]=[(0,l.eW)("æ£€æŸ¥æœåŠ¡çŠ¶æ€",-1)])),_:1,__:[17]},8,["onClick"])])])])])}var S=t(953),M=t(8787);const D=()=>{try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}},U=()=>{const e=D();return e?e.username:localStorage.getItem("username")},R=(e,a=null)=>{const t=a||U();return t?`${t}_${e}`:e};class O{constructor(){this.currentUser=U()}setCurrentUser(e){this.currentUser=e}getUserData(e,a=null){try{const t=R(e,this.currentUser),s=localStorage.getItem(t);return s?JSON.parse(s):a}catch(t){return console.error("è·å–ç”¨æˆ·æ•°æ®å¤±è´¥:",t),a}}saveUserData(e,a){try{const t=R(e,this.currentUser);return localStorage.setItem(t,JSON.stringify(a)),!0}catch(t){return console.error("ä¿å­˜ç”¨æˆ·æ•°æ®å¤±è´¥:",t),!1}}removeUserData(e){try{const a=R(e,this.currentUser);return localStorage.removeItem(a),!0}catch(a){return console.error("åˆ é™¤ç”¨æˆ·æ•°æ®å¤±è´¥:",a),!1}}getAllUserDataKeys(){const e=[],a=this.currentUser?`${this.currentUser}_`:"";for(let t=0;t<localStorage.length;t++){const s=localStorage.key(t);s&&s.startsWith(a)&&e.push(s)}return e}clearCurrentUserData(){try{const e=this.getAllUserDataKeys();return e.forEach(e=>localStorage.removeItem(e)),!0}catch(e){return console.error("æ¸…é™¤ç”¨æˆ·æ•°æ®å¤±è´¥:",e),!1}}getAllUsers(){try{const e=localStorage.getItem("users");return e?JSON.parse(e):[]}catch(e){return[]}}userExists(e){const a=this.getAllUsers();return a.some(a=>a.username===e)}getUserAvatar(e){return`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`}saveUserActivity(e){const a="userActivities",t=this.getUserData(a,[]);t.unshift({id:Date.now(),...e,timestamp:(new Date).toISOString()});const s=t.slice(0,20);this.saveUserData(a,s)}getUserActivities(){return this.getUserData("userActivities",[])}saveAttendanceRecords(e){this.saveUserData("attendanceRecords",e)}getAttendanceRecords(){return this.getUserData("attendanceRecords",[])}saveApprovalRecords(e){this.saveUserData("approvalRecords",e)}getApprovalRecords(){return this.getUserData("approvalRecords",[])}saveFileRecords(e){this.saveUserData("fileRecords",e)}getFileRecords(){return this.getUserData("fileRecords",[])}saveUserProfile(e){this.saveUserData("savedUserInfo",e)}getUserProfile(){return this.getUserData("savedUserInfo",null)}saveRecentActivities(e){this.saveUserData("recentActivities",e)}getRecentActivities(){return this.getUserData("recentActivities",[])}exportUserData(){const e={},a=this.getAllUserDataKeys();return a.forEach(a=>{const t=a.replace(`${this.currentUser}_`,"");e[t]=this.getUserData(t)}),{username:this.currentUser,exportTime:(new Date).toISOString(),data:e}}importUserData(e){try{return!(!e.username||!e.data)&&(Object.keys(e.data).forEach(a=>{this.saveUserData(a,e.data[a])}),!0)}catch(a){return console.error("å¯¼å…¥ç”¨æˆ·æ•°æ®å¤±è´¥:",a),!1}}}const P=new O,N=e=>P.saveUserActivity(e),K=()=>P.getUserActivities(),z=e=>P.saveAttendanceRecords(e),X=()=>P.getAttendanceRecords(),W=()=>P.getApprovalRecords(),j=()=>P.getFileRecords(),H=e=>P.setCurrentUser(e),q=()=>P.clearCurrentUserData(),J=()=>P.exportUserData(),V=e=>P.importUserData(e);var $=t(516),Q=t(2843),B=t(1199),G=t(5222),Y=t(6351);function Z(e){(void 0).PROD,$.T({app:e,dsn:(void 0).VITE_SENTRY_DSN||{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_SENTRY_DSN,integrations:[new Y.Jh({routingInstrumentation:Q.vueRouterInstrumentation(Ku),tracingOrigins:["localhost","your-domain.vercel.app",/^\//]})],tracesSampleRate:.1,environment:(void 0).MODE||"production",release:(void 0).VITE_APP_VERSION||"1.0.0",beforeSend(e,a){const t=a.originalException;return t&&t.message&&t.message.includes("Network Error")||t&&"CanceledError"===t.name||t&&t.message&&t.message.includes("User cancelled")?null:e},beforeBreadcrumb(e){if("navigation"===e.category&&e.data&&e.data.url){const a=new URL(e.data.url);a.searchParams.delete("token"),a.searchParams.delete("password"),e.data.url=a.toString()}return e},debug:(void 0).DEV||!1})}function ee(e,a={}){(void 0).PROD,B.Cp(e,{extra:a,tags:{component:a.component||"unknown",action:a.action||"unknown"}})}function ae(e){(void 0).PROD,B.gV({id:e.username,username:e.username,email:e.email})}function te(e){(void 0).PROD,G.Z(e)}var se=(0,l.pM)({name:"Login",setup(){const e=(0,u.rd)(),a=(0,S.KR)(!0),t=(0,S.KR)(!1),s=(0,S.KR)(null),o=(0,S.KR)("user"),i=(0,S.Kh)({username:"",password:""}),n=(0,S.Kh)({username:"",password:"",confirmPassword:""}),r=()=>{"admin"!==o.value?(a.value=!a.value,i.username="",i.password="",n.username="",n.password="",n.confirmPassword=""):M.Ay.warning("ç®¡ç†ç«¯ä¸æ”¯æŒæ³¨å†ŒåŠŸèƒ½")},d=e=>{o.value=e,"admin"===e&&(a.value=!0),Object.assign(i,{username:"",password:""}),Object.assign(n,{username:"",password:"",confirmPassword:""})},c=(e,a)=>a&&a!==n.password?Promise.reject("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´!"):Promise.resolve(),v=()=>{try{const e=localStorage.getItem("users");return e?JSON.parse(e):[]}catch(e){return[]}},p=e=>{localStorage.setItem("users",JSON.stringify(e))},m=(e,a)=>{const t=v();t.push({username:e,password:a}),p(t)},k=async()=>{const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE;if(e)try{const a=await fetch(`${e}/api/auth/me`);s.value=a.ok,a.ok?M.Ay.success("åç«¯æœåŠ¡è¿æ¥æ­£å¸¸"):M.Ay.error("åç«¯æœåŠ¡å“åº”å¼‚å¸¸")}catch(a){s.value=!1,M.Ay.error("æ— æ³•è¿æ¥åˆ°åç«¯æœåŠ¡"),ee(a,{component:"Login",action:"checkBackendStatus",context:"åç«¯å¥åº·æ£€æŸ¥å¤±è´¥"})}else s.value=null},h=a=>(t.value=!0,console.log("ç™»å½•è¡¨å•æäº¤:",a),a.username&&a.password?"user"===o.value&&"admin"===a.username?(M.Ay.error("ç”¨æˆ·ç«¯æ— æ³•ç™»å½•ç®¡ç†å‘˜è´¦æˆ·ï¼Œè¯·åˆ‡æ¢åˆ°ç®¡ç†ç«¯"),void(t.value=!1)):"admin"===a.username&&"admin"!==o.value?(M.Ay.error("ç®¡ç†å‘˜è´¦æˆ·åªèƒ½åœ¨ç®¡ç†ç«¯ç™»å½•"),void(t.value=!1)):void setTimeout(()=>{if(t.value=!1,"admin"===o.value){if("admin"!==a.username||"admin123"!==a.password)return void M.Ay.error("ä»…å…è®¸ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼ˆadmin/admin123ï¼‰")}else{const e=v(),t=e.find(e=>e.username===a.username);if(!t)return void M.Ay.error("è¯¥ç”¨æˆ·æœªæ³¨å†Œï¼Œè¯·å…ˆæ³¨å†Œåå†ç™»å½•");if(t.password!==a.password)return void M.Ay.error("å¯†ç é”™è¯¯")}const s={username:a.username,password:a.password,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${a.username}`,department:"admin"===a.username?"ç³»ç»Ÿç®¡ç†éƒ¨":"æŠ€æœ¯éƒ¨",position:"admin"===a.username?"ç³»ç»Ÿç®¡ç†å‘˜":"å‘˜å·¥",bio:"admin"===a.username?"ç³»ç»Ÿç®¡ç†å‘˜è´¦æˆ·":"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ç”¨æˆ·",employeeId:"admin"===a.username?"ADMIN001":"EMP001"};localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("username",a.username),localStorage.setItem("token",`token_${a.username}_${Date.now()}`),H(a.username),ae(s),te({category:"auth",message:"ç”¨æˆ·ç™»å½•æˆåŠŸ",level:"info",data:{username:a.username,system:o.value}}),localStorage.removeItem("recentRegisteredUser"),"user"===o.value?(e.push("/user"),M.Ay.success("ç”¨æˆ·ç«¯ç™»å½•æˆåŠŸï¼")):(e.push("/"),M.Ay.success("ç®¡ç†ç«¯ç™»å½•æˆåŠŸï¼"))},400):(M.Ay.error("è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç "),void(t.value=!1))),b=e=>{if("admin"!==o.value)return t.value=!0,console.log("æ³¨å†Œè¡¨å•æäº¤:",e),e.username&&e.password&&e.confirmPassword?e.password!==e.confirmPassword?(M.Ay.error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"),void(t.value=!1)):void setTimeout(()=>{t.value=!1;const s=v();s.some(a=>a.username===e.username)?M.Ay.error("ç”¨æˆ·åå·²è¢«æ³¨å†Œï¼Œè¯·æ›´æ¢ç”¨æˆ·å"):(m(e.username,e.password),localStorage.setItem("recentRegisteredUser",JSON.stringify({username:e.username,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.username}`})),M.Ay.success("æ³¨å†ŒæˆåŠŸï¼è¯·ä½¿ç”¨è¯¥è´¦å·ç™»å½•"),a.value=!0,Object.assign(i,{username:e.username,password:""}),Object.assign(n,{username:"",password:"",confirmPassword:""}))},400):(M.Ay.error("è¯·å¡«å†™å®Œæ•´çš„æ³¨å†Œä¿¡æ¯"),void(t.value=!1));M.Ay.error("ç®¡ç†ç«¯ä¸æ”¯æŒæ³¨å†ŒåŠŸèƒ½")};return(0,l.sV)(()=>{k()}),{isLogin:a,loading:t,backendStatus:s,loginForm:i,registerForm:n,toggleForm:r,validateConfirmPassword:c,checkBackendStatus:k,onLoginFinish:h,onRegisterFinish:b,selectedSystem:o,handleSystemChange:d}}});const le=(0,r.A)(se,[["render",I],["__scopeId","data-v-58f15bda"]]);var oe=le;const ie={class:"dashboard-container"},ne={class:"sidebar"},re={class:"sidebar-nav"},de={class:"main-content"},ce={class:"top-header"},ue={class:"header-left"},ve={class:"header-right"},pe={class:"user-menu"},me={class:"user-dropdown-link"},ke={class:"username"},he={class:"content"},be={key:0,class:"overview-content"},ge={class:"card-carousel-section"},Le={class:"card-carousel"},fe={class:"card-number"},ye={class:"card-number"},xe={class:"card-number"},Te={class:"card-progress"},Ae={class:"progress-bar-modern"},we={class:"card-number"},Ce={class:"card-number"},Fe={class:"card-number"},_e={class:"progress-bar-modern"},Ee={class:"carousel-nav"},Ie={class:"carousel-dots"},Se=["onClick"],Me={class:"charts-section"},De={class:"chart-card"},Ue={class:"chart-content"},Re={ref:"pieCanvas",class:"chart-canvas"},Oe={class:"chart-legend"},Pe={class:"chart-card"},Ne={class:"chart-content"},Ke={ref:"barCanvas",class:"chart-canvas"},ze={key:1,class:"module-content"},Xe={key:2,class:"module-content"},We={key:3,class:"module-content"},je={key:4,class:"module-content"},He={key:5,class:"module-content"},qe={key:6,class:"module-content"},Je={key:7,class:"module-content"};function Ve(e,a,t,s,o,i){const n=(0,l.g2)("a-icon"),r=(0,l.g2)("a-avatar"),d=(0,l.g2)("a-menu-item"),c=(0,l.g2)("a-menu-divider"),u=(0,l.g2)("a-menu"),p=(0,l.g2)("a-dropdown");return(0,l.uX)(),(0,l.CE)("div",ie,[(0,l.Lk)("div",ne,[a[24]||(a[24]=(0,l.Lk)("div",{class:"sidebar-header"},[(0,l.Lk)("div",{class:"logo"},[(0,l.Lk)("div",{class:"logo-icon"},"ğŸ¢"),(0,l.Lk)("h2",null,"Smart OA"),(0,l.Lk)("p",null,"ç®¡ç†åå°")])],-1)),(0,l.Lk)("nav",re,[(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"overview"===e.activeModule}]),onClick:a[0]||(a[0]=a=>e.switchModule("overview"))},a[16]||(a[16]=[(0,l.Lk)("span",{class:"nav-icon"},"ğŸ“Š",-1),(0,l.Lk)("span",{class:"nav-text"},"æ•°æ®æ¦‚è§ˆ",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"employee"===e.activeModule}]),onClick:a[1]||(a[1]=a=>e.switchModule("employee"))},a[17]||(a[17]=[(0,l.Lk)("span",{class:"nav-icon"},"ğŸ‘¥",-1),(0,l.Lk)("span",{class:"nav-text"},"å‘˜å·¥ç®¡ç†",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"approval"===e.activeModule}]),onClick:a[2]||(a[2]=a=>e.switchModule("approval"))},a[18]||(a[18]=[(0,l.Lk)("span",{class:"nav-icon"},"âœ…",-1),(0,l.Lk)("span",{class:"nav-text"},"å®¡æ‰¹ç®¡ç†",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"attendance"===e.activeModule}]),onClick:a[3]||(a[3]=a=>e.switchModule("attendance"))},a[19]||(a[19]=[(0,l.Lk)("span",{class:"nav-icon"},"â°",-1),(0,l.Lk)("span",{class:"nav-text"},"è€ƒå‹¤ç®¡ç†",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"announcement"===e.activeModule}]),onClick:a[4]||(a[4]=a=>e.switchModule("announcement"))},a[20]||(a[20]=[(0,l.Lk)("span",{class:"nav-icon"},"ğŸ“¢",-1),(0,l.Lk)("span",{class:"nav-text"},"å…¬å‘Šç®¡ç†",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"file"===e.activeModule}]),onClick:a[5]||(a[5]=a=>e.switchModule("file"))},a[21]||(a[21]=[(0,l.Lk)("span",{class:"nav-icon"},"ğŸ“",-1),(0,l.Lk)("span",{class:"nav-text"},"æ–‡ä»¶ç®¡ç†",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"user"===e.activeModule}]),onClick:a[6]||(a[6]=a=>e.switchModule("user"))},a[22]||(a[22]=[(0,l.Lk)("span",{class:"nav-icon"},"ğŸ‘¤",-1),(0,l.Lk)("span",{class:"nav-text"},"ç”¨æˆ·ç®¡ç†",-1)]),2),(0,l.Lk)("div",{class:(0,v.C4)(["nav-item",{active:"system"===e.activeModule}]),onClick:a[7]||(a[7]=a=>e.switchModule("system"))},a[23]||(a[23]=[(0,l.Lk)("span",{class:"nav-icon"},"ğŸ”§",-1),(0,l.Lk)("span",{class:"nav-text"},"ç³»ç»Ÿç›‘æ§",-1)]),2)])]),(0,l.Lk)("div",de,[(0,l.Lk)("header",ce,[(0,l.Lk)("div",ue,[(0,l.Lk)("h1",null,(0,v.v_)(e.getModuleTitle()),1)]),(0,l.Lk)("div",ve,[a[27]||(a[27]=(0,l.Lk)("div",{class:"search-box"},[(0,l.Lk)("input",{type:"text",placeholder:"æœç´¢..."}),(0,l.Lk)("span",{class:"search-icon"},"ğŸ”")],-1)),(0,l.Lk)("div",pe,[(0,l.bF)(p,null,{overlay:(0,l.k6)(()=>[(0,l.bF)(u,{class:"user-dropdown-menu"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{key:"profile",onClick:e.goToProfile},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"setting"}),a[25]||(a[25]=(0,l.Lk)("span",null,"ä¸ªäººä¿¡æ¯",-1))]),_:1,__:[25]},8,["onClick"]),(0,l.bF)(c),(0,l.bF)(d,{key:"logout",onClick:e.handleLogout},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"logout"}),a[26]||(a[26]=(0,l.Lk)("span",null,"é€€å‡ºç™»å½•",-1))]),_:1,__:[26]},8,["onClick"])]),_:1})]),default:(0,l.k6)(()=>[(0,l.Lk)("a",me,[(0,l.bF)(r,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",ke,(0,v.v_)(e.userInfo.username||"admin"),1),(0,l.bF)(n,{type:"down"})])]),_:1})])])]),(0,l.Lk)("div",he,["overview"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",be,[(0,l.Lk)("div",ge,[(0,l.Lk)("div",Le,[(0,l.Lk)("div",{class:"card-carousel-container",style:(0,v.Tr)({transform:`translateX(-${25*e.currentCardSlide}%)`})},[(0,l.Lk)("div",{class:"stat-card-item employee-card",onClick:a[8]||(a[8]=a=>e.switchModule("employee"))},[a[28]||(a[28]=(0,l.Lk)("div",{class:"card-trend-badge"},"+12%",-1)),a[29]||(a[29]=(0,l.Lk)("div",{class:"card-icon-large"},"ğŸ‘¥",-1)),(0,l.Lk)("div",fe,(0,v.v_)(e.stats.employees),1),a[30]||(a[30]=(0,l.Lk)("div",{class:"card-label"},"å‘˜å·¥æ€»æ•°",-1))]),(0,l.Lk)("div",{class:"stat-card-item approval-card",onClick:a[9]||(a[9]=a=>e.switchModule("approval"))},[a[31]||(a[31]=(0,l.Lk)("div",{class:"card-trend-badge"},"+5%",-1)),a[32]||(a[32]=(0,l.Lk)("div",{class:"card-icon-large"},"ğŸ“‹",-1)),(0,l.Lk)("div",ye,(0,v.v_)(e.stats.approvals),1),a[33]||(a[33]=(0,l.Lk)("div",{class:"card-label"},"å¾…å®¡æ‰¹",-1))]),(0,l.Lk)("div",{class:"stat-card-item attendance-card",onClick:a[10]||(a[10]=a=>e.switchModule("attendance"))},[a[34]||(a[34]=(0,l.Lk)("div",{class:"card-icon-large"},"â°",-1)),(0,l.Lk)("div",xe,(0,v.v_)(e.stats.attendance)+"%",1),a[35]||(a[35]=(0,l.Lk)("div",{class:"card-label"},"å‡ºå‹¤ç‡",-1)),(0,l.Lk)("div",Te,[(0,l.Lk)("div",Ae,[(0,l.Lk)("div",{class:"progress-fill-modern",style:(0,v.Tr)({width:e.stats.attendance+"%"})},null,4)])])]),(0,l.Lk)("div",{class:"stat-card-item file-card",onClick:a[11]||(a[11]=a=>e.switchModule("file"))},[a[36]||(a[36]=(0,l.Lk)("div",{class:"card-icon-large"},"ğŸ“Š",-1)),(0,l.Lk)("div",we,(0,v.v_)(e.stats.files),1),a[37]||(a[37]=(0,l.Lk)("div",{class:"card-label"},"æ–‡ä»¶æ€»æ•°",-1)),a[38]||(a[38]=(0,l.Lk)("div",{class:"card-progress"},[(0,l.Lk)("div",{class:"progress-bar-modern"},[(0,l.Lk)("div",{class:"progress-fill-modern",style:{width:"78%"}})])],-1))]),(0,l.Lk)("div",{class:"stat-card-item announcement-card",onClick:a[12]||(a[12]=a=>e.switchModule("announcement"))},[a[39]||(a[39]=(0,l.Lk)("div",{class:"card-trend-badge"},"+8%",-1)),a[40]||(a[40]=(0,l.Lk)("div",{class:"card-icon-large"},"ğŸ“¢",-1)),(0,l.Lk)("div",Ce,(0,v.v_)(e.stats.announcements),1),a[41]||(a[41]=(0,l.Lk)("div",{class:"card-label"},"å…¬å‘Šæ€»æ•°",-1))]),(0,l.Lk)("div",{class:"stat-card-item system-card",onClick:a[13]||(a[13]=a=>e.switchModule("system"))},[a[42]||(a[42]=(0,l.Lk)("div",{class:"card-icon-large"},"ğŸ”§",-1)),(0,l.Lk)("div",Fe,(0,v.v_)(e.stats.systemUptime)+"%",1),a[43]||(a[43]=(0,l.Lk)("div",{class:"card-label"},"ç³»ç»Ÿå¯ç”¨æ€§",-1)),(0,l.Lk)("div",_e,[(0,l.Lk)("div",{class:"progress-fill-modern",style:(0,v.Tr)({width:e.stats.systemUptime+"%"})},null,4)])])],4),(0,l.Lk)("div",Ee,[(0,l.Lk)("button",{class:"nav-btn prev-btn",onClick:a[14]||(a[14]=(...a)=>e.prevCardSlide&&e.prevCardSlide(...a))},a[44]||(a[44]=[(0,l.Lk)("span",null,"â€¹",-1)])),(0,l.Lk)("button",{class:"nav-btn next-btn",onClick:a[15]||(a[15]=(...a)=>e.nextCardSlide&&e.nextCardSlide(...a))},a[45]||(a[45]=[(0,l.Lk)("span",null,"â€º",-1)]))]),(0,l.Lk)("div",Ie,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(3,(a,t)=>(0,l.Lk)("div",{key:t,class:(0,v.C4)(["carousel-dot",{active:e.currentCardSlide===t}]),onClick:a=>e.goToCardSlide(t)},null,10,Se)),64))])])]),(0,l.Lk)("div",Me,[(0,l.Lk)("div",De,[a[46]||(a[46]=(0,l.Lk)("div",{class:"chart-header"},[(0,l.Lk)("h3",null,"éƒ¨é—¨åˆ†å¸ƒ"),(0,l.Lk)("span",{class:"chart-subtitle"},"å‘˜å·¥éƒ¨é—¨ç»Ÿè®¡")],-1)),(0,l.Lk)("div",Ue,[(0,l.Lk)("canvas",Re,null,512),(0,l.Lk)("div",Oe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.departmentData,(a,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"legend-item",key:t},[(0,l.Lk)("span",{class:"legend-color",style:(0,v.Tr)({background:e.pieColors[t%e.pieColors.length]})},null,4),(0,l.Lk)("span",null,(0,v.v_)(a.name)+" "+(0,v.v_)(a.value)+"%",1)]))),128))])])]),(0,l.Lk)("div",Pe,[a[47]||(a[47]=(0,l.Lk)("div",{class:"chart-header"},[(0,l.Lk)("h3",null,"æœˆåº¦è¶‹åŠ¿"),(0,l.Lk)("span",{class:"chart-subtitle"},"è¿‘6ä¸ªæœˆæ•°æ®")],-1)),(0,l.Lk)("div",Ne,[(0,l.Lk)("canvas",Ke,null,512)])])])])):(0,l.Q3)("",!0),"employee"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",ze,a[48]||(a[48]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>å‘˜å·¥ç®¡ç†</h2><p data-v-3f0e4870>ç®¡ç†å…¬å¸å‘˜å·¥ä¿¡æ¯ã€éƒ¨é—¨åˆ†é…å’Œæƒé™è®¾ç½®</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ‘¥</div><h3 data-v-3f0e4870>å‘˜å·¥åˆ—è¡¨</h3><p data-v-3f0e4870>æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰å‘˜å·¥ä¿¡æ¯</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹å‘˜å·¥</button><button class="btn-secondary" data-v-3f0e4870>æ·»åŠ å‘˜å·¥</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ¢</div><h3 data-v-3f0e4870>éƒ¨é—¨ç®¡ç†</h3><p data-v-3f0e4870>ç»„ç»‡æ¶æ„å’Œéƒ¨é—¨è®¾ç½®</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>éƒ¨é—¨åˆ—è¡¨</button><button class="btn-secondary" data-v-3f0e4870>æ–°å»ºéƒ¨é—¨</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ”</div><h3 data-v-3f0e4870>æƒé™è®¾ç½®</h3><p data-v-3f0e4870>å‘˜å·¥è§’è‰²å’Œæƒé™ç®¡ç†</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>è§’è‰²ç®¡ç†</button><button class="btn-secondary" data-v-3f0e4870>æƒé™é…ç½®</button></div></div></div>',2)]))):(0,l.Q3)("",!0),"approval"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",Xe,a[49]||(a[49]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>å®¡æ‰¹ç®¡ç†</h2><p data-v-3f0e4870>å¤„ç†å„ç±»å®¡æ‰¹ç”³è¯·å’Œå·¥ä½œæµç¨‹</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“‹</div><h3 data-v-3f0e4870>å¾…å®¡æ‰¹</h3><p data-v-3f0e4870>éœ€è¦æ‚¨å®¡æ‰¹çš„ç”³è¯·åˆ—è¡¨</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹å¾…å®¡æ‰¹</button><button class="btn-secondary" data-v-3f0e4870>æ‰¹é‡å¤„ç†</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>âœ…</div><h3 data-v-3f0e4870>å·²å®¡æ‰¹</h3><p data-v-3f0e4870>å†å²å®¡æ‰¹è®°å½•å’ŒçŠ¶æ€</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>å®¡æ‰¹å†å²</button><button class="btn-secondary" data-v-3f0e4870>å¯¼å‡ºè®°å½•</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>âš™ï¸</div><h3 data-v-3f0e4870>æµç¨‹é…ç½®</h3><p data-v-3f0e4870>å®¡æ‰¹æµç¨‹å’Œè§„åˆ™è®¾ç½®</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æµç¨‹è®¾è®¡</button><button class="btn-secondary" data-v-3f0e4870>è§„åˆ™é…ç½®</button></div></div></div>',2)]))):(0,l.Q3)("",!0),"attendance"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",We,a[50]||(a[50]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>è€ƒå‹¤ç®¡ç†</h2><p data-v-3f0e4870>å‘˜å·¥è€ƒå‹¤è®°å½•å’Œç»Ÿè®¡ç®¡ç†</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>â°</div><h3 data-v-3f0e4870>è€ƒå‹¤è®°å½•</h3><p data-v-3f0e4870>å‘˜å·¥ä¸Šä¸‹ç­æ‰“å¡è®°å½•</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹è®°å½•</button><button class="btn-secondary" data-v-3f0e4870>å¯¼å‡ºæ•°æ®</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“Š</div><h3 data-v-3f0e4870>è€ƒå‹¤ç»Ÿè®¡</h3><p data-v-3f0e4870>å‡ºå‹¤ç‡å’Œå·¥ä½œæ—¶é•¿ç»Ÿè®¡</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>ç»Ÿè®¡æŠ¥è¡¨</button><button class="btn-secondary" data-v-3f0e4870>æ•°æ®åˆ†æ</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“…</div><h3 data-v-3f0e4870>è¯·å‡ç®¡ç†</h3><p data-v-3f0e4870>å‘˜å·¥è¯·å‡ç”³è¯·å’Œå®¡æ‰¹</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>è¯·å‡ç”³è¯·</button><button class="btn-secondary" data-v-3f0e4870>å®¡æ‰¹è®°å½•</button></div></div></div>',2)]))):(0,l.Q3)("",!0),"announcement"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",je,a[51]||(a[51]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>å…¬å‘Šç®¡ç†</h2><p data-v-3f0e4870>å‘å¸ƒå’Œç®¡ç†å…¬å¸å…¬å‘Šä¿¡æ¯</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“¢</div><h3 data-v-3f0e4870>å‘å¸ƒå…¬å‘Š</h3><p data-v-3f0e4870>åˆ›å»ºå’Œå‘å¸ƒæ–°çš„å…¬å‘Š</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æ–°å»ºå…¬å‘Š</button><button class="btn-secondary" data-v-3f0e4870>è‰ç¨¿ç®±</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“‹</div><h3 data-v-3f0e4870>å…¬å‘Šåˆ—è¡¨</h3><p data-v-3f0e4870>ç®¡ç†å·²å‘å¸ƒçš„å…¬å‘Š</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹å…¬å‘Š</button><button class="btn-secondary" data-v-3f0e4870>ç¼–è¾‘å…¬å‘Š</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“Š</div><h3 data-v-3f0e4870>é˜…è¯»ç»Ÿè®¡</h3><p data-v-3f0e4870>å…¬å‘Šé˜…è¯»æƒ…å†µç»Ÿè®¡</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹ç»Ÿè®¡</button><button class="btn-secondary" data-v-3f0e4870>å¯¼å‡ºæŠ¥å‘Š</button></div></div></div>',2)]))):(0,l.Q3)("",!0),"file"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",He,a[52]||(a[52]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>æ–‡ä»¶ç®¡ç†</h2><p data-v-3f0e4870>å…¬å¸æ–‡ä»¶å­˜å‚¨ã€å…±äº«å’Œæƒé™ç®¡ç†</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“</div><h3 data-v-3f0e4870>æ–‡ä»¶å­˜å‚¨</h3><p data-v-3f0e4870>ä¸Šä¼ å’Œç®¡ç†å…¬å¸æ–‡ä»¶</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>ä¸Šä¼ æ–‡ä»¶</button><button class="btn-secondary" data-v-3f0e4870>æ–‡ä»¶åˆ—è¡¨</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ”—</div><h3 data-v-3f0e4870>æ–‡ä»¶å…±äº«</h3><p data-v-3f0e4870>è®¾ç½®æ–‡ä»¶å…±äº«å’Œæƒé™</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>å…±äº«è®¾ç½®</button><button class="btn-secondary" data-v-3f0e4870>æƒé™ç®¡ç†</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“Š</div><h3 data-v-3f0e4870>å­˜å‚¨ç»Ÿè®¡</h3><p data-v-3f0e4870>æ–‡ä»¶å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹ç»Ÿè®¡</button><button class="btn-secondary" data-v-3f0e4870>æ¸…ç†ç©ºé—´</button></div></div></div>',2)]))):(0,l.Q3)("",!0),"user"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",qe,a[53]||(a[53]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>ç”¨æˆ·ç®¡ç†</h2><p data-v-3f0e4870>ç³»ç»Ÿç”¨æˆ·è´¦æˆ·å’Œæƒé™ç®¡ç†</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ‘¤</div><h3 data-v-3f0e4870>ç”¨æˆ·è´¦æˆ·</h3><p data-v-3f0e4870>ç®¡ç†ç³»ç»Ÿç”¨æˆ·è´¦æˆ·</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>ç”¨æˆ·åˆ—è¡¨</button><button class="btn-secondary" data-v-3f0e4870>æ·»åŠ ç”¨æˆ·</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ”</div><h3 data-v-3f0e4870>æƒé™ç®¡ç†</h3><p data-v-3f0e4870>ç”¨æˆ·è§’è‰²å’Œæƒé™è®¾ç½®</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>è§’è‰²ç®¡ç†</button><button class="btn-secondary" data-v-3f0e4870>æƒé™é…ç½®</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“Š</div><h3 data-v-3f0e4870>ç™»å½•æ—¥å¿—</h3><p data-v-3f0e4870>ç”¨æˆ·ç™»å½•æ´»åŠ¨è®°å½•</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æŸ¥çœ‹æ—¥å¿—</button><button class="btn-secondary" data-v-3f0e4870>å®‰å…¨åˆ†æ</button></div></div></div>',2)]))):(0,l.Q3)("",!0),"system"===e.activeModule?((0,l.uX)(),(0,l.CE)("div",Je,a[54]||(a[54]=[(0,l.Fv)('<div class="module-header" data-v-3f0e4870><h2 data-v-3f0e4870>ç³»ç»Ÿç›‘æ§</h2><p data-v-3f0e4870>ç³»ç»Ÿæ€§èƒ½ç›‘æ§å’Œè¿è¡ŒçŠ¶æ€ç®¡ç†</p></div><div class="module-grid" data-v-3f0e4870><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ“Š</div><h3 data-v-3f0e4870>æ€§èƒ½ç›‘æ§</h3><p data-v-3f0e4870>CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡ç›‘æ§</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>å®æ—¶ç›‘æ§</button><button class="btn-secondary" data-v-3f0e4870>æ€§èƒ½æŠ¥å‘Š</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ”</div><h3 data-v-3f0e4870>æ—¥å¿—åˆ†æ</h3><p data-v-3f0e4870>ç³»ç»Ÿæ—¥å¿—æŸ¥çœ‹å’Œåˆ†æ</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>æ—¥å¿—æŸ¥çœ‹</button><button class="btn-secondary" data-v-3f0e4870>é”™è¯¯åˆ†æ</button></div></div><div class="module-card" data-v-3f0e4870><div class="card-icon" data-v-3f0e4870>ğŸ›¡ï¸</div><h3 data-v-3f0e4870>å®‰å…¨ç›‘æ§</h3><p data-v-3f0e4870>ç³»ç»Ÿå®‰å…¨çŠ¶æ€å’Œå¨èƒæ£€æµ‹</p><div class="card-actions" data-v-3f0e4870><button class="btn-primary" data-v-3f0e4870>å®‰å…¨çŠ¶æ€</button><button class="btn-secondary" data-v-3f0e4870>å¨èƒæ£€æµ‹</button></div></div></div>',2)]))):(0,l.Q3)("",!0)])])])}var $e=(0,l.pM)({name:"Home",setup(){const e=(0,u.rd)(),a=(0,S.KR)("overview"),t=(0,S.KR)(0),s=(0,S.KR)(null),o=(0,S.KR)({username:"",role:"",avatar:""}),i=(0,S.KR)({employees:156,activeEmployees:148,newEmployees:8,departments:12,avgWorkYears:3.2,approvals:23,todayApprovals:5,processedApprovals:156,avgProcessTime:2.4,approvalRate:92,attendance:94,todayAttendance:142,lateCount:3,leaveCount:5,overtimeHours:28,files:1247,todayUploads:23,storageUsed:156,sharedFiles:89,downloadCount:2341,announcements:67,monthlyAnnouncements:12,readRate:87,pinnedAnnouncements:3,interactionCount:156,systemUptime:99.8,cpuUsage:45,memoryUsage:62,onlineUsers:89,todayVisits:234}),n=(0,S.KR)([{name:"æŠ€æœ¯éƒ¨",value:40},{name:"äººäº‹éƒ¨",value:33},{name:"è´¢åŠ¡éƒ¨",value:27}]),r=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#e056fd"],d=(0,S.KR)([{month:"1æœˆ",value:85},{month:"2æœˆ",value:92},{month:"3æœˆ",value:78},{month:"4æœˆ",value:95},{month:"5æœˆ",value:88},{month:"6æœˆ",value:96}]),c=(0,S.KR)(null),v=(0,S.KR)(null),p=t=>{if("overview"===t)return void(a.value=t);const s={employee:"/admin/employee",approval:"/admin/approval",attendance:"/admin/attendance",announcement:"/admin/announcement",file:"/admin/file",user:"/admin/user",system:"/admin/system"},l=s[t];l&&e.push(l)},m=()=>{const e={overview:"æ•°æ®æ¦‚è§ˆ",employee:"å‘˜å·¥ç®¡ç†",approval:"å®¡æ‰¹ç®¡ç†",attendance:"è€ƒå‹¤ç®¡ç†",announcement:"å…¬å‘Šç®¡ç†",file:"æ–‡ä»¶ç®¡ç†",user:"ç”¨æˆ·ç®¡ç†",system:"ç³»ç»Ÿç›‘æ§"};return e[a.value]||"æ•°æ®æ¦‚è§ˆ"},k=()=>{t.value=(t.value+1)%3},h=()=>{t.value=0===t.value?2:t.value-1},b=(e,s)=>{"number"===typeof e&&e<3&&(t.value=e),s&&(a.value=s)},g=()=>{s.value=setInterval(()=>{k()},3e3)},L=()=>{s.value&&(clearInterval(s.value),s.value=null)},f=()=>{e.push("/admin/profile")},y=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("username"),e.push("/login")},x=()=>{const e=c.value;if(!e)return;const a=e.getContext("2d"),t=window.devicePixelRatio||1,s=e.clientWidth,l=e.clientHeight;e.width=s*t,e.height=l*t,a.scale(t,t),a.clearRect(0,0,s,l);const o=Math.min(s,l)/2-10,i=s/2,d=l/2;let u=-Math.PI/2;n.value.forEach((e,t)=>{const s=e.value/100*Math.PI*2;a.beginPath(),a.moveTo(i,d),a.arc(i,d,o,u,u+s),a.closePath(),a.fillStyle=r[t%r.length],a.fill(),u+=s}),a.beginPath(),a.arc(i,d,.55*o,0,2*Math.PI),a.fillStyle="#ffffff",a.fill()},T=()=>{const e=v.value;if(!e)return;const a=e.getContext("2d"),t=window.devicePixelRatio||1,s=e.clientWidth,l=e.clientHeight;e.width=s*t,e.height=l*t,a.scale(t,t),a.clearRect(0,0,s,l);const o={left:40,right:30,top:30,bottom:40},i=s-o.left-o.right,n=l-o.top-o.bottom,r=4;for(let d=0;d<=r;d++){const e=o.top+n/r*d;a.strokeStyle="#3b82f6",a.lineWidth=1,a.beginPath(),a.moveTo(o.left-5,e),a.lineTo(o.left,e),a.stroke()}a.strokeStyle="#3b82f6",a.lineWidth=2,a.beginPath(),a.moveTo(o.left,l-o.bottom),a.lineTo(s-o.right,l-o.bottom),a.lineTo(s-o.right-8,l-o.bottom-4),a.moveTo(s-o.right,l-o.bottom),a.lineTo(s-o.right-8,l-o.bottom+4),a.stroke(),a.beginPath(),a.moveTo(o.left,l-o.bottom),a.lineTo(o.left,o.top),a.lineTo(o.left-4,o.top+8),a.moveTo(o.left,o.top),a.lineTo(o.left+4,o.top+8),a.stroke();const c=d.value.length,u=i/c*.6,p=i/c*.4,m=Math.max(...d.value.map(e=>e.value))||100,k=["#fbbf24","#fb923c","#f43f5e","#3b82f6","#8b5cf6"];d.value.forEach((e,t)=>{const s=o.left+t*(u+p)+.5*p,i=e.value/m*n,r=l-o.bottom-i;a.fillStyle=k[t%k.length];const d=u;a.fillRect(s,r,d,i),a.fillStyle="#64748b",a.font="16px sans-serif";const c=e.month,v=a.measureText(c).width;a.fillText(c,s+d/2-v/2,l-o.bottom+25)})},A=()=>{console.log("Home.vue - getUserInfo å¼€å§‹æ‰§è¡Œ"),console.log("Home.vue - localStorage æ£€æŸ¥:"),console.log("  - token:",localStorage.getItem("token")),console.log("  - username:",localStorage.getItem("username")),console.log("  - user:",localStorage.getItem("user")),console.log("  - savedUserInfo:",localStorage.getItem("savedUserInfo"));const e=localStorage.getItem("user");if(e)try{const t=JSON.parse(e);console.log("Home.vue - è§£æåçš„ç”¨æˆ·æ•°æ®:",t);const s=localStorage.getItem("savedUserInfo");if(s)try{const e=JSON.parse(s);console.log("Home.vue - è§£æåçš„ä¿å­˜ä¿¡æ¯:",e),o.value={...t,...e,username:e.username||t.username,avatar:e.avatar||t.avatar||""}}catch(a){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",a),o.value={...t,avatar:t.avatar||""}}else o.value={...t,avatar:t.avatar||""};console.log("Home.vue - æœ€ç»ˆè®¾ç½®çš„ç”¨æˆ·ä¿¡æ¯:",o.value)}catch(a){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",a)}else console.log("Home.vue - æœªæ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯")},w=()=>{A()};return(0,l.sV)(()=>{A(),x(),T(),g(),window.addEventListener("userInfoUpdated",w),window.addEventListener("resize",()=>{x(),T()})}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",w),L()}),{userInfo:o,stats:i,departmentData:n,pieColors:r,monthlyData:d,pieCanvas:c,barCanvas:v,activeModule:a,switchModule:p,getModuleTitle:m,currentCardSlide:t,nextCardSlide:k,prevCardSlide:h,goToCardSlide:b,goToProfile:f,handleLogout:y}}});const Qe=(0,r.A)($e,[["render",Ve],["__scopeId","data-v-3f0e4870"]]);var Be=Qe;const Ge={class:"employee-container"},Ye={class:"page-header"},Ze={class:"header-left"},ea={class:"title-section"},aa={class:"page-title"},ta={class:"header-right"},sa={class:"user-info"},la={class:"employee-list"},oa={class:"list-header"},ia={class:"employee-table"},na={class:"employee-info"},ra=["src","alt"],da={class:"actions"},ca=["onClick"],ua=["onClick"],va={class:"modal-header"},pa={class:"modal-body"},ma={class:"form-row"},ka={class:"form-group"},ha={key:0,class:"error-text"},ba={class:"form-group"},ga=["disabled"],La={key:0,class:"error-text"},fa={class:"form-row"},ya={class:"form-group"},xa={key:0,class:"error-text"},Ta={class:"form-group"},Aa={key:0,class:"error-text"},wa={class:"form-row"},Ca={class:"form-group"},Fa={key:0,class:"error-text"},_a={class:"form-group"},Ea={key:0,class:"error-text"},Ia={class:"form-group"},Sa={class:"form-actions"},Ma={type:"submit",class:"btn-submit"},Da={class:"modal-header"},Ua={class:"modal-body"},Ra={class:"form-actions"};function Oa(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",Ge,[(0,l.Lk)("div",Ye,[(0,l.Lk)("div",Ze,[(0,l.Lk)("div",ea,[(0,l.Lk)("h1",aa,[(0,l.bF)(r,{type:"team",class:"title-icon"}),a[18]||(a[18]=(0,l.eW)(" å‘˜å·¥ç®¡ç† ",-1))]),a[19]||(a[19]=(0,l.Lk)("p",{class:"page-subtitle"},"ç®¡ç†å…¬å¸å‘˜å·¥ä¿¡æ¯ã€éƒ¨é—¨åˆ†é…å’Œæƒé™è®¾ç½®",-1))])]),(0,l.Lk)("div",ta,[(0,l.Lk)("div",sa,[(0,l.bF)(d,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(c,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"home"}),a[20]||(a[20]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[20]},8,["onClick"])])]),a[37]||(a[37]=(0,l.Fv)('<div class="stats-overview" data-v-2cb0b3aa><div class="stat-card" data-v-2cb0b3aa><div class="stat-icon" data-v-2cb0b3aa>ğŸ‘¥</div><div class="stat-content" data-v-2cb0b3aa><div class="stat-number" data-v-2cb0b3aa>156</div><div class="stat-label" data-v-2cb0b3aa>å‘˜å·¥æ€»æ•°</div></div></div><div class="stat-card" data-v-2cb0b3aa><div class="stat-icon" data-v-2cb0b3aa>ğŸ†•</div><div class="stat-content" data-v-2cb0b3aa><div class="stat-number" data-v-2cb0b3aa>12</div><div class="stat-label" data-v-2cb0b3aa>æœ¬æœˆæ–°å¢</div></div></div><div class="stat-card" data-v-2cb0b3aa><div class="stat-icon" data-v-2cb0b3aa>ğŸ“ˆ</div><div class="stat-content" data-v-2cb0b3aa><div class="stat-number" data-v-2cb0b3aa>8</div><div class="stat-label" data-v-2cb0b3aa>æœ¬æœˆæ™‹å‡</div></div></div><div class="stat-card" data-v-2cb0b3aa><div class="stat-icon" data-v-2cb0b3aa>â°</div><div class="stat-content" data-v-2cb0b3aa><div class="stat-number" data-v-2cb0b3aa>3.2</div><div class="stat-label" data-v-2cb0b3aa>å¹³å‡å·¥é¾„(å¹´)</div></div></div></div>',1)),(0,l.Lk)("div",la,[(0,l.Lk)("div",oa,[a[21]||(a[21]=(0,l.Lk)("h2",null,"å‘˜å·¥åˆ—è¡¨",-1)),(0,l.Lk)("button",{class:"btn-add",onClick:a[0]||(a[0]=(...a)=>e.showAddModal&&e.showAddModal(...a))},"+ æ·»åŠ å‘˜å·¥")]),(0,l.Lk)("div",ia,[(0,l.Lk)("table",null,[a[22]||(a[22]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"å‘˜å·¥ID"),(0,l.Lk)("th",null,"å§“å"),(0,l.Lk)("th",null,"éƒ¨é—¨"),(0,l.Lk)("th",null,"èŒä½"),(0,l.Lk)("th",null,"å…¥èŒæ—¥æœŸ"),(0,l.Lk)("th",null,"å·¥é¾„"),(0,l.Lk)("th",null,"çŠ¶æ€"),(0,l.Lk)("th",null,"æ“ä½œ")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.employees,a=>((0,l.uX)(),(0,l.CE)("tr",{key:a.id},[(0,l.Lk)("td",null,(0,v.v_)(a.id),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",na,[(0,l.Lk)("img",{src:a.avatar,alt:a.name,class:"avatar"},null,8,ra),(0,l.Lk)("span",null,(0,v.v_)(a.name),1)])]),(0,l.Lk)("td",null,(0,v.v_)(a.department),1),(0,l.Lk)("td",null,(0,v.v_)(a.position),1),(0,l.Lk)("td",null,(0,v.v_)(a.joinDate),1),(0,l.Lk)("td",null,(0,v.v_)(a.workYears)+"å¹´",1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",a.status])},(0,v.v_)(a.statusText),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",da,[(0,l.Lk)("button",{class:"btn-edit",onClick:t=>e.showEditModal(a)},"ç¼–è¾‘",8,ca),(0,l.Lk)("button",{class:"btn-delete",onClick:t=>e.showDeleteConfirm(a)},"åˆ é™¤",8,ua)])])]))),128))])])])]),e.showModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[12]||(a[12]=(...a)=>e.closeModal&&e.closeModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[11]||(a[11]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",va,[(0,l.Lk)("h3",null,(0,v.v_)(e.isEditing?"ç¼–è¾‘å‘˜å·¥":"æ·»åŠ å‘˜å·¥"),1),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeModal&&e.closeModal(...a))},"Ã—")]),(0,l.Lk)("div",pa,[(0,l.Lk)("form",{onSubmit:a[10]||(a[10]=(0,s.D$)((...a)=>e.submitForm&&e.submitForm(...a),["prevent"])),class:"employee-form"},[(0,l.Lk)("div",ma,[(0,l.Lk)("div",ka,[a[23]||(a[23]=(0,l.Lk)("label",null,"å‘˜å·¥å§“å *",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.name=a),type:"text",required:"",placeholder:"è¯·è¾“å…¥å‘˜å·¥å§“å",class:(0,v.C4)({error:e.formErrors.name})},null,2),[[s.Jo,e.formData.name]]),e.formErrors.name?((0,l.uX)(),(0,l.CE)("span",ha,(0,v.v_)(e.formErrors.name),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ba,[a[24]||(a[24]=(0,l.Lk)("label",null,"å‘˜å·¥ID *",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.id=a),type:"text",required:"",placeholder:"è¯·è¾“å…¥å‘˜å·¥ID",class:(0,v.C4)({error:e.formErrors.id}),disabled:e.isEditing},null,10,ga),[[s.Jo,e.formData.id]]),e.formErrors.id?((0,l.uX)(),(0,l.CE)("span",La,(0,v.v_)(e.formErrors.id),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",fa,[(0,l.Lk)("div",ya,[a[26]||(a[26]=(0,l.Lk)("label",null,"éƒ¨é—¨ *",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.department=a),required:"",class:(0,v.C4)({error:e.formErrors.department})},a[25]||(a[25]=[(0,l.Fv)('<option value="" data-v-2cb0b3aa>è¯·é€‰æ‹©éƒ¨é—¨</option><option value="æŠ€æœ¯éƒ¨" data-v-2cb0b3aa>æŠ€æœ¯éƒ¨</option><option value="äººäº‹éƒ¨" data-v-2cb0b3aa>äººäº‹éƒ¨</option><option value="è´¢åŠ¡éƒ¨" data-v-2cb0b3aa>è´¢åŠ¡éƒ¨</option><option value="å¸‚åœºéƒ¨" data-v-2cb0b3aa>å¸‚åœºéƒ¨</option><option value="è¿è¥éƒ¨" data-v-2cb0b3aa>è¿è¥éƒ¨</option><option value="å®¢æœéƒ¨" data-v-2cb0b3aa>å®¢æœéƒ¨</option>',7)]),2),[[s.u1,e.formData.department]]),e.formErrors.department?((0,l.uX)(),(0,l.CE)("span",xa,(0,v.v_)(e.formErrors.department),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ta,[a[27]||(a[27]=(0,l.Lk)("label",null,"èŒä½ *",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.position=a),type:"text",required:"",placeholder:"è¯·è¾“å…¥èŒä½",class:(0,v.C4)({error:e.formErrors.position})},null,2),[[s.Jo,e.formData.position]]),e.formErrors.position?((0,l.uX)(),(0,l.CE)("span",Aa,(0,v.v_)(e.formErrors.position),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",wa,[(0,l.Lk)("div",Ca,[a[28]||(a[28]=(0,l.Lk)("label",null,"å…¥èŒæ—¥æœŸ *",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[6]||(a[6]=a=>e.formData.joinDate=a),type:"date",required:"",class:(0,v.C4)({error:e.formErrors.joinDate})},null,2),[[s.Jo,e.formData.joinDate]]),e.formErrors.joinDate?((0,l.uX)(),(0,l.CE)("span",Fa,(0,v.v_)(e.formErrors.joinDate),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",_a,[a[30]||(a[30]=(0,l.Lk)("label",null,"çŠ¶æ€ *",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.status=a),required:"",class:(0,v.C4)({error:e.formErrors.status})},a[29]||(a[29]=[(0,l.Fv)('<option value="" data-v-2cb0b3aa>è¯·é€‰æ‹©çŠ¶æ€</option><option value="active" data-v-2cb0b3aa>åœ¨èŒ</option><option value="inactive" data-v-2cb0b3aa>ç¦»èŒ</option><option value="probation" data-v-2cb0b3aa>è¯•ç”¨æœŸ</option><option value="suspended" data-v-2cb0b3aa>åœèŒ</option>',5)]),2),[[s.u1,e.formData.status]]),e.formErrors.status?((0,l.uX)(),(0,l.CE)("span",Ea,(0,v.v_)(e.formErrors.status),1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Ia,[a[31]||(a[31]=(0,l.Lk)("label",null,"å¤´åƒURL",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[8]||(a[8]=a=>e.formData.avatar=a),type:"text",placeholder:"è¯·è¾“å…¥å¤´åƒURLï¼ˆå¯é€‰ï¼‰"},null,512),[[s.Jo,e.formData.avatar]]),a[32]||(a[32]=(0,l.Lk)("small",null,"ç•™ç©ºå°†ä½¿ç”¨é»˜è®¤å¤´åƒ",-1))]),(0,l.Lk)("div",Sa,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[9]||(a[9]=(...a)=>e.closeModal&&e.closeModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",Ma,(0,v.v_)(e.isEditing?"ä¿å­˜":"æ·»åŠ "),1)])],32)])])])):(0,l.Q3)("",!0),e.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"modal-overlay",onClick:a[17]||(a[17]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},[(0,l.Lk)("div",{class:"modal-content delete-modal",onClick:a[16]||(a[16]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",Da,[a[33]||(a[33]=(0,l.Lk)("h3",null,"ç¡®è®¤åˆ é™¤",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[13]||(a[13]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"Ã—")]),(0,l.Lk)("div",Ua,[(0,l.Lk)("p",null,[a[34]||(a[34]=(0,l.eW)("æ‚¨ç¡®å®šè¦åˆ é™¤å‘˜å·¥ ",-1)),(0,l.Lk)("strong",null,(0,v.v_)(e.employeeToDelete?.name),1),a[35]||(a[35]=(0,l.eW)(" å—ï¼Ÿ",-1))]),a[36]||(a[36]=(0,l.Lk)("p",{class:"warning-text"},"æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼",-1)),(0,l.Lk)("div",Ra,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[14]||(a[14]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-delete-confirm",onClick:a[15]||(a[15]=(...a)=>e.confirmDelete&&e.confirmDelete(...a))},"ç¡®è®¤åˆ é™¤")])])])])):(0,l.Q3)("",!0)])}var Pa=(0,l.pM)({name:"Employee",setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee1"}),t=(0,S.KR)([{id:"EMP001",name:"å¼ ä¸‰",department:"æŠ€æœ¯éƒ¨",position:"é«˜çº§å·¥ç¨‹å¸ˆ",joinDate:"2020-03-15",workYears:3.5,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee1"},{id:"EMP002",name:"æå››",department:"äººäº‹éƒ¨",position:"HRä¸“å‘˜",joinDate:"2021-06-20",workYears:2.2,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee2"},{id:"EMP003",name:"ç‹äº”",department:"è´¢åŠ¡éƒ¨",position:"ä¼šè®¡",joinDate:"2019-11-08",workYears:4.1,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee3"},{id:"EMP004",name:"èµµå…­",department:"æŠ€æœ¯éƒ¨",position:"å‰ç«¯å¼€å‘",joinDate:"2022-01-10",workYears:1.8,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee4"},{id:"EMP005",name:"é’±ä¸ƒ",department:"å¸‚åœºéƒ¨",position:"å¸‚åœºä¸“å‘˜",joinDate:"2018-09-12",workYears:5.2,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee5"},{id:"EMP006",name:"å­™å…«",department:"æŠ€æœ¯éƒ¨",position:"åç«¯å¼€å‘",joinDate:"2021-03-25",workYears:2.6,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee6"},{id:"EMP007",name:"å‘¨ä¹",department:"äººäº‹éƒ¨",position:"äººäº‹ç»ç†",joinDate:"2017-12-01",workYears:6,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee7"},{id:"EMP008",name:"å´å",department:"è´¢åŠ¡éƒ¨",position:"è´¢åŠ¡ä¸»ç®¡",joinDate:"2019-05-18",workYears:4.4,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee8"},{id:"EMP009",name:"éƒ‘åä¸€",department:"æŠ€æœ¯éƒ¨",position:"UIè®¾è®¡å¸ˆ",joinDate:"2022-07-03",workYears:1.3,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee9"},{id:"EMP010",name:"ç‹åäºŒ",department:"å¸‚åœºéƒ¨",position:"å¸‚åœºç»ç†",joinDate:"2016-08-22",workYears:7.1,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee10"},{id:"EMP011",name:"æåä¸‰",department:"æŠ€æœ¯éƒ¨",position:"æµ‹è¯•å·¥ç¨‹å¸ˆ",joinDate:"2021-09-14",workYears:2.1,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee11"},{id:"EMP012",name:"å¼ åå››",department:"äººäº‹éƒ¨",position:"æ‹›è˜ä¸“å‘˜",joinDate:"2020-12-05",workYears:2.8,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee12"},{id:"EMP013",name:"åˆ˜åäº”",department:"è´¢åŠ¡éƒ¨",position:"å‡ºçº³",joinDate:"2021-02-18",workYears:2.6,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee13"},{id:"EMP014",name:"é™ˆåå…­",department:"æŠ€æœ¯éƒ¨",position:"è¿ç»´å·¥ç¨‹å¸ˆ",joinDate:"2019-07-30",workYears:4.2,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee14"},{id:"EMP015",name:"æ¨åä¸ƒ",department:"å¸‚åœºéƒ¨",position:"å“ç‰Œä¸“å‘˜",joinDate:"2020-04-12",workYears:3.4,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee15"},{id:"EMP016",name:"é»„åå…«",department:"æŠ€æœ¯éƒ¨",position:"äº§å“ç»ç†",joinDate:"2018-11-25",workYears:5,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee16"},{id:"EMP017",name:"èµµåä¹",department:"äººäº‹éƒ¨",position:"åŸ¹è®­ä¸“å‘˜",joinDate:"2021-08-08",workYears:2,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee17"},{id:"EMP018",name:"å´äºŒå",department:"è´¢åŠ¡éƒ¨",position:"å®¡è®¡å‘˜",joinDate:"2020-06-15",workYears:3.2,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee18"},{id:"EMP019",name:"å¾äºŒä¸€",department:"æŠ€æœ¯éƒ¨",position:"ç®—æ³•å·¥ç¨‹å¸ˆ",joinDate:"2022-03-20",workYears:1.5,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee19"},{id:"EMP020",name:"å­™äºŒäºŒ",department:"å¸‚åœºéƒ¨",position:"é”€å”®ä»£è¡¨",joinDate:"2021-01-10",workYears:2.7,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee20"},{id:"EMP021",name:"é©¬äºŒä¸‰",department:"æŠ€æœ¯éƒ¨",position:"æ•°æ®åˆ†æå¸ˆ",joinDate:"2020-09-18",workYears:3,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee21"},{id:"EMP022",name:"æœ±äºŒå››",department:"äººäº‹éƒ¨",position:"è–ªé…¬ä¸“å‘˜",joinDate:"2019-12-03",workYears:3.8,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee22"},{id:"EMP023",name:"èƒ¡äºŒäº”",department:"è´¢åŠ¡éƒ¨",position:"æˆæœ¬ä¼šè®¡",joinDate:"2021-05-22",workYears:2.3,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee23"},{id:"EMP024",name:"éƒ­äºŒå…­",department:"æŠ€æœ¯éƒ¨",position:"ç§»åŠ¨å¼€å‘",joinDate:"2022-02-14",workYears:1.6,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee24"},{id:"EMP025",name:"ä½•äºŒä¸ƒ",department:"å¸‚åœºéƒ¨",position:"å…¬å…³ä¸“å‘˜",joinDate:"2020-07-28",workYears:3.1,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee25"},{id:"EMP026",name:"é«˜äºŒå…«",department:"æŠ€æœ¯éƒ¨",position:"å®‰å…¨å·¥ç¨‹å¸ˆ",joinDate:"2019-04-16",workYears:4.4,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee26"},{id:"EMP027",name:"æ—äºŒä¹",department:"äººäº‹éƒ¨",position:"ç»©æ•ˆä¸“å‘˜",joinDate:"2021-10-09",workYears:1.9,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee27"},{id:"EMP028",name:"ç½—ä¸‰å",department:"è´¢åŠ¡éƒ¨",position:"ç¨åŠ¡ä¸“å‘˜",joinDate:"2020-01-25",workYears:3.7,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee28"},{id:"EMP029",name:"æ¢ä¸‰ä¸€",department:"æŠ€æœ¯éƒ¨",position:"æ¶æ„å¸ˆ",joinDate:"2018-06-12",workYears:5.2,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee29"},{id:"EMP030",name:"è°¢ä¸‰äºŒ",department:"å¸‚åœºéƒ¨",position:"æ¸ é“ç»ç†",joinDate:"2019-03-08",workYears:4.5,status:"active",statusText:"åœ¨èŒ",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Employee30"}]),s=(0,S.KR)(!1),o=(0,S.KR)(!1),i=(0,S.KR)({id:"",name:"",department:"",position:"",joinDate:"",status:"",avatar:""}),n=(0,S.KR)({id:"",name:"",department:"",position:"",joinDate:"",status:""}),r=(0,S.KR)(!1),d=(0,S.KR)(null),c=()=>{e.push("/")},v=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);a.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||a.value.avatar}}catch(t){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),a.value={...s,username:s.username||"",avatar:a.value.avatar}}else a.value={...s,username:s.username||"",avatar:a.value.avatar}}catch(t){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},p=()=>{o.value=!1,i.value={id:"",name:"",department:"",position:"",joinDate:"",status:"",avatar:""},n.value={id:"",name:"",department:"",position:"",joinDate:"",status:""},s.value=!0},m=e=>{o.value=!0,i.value={...e},s.value=!0},k=()=>{s.value=!1},h=()=>{let e=!0;return n.value={id:"",name:"",department:"",position:"",joinDate:"",status:""},i.value.id||(n.value.id="å‘˜å·¥IDä¸èƒ½ä¸ºç©º",e=!1),i.value.name||(n.value.name="å‘˜å·¥å§“åä¸èƒ½ä¸ºç©º",e=!1),i.value.department||(n.value.department="éƒ¨é—¨ä¸èƒ½ä¸ºç©º",e=!1),i.value.position||(n.value.position="èŒä½ä¸èƒ½ä¸ºç©º",e=!1),i.value.joinDate||(n.value.joinDate="å…¥èŒæ—¥æœŸä¸èƒ½ä¸ºç©º",e=!1),i.value.status||(n.value.status="çŠ¶æ€ä¸èƒ½ä¸ºç©º",e=!1),e},b=()=>{if(h())if(o.value){const e=t.value.findIndex(e=>e.id===i.value.id);-1!==e?(t.value[e]={...t.value[e],...i.value},i.value.avatar?t.value[e].avatar=i.value.avatar:t.value[e].avatar="https://api.dicebear.com/7.x/avataaars/svg?seed="+t.value[e].id,k(),alert("å‘˜å·¥ä¿¡æ¯å·²æ›´æ–°")):alert("æœªæ‰¾åˆ°è¯¥å‘˜å·¥ï¼Œæ— æ³•æ›´æ–°")}else{const e="EMP"+(Math.max(...t.value.map(e=>parseInt(e.id.substring(3))))+1).toString().padStart(3,"0");t.value.push({id:e,name:i.value.name,department:i.value.department,position:i.value.position,joinDate:i.value.joinDate,status:i.value.status,statusText:i.value.status,workYears:g(i.value.joinDate),avatar:i.value.avatar||"https://api.dicebear.com/7.x/avataaars/svg?seed="+e}),k(),alert("å‘˜å·¥å·²æ·»åŠ ")}},g=e=>{const a=new Date(e),t=new Date;let s=t.getFullYear()-a.getFullYear();const l=t.getMonth()-a.getMonth();return(l<0||0===l&&t.getDate()<a.getDate())&&s--,s},L=e=>{d.value=e,r.value=!0},f=()=>{r.value=!1,d.value=null},y=()=>{if(d.value){const e=t.value.findIndex(e=>e.id===d.value.id);-1!==e?(t.value.splice(e,1),f(),alert("å‘˜å·¥å·²åˆ é™¤")):alert("æœªæ‰¾åˆ°è¯¥å‘˜å·¥ï¼Œæ— æ³•åˆ é™¤")}},x=()=>{v()};return(0,l.sV)(()=>{v(),window.addEventListener("userInfoUpdated",x)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",x)}),{userInfo:a,employees:t,goHome:c,showModal:s,isEditing:o,formData:i,formErrors:n,showAddModal:p,showEditModal:m,closeModal:k,submitForm:b,validateForm:h,calculateWorkYears:g,showDeleteConfirm:L,closeDeleteModal:f,confirmDelete:y,employeeToDelete:d}}});const Na=(0,r.A)(Pa,[["render",Oa],["__scopeId","data-v-2cb0b3aa"]]);var Ka=Na;const za={class:"approval-container"},Xa={class:"page-header"},Wa={class:"header-left"},ja={class:"title-section"},Ha={class:"page-title"},qa={class:"header-right"},Ja={class:"user-info"},Va={class:"approval-list"},$a={class:"list-header"},Qa={class:"approval-table"},Ba={class:"applicant-info"},Ga=["src","alt"],Ya={class:"actions"},Za=["onClick","disabled"],et=["onClick","disabled"],at={class:"modal-header"},tt={class:"modal-body"},st={class:"form-group"},lt={key:0,class:"form-error"},ot={class:"form-group"},it={class:"char-count"},nt={key:0,class:"form-error"},rt={key:0,class:"form-group"},dt={class:"date-range"},ct={key:1,class:"form-group"},ut={class:"form-group"},vt={class:"form-group"},pt={key:0,class:"form-error"},mt={class:"modal-footer"},kt=["disabled"],ht={key:0,class:"loading-spinner"},bt={class:"modal-header"},gt={class:"modal-body"},Lt={key:0,class:"form-group"},ft={class:"char-count"},yt={class:"modal-footer"};function xt(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",za,[(0,l.Lk)("div",Xa,[(0,l.Lk)("div",Wa,[(0,l.Lk)("div",ja,[(0,l.Lk)("h1",Ha,[(0,l.bF)(r,{type:"check-circle",class:"title-icon"}),a[20]||(a[20]=(0,l.eW)(" å®¡æ‰¹ç®¡ç† ",-1))]),a[21]||(a[21]=(0,l.Lk)("p",{class:"page-subtitle"},"ç®¡ç†å…¬å¸å„ç±»å®¡æ‰¹æµç¨‹ã€ç”³è¯·å’Œå®¡æ ¸çŠ¶æ€",-1))])]),(0,l.Lk)("div",qa,[(0,l.Lk)("div",Ja,[(0,l.bF)(d,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(c,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"home"}),a[22]||(a[22]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[22]},8,["onClick"])])]),a[38]||(a[38]=(0,l.Fv)('<div class="stats-overview" data-v-92240a62><div class="stat-card" data-v-92240a62><div class="stat-icon" data-v-92240a62>ğŸ“‹</div><div class="stat-content" data-v-92240a62><div class="stat-number" data-v-92240a62>23</div><div class="stat-label" data-v-92240a62>å¾…å®¡æ‰¹</div></div></div><div class="stat-card" data-v-92240a62><div class="stat-icon" data-v-92240a62>âœ…</div><div class="stat-content" data-v-92240a62><div class="stat-number" data-v-92240a62>156</div><div class="stat-label" data-v-92240a62>å·²é€šè¿‡</div></div></div><div class="stat-card" data-v-92240a62><div class="stat-icon" data-v-92240a62>âŒ</div><div class="stat-content" data-v-92240a62><div class="stat-number" data-v-92240a62>8</div><div class="stat-label" data-v-92240a62>å·²æ‹’ç»</div></div></div><div class="stat-card" data-v-92240a62><div class="stat-icon" data-v-92240a62>â±ï¸</div><div class="stat-content" data-v-92240a62><div class="stat-number" data-v-92240a62>2.4</div><div class="stat-label" data-v-92240a62>å¹³å‡å¤„ç†æ—¶é—´(å¤©)</div></div></div></div>',1)),(0,l.Lk)("div",Va,[(0,l.Lk)("div",$a,[a[23]||(a[23]=(0,l.Lk)("h2",null,"å®¡æ‰¹åˆ—è¡¨",-1)),(0,l.Lk)("button",{class:"btn-add",onClick:a[0]||(a[0]=(...a)=>e.showAddModal&&e.showAddModal(...a))},"+ æ–°å»ºå®¡æ‰¹")]),(0,l.Lk)("div",Qa,[(0,l.Lk)("table",null,[a[24]||(a[24]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ç”³è¯·ç¼–å·"),(0,l.Lk)("th",null,"ç”³è¯·äºº"),(0,l.Lk)("th",null,"ç”³è¯·ç±»å‹"),(0,l.Lk)("th",null,"ç”³è¯·å†…å®¹"),(0,l.Lk)("th",null,"ç”³è¯·æ—¶é—´"),(0,l.Lk)("th",null,"å®¡æ‰¹çŠ¶æ€"),(0,l.Lk)("th",null,"å®¡æ‰¹äºº"),(0,l.Lk)("th",null,"æ“ä½œ")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.approvals,a=>((0,l.uX)(),(0,l.CE)("tr",{key:a.id},[(0,l.Lk)("td",null,(0,v.v_)(a.id),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Ba,[(0,l.Lk)("img",{src:a.applicantAvatar,alt:a.applicant,class:"avatar"},null,8,Ga),(0,l.Lk)("span",null,(0,v.v_)(a.applicant),1)])]),(0,l.Lk)("td",null,(0,v.v_)(a.type),1),(0,l.Lk)("td",null,(0,v.v_)(a.content),1),(0,l.Lk)("td",null,(0,v.v_)(a.applyTime),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",a.status])},(0,v.v_)(a.statusText),3)]),(0,l.Lk)("td",null,(0,v.v_)(a.approver),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Ya,[(0,l.Lk)("button",{class:"btn-approve",onClick:t=>e.approveApproval(a),disabled:"pending"!==a.status},"é€šè¿‡",8,Za),(0,l.Lk)("button",{class:"btn-reject",onClick:t=>e.rejectApproval(a),disabled:"pending"!==a.status},"æ‹’ç»",8,et)])])]))),128))])])])]),e.showAddApprovalModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[13]||(a[13]=(...a)=>e.closeAddModal&&e.closeAddModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[12]||(a[12]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",at,[a[25]||(a[25]=(0,l.Lk)("h3",null,"æ–°å»ºå®¡æ‰¹ç”³è¯·",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeAddModal&&e.closeAddModal(...a))},"Ã—")]),(0,l.Lk)("div",tt,[(0,l.Lk)("form",{onSubmit:a[9]||(a[9]=(0,s.D$)((...a)=>e.submitApproval&&e.submitApproval(...a),["prevent"]))},[(0,l.Lk)("div",st,[a[27]||(a[27]=(0,l.Lk)("label",null,[(0,l.eW)("ç”³è¯·ç±»å‹ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.approvalForm.type=a),required:""},a[26]||(a[26]=[(0,l.Fv)('<option value="" data-v-92240a62>è¯·é€‰æ‹©ç”³è¯·ç±»å‹</option><option value="è¯·å‡ç”³è¯·" data-v-92240a62>è¯·å‡ç”³è¯·</option><option value="åŠ ç­ç”³è¯·" data-v-92240a62>åŠ ç­ç”³è¯·</option><option value="æŠ¥é”€ç”³è¯·" data-v-92240a62>æŠ¥é”€ç”³è¯·</option><option value="é‡‡è´­ç”³è¯·" data-v-92240a62>é‡‡è´­ç”³è¯·</option><option value="è½¬å²—ç”³è¯·" data-v-92240a62>è½¬å²—ç”³è¯·</option><option value="ç¦»èŒç”³è¯·" data-v-92240a62>ç¦»èŒç”³è¯·</option><option value="å…¶ä»–ç”³è¯·" data-v-92240a62>å…¶ä»–ç”³è¯·</option>',8)]),512),[[s.u1,e.approvalForm.type]]),e.formErrors.type?((0,l.uX)(),(0,l.CE)("div",lt,(0,v.v_)(e.formErrors.type),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ot,[a[28]||(a[28]=(0,l.Lk)("label",null,[(0,l.eW)("ç”³è¯·å†…å®¹ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.approvalForm.content=a),placeholder:"è¯·è¯¦ç»†æè¿°æ‚¨çš„ç”³è¯·å†…å®¹...",rows:"4",maxlength:"500",required:""},null,512),[[s.Jo,e.approvalForm.content]]),(0,l.Lk)("div",it,(0,v.v_)(e.approvalForm.content.length)+"/500",1),e.formErrors.content?((0,l.uX)(),(0,l.CE)("div",nt,(0,v.v_)(e.formErrors.content),1)):(0,l.Q3)("",!0)]),"è¯·å‡ç”³è¯·"===e.approvalForm.type?((0,l.uX)(),(0,l.CE)("div",rt,[a[30]||(a[30]=(0,l.Lk)("label",null,"è¯·å‡æ—¶é—´",-1)),(0,l.Lk)("div",dt,[(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":a[4]||(a[4]=a=>e.approvalForm.startDate=a),placeholder:"å¼€å§‹æ—¥æœŸ"},null,512),[[s.Jo,e.approvalForm.startDate]]),a[29]||(a[29]=(0,l.Lk)("span",{class:"date-separator"},"è‡³",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":a[5]||(a[5]=a=>e.approvalForm.endDate=a),placeholder:"ç»“æŸæ—¥æœŸ"},null,512),[[s.Jo,e.approvalForm.endDate]])])])):(0,l.Q3)("",!0),"æŠ¥é”€ç”³è¯·"===e.approvalForm.type?((0,l.uX)(),(0,l.CE)("div",ct,[a[31]||(a[31]=(0,l.Lk)("label",null,"æŠ¥é”€é‡‘é¢",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=a=>e.approvalForm.amount=a),placeholder:"è¯·è¾“å…¥æŠ¥é”€é‡‘é¢",step:"0.01",min:"0"},null,512),[[s.Jo,e.approvalForm.amount]])])):(0,l.Q3)("",!0),(0,l.Lk)("div",ut,[a[33]||(a[33]=(0,l.Lk)("label",null,"ç´§æ€¥ç¨‹åº¦",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[7]||(a[7]=a=>e.approvalForm.urgency=a)},a[32]||(a[32]=[(0,l.Lk)("option",{value:"low"},"æ™®é€š",-1),(0,l.Lk)("option",{value:"medium"},"ç´§æ€¥",-1),(0,l.Lk)("option",{value:"high"},"éå¸¸ç´§æ€¥",-1)]),512),[[s.u1,e.approvalForm.urgency]])]),(0,l.Lk)("div",vt,[a[35]||(a[35]=(0,l.Lk)("label",null,[(0,l.eW)("å®¡æ‰¹äºº "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[8]||(a[8]=a=>e.approvalForm.approver=a),required:""},a[34]||(a[34]=[(0,l.Fv)('<option value="" data-v-92240a62>è¯·é€‰æ‹©å®¡æ‰¹äºº</option><option value="å¼ ç»ç†" data-v-92240a62>å¼ ç»ç†</option><option value="æä¸»ç®¡" data-v-92240a62>æä¸»ç®¡</option><option value="ç‹æ€»ç›‘" data-v-92240a62>ç‹æ€»ç›‘</option><option value="èµµæ€»è£" data-v-92240a62>èµµæ€»è£</option>',5)]),512),[[s.u1,e.approvalForm.approver]]),e.formErrors.approver?((0,l.uX)(),(0,l.CE)("div",pt,(0,v.v_)(e.formErrors.approver),1)):(0,l.Q3)("",!0)])],32)]),(0,l.Lk)("div",mt,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[10]||(a[10]=(...a)=>e.closeAddModal&&e.closeAddModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[11]||(a[11]=(...a)=>e.submitApproval&&e.submitApproval(...a)),disabled:e.submitting},[e.submitting?((0,l.uX)(),(0,l.CE)("span",ht)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,v.v_)(e.submitting?"æäº¤ä¸­...":"æäº¤ç”³è¯·"),1)],8,kt)])])])):(0,l.Q3)("",!0),e.showConfirmModal?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"modal-overlay",onClick:a[19]||(a[19]=(...a)=>e.closeConfirmModal&&e.closeConfirmModal(...a))},[(0,l.Lk)("div",{class:"modal-content confirm-modal",onClick:a[18]||(a[18]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",bt,[(0,l.Lk)("h3",null,(0,v.v_)("approve"===e.confirmAction?"å®¡æ‰¹é€šè¿‡":"å®¡æ‰¹æ‹’ç»"),1),(0,l.Lk)("button",{class:"modal-close",onClick:a[14]||(a[14]=(...a)=>e.closeConfirmModal&&e.closeConfirmModal(...a))},"Ã—")]),(0,l.Lk)("div",gt,[(0,l.Lk)("p",null,[(0,l.eW)("ç¡®å®šè¦"+(0,v.v_)("approve"===e.confirmAction?"é€šè¿‡":"æ‹’ç»")+"ç”³è¯· ",1),(0,l.Lk)("strong",null,(0,v.v_)(e.selectedApproval?.id),1),a[36]||(a[36]=(0,l.eW)(" å—ï¼Ÿ",-1))]),"reject"===e.confirmAction?((0,l.uX)(),(0,l.CE)("div",Lt,[a[37]||(a[37]=(0,l.Lk)("label",null,[(0,l.eW)("æ‹’ç»åŸå›  "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[15]||(a[15]=a=>e.rejectReason=a),placeholder:"è¯·è¾“å…¥æ‹’ç»åŸå› ...",rows:"3",maxlength:"200"},null,512),[[s.Jo,e.rejectReason]]),(0,l.Lk)("div",ft,(0,v.v_)(e.rejectReason.length)+"/200",1)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",yt,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[16]||(a[16]=(...a)=>e.closeConfirmModal&&e.closeConfirmModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:(0,v.C4)("approve"===e.confirmAction?"btn-approve-confirm":"btn-reject-confirm"),onClick:a[17]||(a[17]=(...a)=>e.confirmApproval&&e.confirmApproval(...a))},(0,v.v_)("approve"===e.confirmAction?"ç¡®è®¤é€šè¿‡":"ç¡®è®¤æ‹’ç»"),3)])])])):(0,l.Q3)("",!0)])}var Tt=(0,l.pM)({name:"Approval",setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=ApprovalUser1"}),t=(0,S.KR)(!1),s=(0,S.KR)(!1),o=(0,S.KR)(""),i=(0,S.KR)(null),n=(0,S.KR)(!1),r=(0,S.KR)(""),d=(0,S.KR)({type:"",content:"",startDate:"",endDate:"",amount:"",urgency:"low",approver:""}),c=(0,S.KR)({type:"",content:"",approver:""}),v=(0,S.KR)([{id:"AP001",applicant:"å¼ ä¸‰",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval1",type:"è¯·å‡ç”³è¯·",content:"å¹´å‡ç”³è¯·3å¤©",applyTime:"2024-01-15 09:30:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"æç»ç†"},{id:"AP002",applicant:"æå››",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval2",type:"é‡‡è´­ç”³è¯·",content:"åŠå…¬è®¾å¤‡é‡‡è´­",applyTime:"2024-01-14 14:20:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"ç‹æ€»ç›‘"},{id:"AP003",applicant:"ç‹äº”",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval3",type:"æŠ¥é”€ç”³è¯·",content:"å·®æ—…è´¹ç”¨æŠ¥é”€",applyTime:"2024-01-13 16:45:00",status:"rejected",statusText:"å·²æ‹’ç»",approver:"èµµç»ç†"},{id:"AP004",applicant:"èµµå…­",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval4",type:"åŠ ç­ç”³è¯·",content:"é¡¹ç›®ç´§æ€¥åŠ ç­",applyTime:"2024-01-12 18:45:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å­™ä¸»ç®¡"},{id:"AP005",applicant:"é’±ä¸ƒ",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval5",type:"åŸ¹è®­ç”³è¯·",content:"ä¸“ä¸šæŠ€èƒ½åŸ¹è®­",applyTime:"2024-01-11 16:30:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å‘¨ç»ç†"},{id:"AP006",applicant:"å­™å…«",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval6",type:"è°ƒå²—ç”³è¯·",content:"éƒ¨é—¨å†…éƒ¨è°ƒå²—",applyTime:"2024-01-10 10:20:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å´æ€»ç›‘"},{id:"AP007",applicant:"å‘¨ä¹",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval7",type:"è®¾å¤‡ç”³è¯·",content:"æ–°å‘˜å·¥è®¾å¤‡é…ç½®",applyTime:"2024-01-09 15:10:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"éƒ‘ç»ç†"},{id:"AP008",applicant:"å´å",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval8",type:"ä¼šè®®ç”³è¯·",content:"é¡¹ç›®è¯„å®¡ä¼šè®®",applyTime:"2024-01-08 13:25:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"ç‹ç»ç†"},{id:"AP009",applicant:"éƒ‘åä¸€",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval9",type:"å¤–å‹¤ç”³è¯·",content:"å®¢æˆ·ç°åœºæœåŠ¡",applyTime:"2024-01-07 09:15:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"ææ€»ç›‘"},{id:"AP010",applicant:"ç‹åäºŒ",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval10",type:"é¢„ç®—ç”³è¯·",content:"å­£åº¦è¥é”€é¢„ç®—",applyTime:"2024-01-06 14:40:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å¼ æ€»ç›‘"},{id:"AP011",applicant:"æåä¸‰",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval11",type:"åˆåŒç”³è¯·",content:"ä¾›åº”å•†åˆåŒç­¾ç½²",applyTime:"2024-01-05 11:30:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"èµµç»ç†"},{id:"AP012",applicant:"å¼ åå››",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval12",type:"æ‹›è˜ç”³è¯·",content:"æŠ€æœ¯å²—ä½æ‹›è˜",applyTime:"2024-01-04 16:20:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"é’±ä¸»ç®¡"},{id:"AP013",applicant:"åˆ˜åäº”",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval13",type:"ç¦åˆ©ç”³è¯·",content:"å‘˜å·¥ç”Ÿæ—¥ç¦åˆ©",applyTime:"2024-01-03 10:15:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å­™ç»ç†"},{id:"AP014",applicant:"é™ˆåå…­",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval14",type:"é¡¹ç›®ç”³è¯·",content:"æ–°äº§å“å¼€å‘é¡¹ç›®",applyTime:"2024-01-02 14:50:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å‘¨æ€»ç›‘"},{id:"AP015",applicant:"æ¨åä¸ƒ",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval15",type:"åŸ¹è®­ç”³è¯·",content:"ç®¡ç†æŠ€èƒ½åŸ¹è®­",applyTime:"2024-01-01 09:00:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å´ç»ç†"},{id:"AP016",applicant:"é»„åå…«",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval16",type:"è®¾å¤‡ç”³è¯·",content:"æœåŠ¡å™¨å‡çº§",applyTime:"2023-12-31 17:30:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"éƒ‘æ€»ç›‘"},{id:"AP017",applicant:"èµµåä¹",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval17",type:"æ´»åŠ¨ç”³è¯·",content:"å›¢é˜Ÿå»ºè®¾æ´»åŠ¨",applyTime:"2023-12-30 13:45:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"ç‹ç»ç†"},{id:"AP018",applicant:"å´äºŒå",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval18",type:"æŠ¥é”€ç”³è¯·",content:"ä¸šåŠ¡æ‹›å¾…è´¹",applyTime:"2023-12-29 15:20:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"æä¸»ç®¡"},{id:"AP019",applicant:"å¾äºŒä¸€",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval19",type:"è¯·å‡ç”³è¯·",content:"ç—…å‡ç”³è¯·2å¤©",applyTime:"2023-12-28 08:30:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å¼ ç»ç†"},{id:"AP020",applicant:"å­™äºŒäºŒ",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval20",type:"é‡‡è´­ç”³è¯·",content:"åŠå…¬ç”¨å“é‡‡è´­",applyTime:"2023-12-27 11:15:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å‘¨ç»ç†"},{id:"AP021",applicant:"é©¬äºŒä¸‰",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval21",type:"åŠ ç­ç”³è¯·",content:"ç³»ç»Ÿç»´æŠ¤åŠ ç­",applyTime:"2023-12-26 19:00:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"èµµä¸»ç®¡"},{id:"AP022",applicant:"æœ±äºŒå››",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval22",type:"åŸ¹è®­ç”³è¯·",content:"æ–°ç³»ç»ŸåŸ¹è®­",applyTime:"2023-12-25 14:30:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"é’±ç»ç†"},{id:"AP023",applicant:"èƒ¡äºŒäº”",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval23",type:"åˆåŒç”³è¯·",content:"å®¢æˆ·åˆåŒç»­ç­¾",applyTime:"2023-12-24 10:45:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å­™æ€»ç›‘"},{id:"AP024",applicant:"éƒ­äºŒå…­",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval24",type:"è®¾å¤‡ç”³è¯·",content:"æµ‹è¯•è®¾å¤‡é…ç½®",applyTime:"2023-12-23 16:20:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å‘¨ç»ç†"},{id:"AP025",applicant:"ä½•äºŒä¸ƒ",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval25",type:"ä¼šè®®ç”³è¯·",content:"å­£åº¦æ€»ç»“ä¼šè®®",applyTime:"2023-12-22 13:15:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å´ä¸»ç®¡"},{id:"AP026",applicant:"é«˜äºŒå…«",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval26",type:"å¤–å‹¤ç”³è¯·",content:"æŠ€æœ¯æ”¯æŒå¤–å‹¤",applyTime:"2023-12-21 09:30:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"éƒ‘ç»ç†"},{id:"AP027",applicant:"æ—äºŒä¹",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval27",type:"é¢„ç®—ç”³è¯·",content:"æŠ€æœ¯ç ”å‘é¢„ç®—",applyTime:"2023-12-20 15:40:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"ç‹æ€»ç›‘"},{id:"AP028",applicant:"ç½—ä¸‰å",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval28",type:"æ‹›è˜ç”³è¯·",content:"é”€å”®å²—ä½æ‹›è˜",applyTime:"2023-12-19 11:25:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"æç»ç†"},{id:"AP029",applicant:"æ¢ä¸‰ä¸€",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval29",type:"ç¦åˆ©ç”³è¯·",content:"å¹´ç»ˆå¥–å‘æ”¾",applyTime:"2023-12-18 14:50:00",status:"approved",statusText:"å·²é€šè¿‡",approver:"å¼ æ€»ç›‘"},{id:"AP030",applicant:"è°¢ä¸‰äºŒ",applicantAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Approval30",type:"é¡¹ç›®ç”³è¯·",content:"å¸‚åœºè°ƒç ”é¡¹ç›®",applyTime:"2023-12-17 10:15:00",status:"pending",statusText:"å¾…å®¡æ‰¹",approver:"å‘¨ç»ç†"}]),p=()=>{e.push("/")},m=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);a.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||a.value.avatar}}catch(t){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),a.value={...s,username:s.username||"",avatar:a.value.avatar}}else a.value={...s,username:s.username||"",avatar:a.value.avatar}}catch(t){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},k=()=>{t.value=!0,d.value={type:"",content:"",startDate:"",endDate:"",amount:"",urgency:"low",approver:""},c.value={type:"",content:"",approver:""}},h=()=>{t.value=!1,d.value={type:"",content:"",startDate:"",endDate:"",amount:"",urgency:"low",approver:""},c.value={type:"",content:"",approver:""}},b=async()=>{let e=!1;if(d.value.type?c.value.type="":(c.value.type="è¯·é€‰æ‹©ç”³è¯·ç±»å‹",e=!0),d.value.content.trim()?c.value.content="":(c.value.content="è¯·è¾“å…¥ç”³è¯·å†…å®¹",e=!0),d.value.approver?c.value.approver="":(c.value.approver="è¯·é€‰æ‹©å®¡æ‰¹äºº",e=!0),!e){n.value=!0;try{await new Promise(e=>setTimeout(e,2e3));const e={id:`AP${String(v.value.length+1).padStart(3,"0")}`,applicant:a.value.username||"å½“å‰ç”¨æˆ·",applicantAvatar:a.value.avatar,type:d.value.type,content:d.value.content,applyTime:(new Date).toLocaleString("zh-CN"),status:"pending",statusText:"å¾…å®¡æ‰¹",approver:d.value.approver,startDate:d.value.startDate,endDate:d.value.endDate,amount:d.value.amount,urgency:d.value.urgency};v.value.unshift(e),h(),alert("å®¡æ‰¹ç”³è¯·æäº¤æˆåŠŸï¼")}catch(t){alert("æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æäº¤é”™è¯¯:",t)}finally{n.value=!1}}},g=e=>{"pending"===e.status&&(i.value=e,o.value="approve",s.value=!0)},L=e=>{"pending"===e.status&&(i.value=e,o.value="reject",r.value="",s.value=!0)},f=()=>{s.value=!1,i.value=null,o.value="",r.value=""},y=()=>{if(!i.value)return;if("reject"===o.value&&!r.value.trim())return void alert("è¯·è¾“å…¥æ‹’ç»åŸå› ");const e=i.value,a=(new Date).toLocaleString("zh-CN");"approve"===o.value?(e.status="approved",e.statusText="å·²é€šè¿‡",e.approveTime=a,alert(`å®¡æ‰¹ ${e.id} å·²é€šè¿‡`)):(e.status="rejected",e.statusText="å·²æ‹’ç»",e.approveTime=a,e.rejectReason=r.value,alert(`å®¡æ‰¹ ${e.id} å·²æ‹’ç»`)),f()},x=()=>{m()};return(0,l.sV)(()=>{m(),window.addEventListener("userInfoUpdated",x)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",x)}),{userInfo:a,approvals:v,goHome:p,showAddApprovalModal:t,showConfirmModal:s,confirmAction:o,selectedApproval:i,submitting:n,rejectReason:r,approvalForm:d,formErrors:c,showAddModal:k,closeAddModal:h,submitApproval:b,approveApproval:g,rejectApproval:L,closeConfirmModal:f,confirmApproval:y}}});const At=(0,r.A)(Tt,[["render",xt],["__scopeId","data-v-92240a62"]]);var wt=At;const Ct={class:"attendance-container"},Ft={class:"page-header"},_t={class:"header-left"},Et={class:"title-section"},It={class:"page-title"},St={class:"header-right"},Mt={class:"user-info"},Dt={class:"attendance-list"},Ut={class:"list-header"},Rt={class:"attendance-table"},Ot={class:"employee-info"},Pt=["src","alt"],Nt={class:"modal-header"},Kt={class:"modal-body"},zt={class:"form-group"},Xt=["value"],Wt={key:0,class:"form-error"},jt={class:"form-group"},Ht={key:0,class:"form-error"},qt={class:"form-group"},Jt={key:0,class:"form-error"},Vt={class:"form-group"},$t={class:"form-group"},Qt={key:0,class:"form-error"},Bt={class:"form-group"},Gt={class:"form-group"},Yt={class:"char-count"},Zt={class:"modal-footer"},es=["disabled"],as={key:0,class:"loading-spinner"};function ts(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",Ct,[(0,l.Lk)("div",Ft,[(0,l.Lk)("div",_t,[(0,l.Lk)("div",Et,[(0,l.Lk)("h1",It,[(0,l.bF)(r,{type:"clock-circle",class:"title-icon"}),a[14]||(a[14]=(0,l.eW)(" è€ƒå‹¤ç®¡ç† ",-1))]),a[15]||(a[15]=(0,l.Lk)("p",{class:"page-subtitle"},"ç®¡ç†å‘˜å·¥è€ƒå‹¤è®°å½•ã€å‡ºå‹¤ç»Ÿè®¡å’Œå·¥æ—¶ç®¡ç†",-1))])]),(0,l.Lk)("div",St,[(0,l.Lk)("div",Mt,[(0,l.bF)(d,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(c,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"home"}),a[16]||(a[16]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[16]},8,["onClick"])])]),a[29]||(a[29]=(0,l.Fv)('<div class="stats-overview" data-v-32d7dd62><div class="stat-card" data-v-32d7dd62><div class="stat-icon" data-v-32d7dd62>ğŸ‘¥</div><div class="stat-content" data-v-32d7dd62><div class="stat-number" data-v-32d7dd62>142</div><div class="stat-label" data-v-32d7dd62>ä»Šæ—¥å‡ºå‹¤</div></div></div><div class="stat-card" data-v-32d7dd62><div class="stat-icon" data-v-32d7dd62>â°</div><div class="stat-content" data-v-32d7dd62><div class="stat-number" data-v-32d7dd62>3</div><div class="stat-label" data-v-32d7dd62>è¿Ÿåˆ°äººæ•°</div></div></div><div class="stat-card" data-v-32d7dd62><div class="stat-icon" data-v-32d7dd62>ğŸ“…</div><div class="stat-content" data-v-32d7dd62><div class="stat-number" data-v-32d7dd62>5</div><div class="stat-label" data-v-32d7dd62>è¯·å‡äººæ•°</div></div></div><div class="stat-card" data-v-32d7dd62><div class="stat-icon" data-v-32d7dd62>ğŸ’¼</div><div class="stat-content" data-v-32d7dd62><div class="stat-number" data-v-32d7dd62>28</div><div class="stat-label" data-v-32d7dd62>åŠ ç­å°æ—¶</div></div></div></div>',1)),(0,l.Lk)("div",Dt,[(0,l.Lk)("div",Ut,[a[17]||(a[17]=(0,l.Lk)("h2",null,"è€ƒå‹¤è®°å½•",-1)),(0,l.Lk)("button",{class:"btn-add",onClick:a[0]||(a[0]=(...a)=>e.showAddModal&&e.showAddModal(...a))},"+ æ·»åŠ è®°å½•")]),(0,l.Lk)("div",Rt,[(0,l.Lk)("table",null,[a[18]||(a[18]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"å‘˜å·¥ID"),(0,l.Lk)("th",null,"å‘˜å·¥å§“å"),(0,l.Lk)("th",null,"æ—¥æœŸ"),(0,l.Lk)("th",null,"ä¸Šç­æ—¶é—´"),(0,l.Lk)("th",null,"ä¸‹ç­æ—¶é—´"),(0,l.Lk)("th",null,"å·¥ä½œæ—¶é•¿"),(0,l.Lk)("th",null,"çŠ¶æ€"),(0,l.Lk)("th",null,"å¤‡æ³¨")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.attendanceRecords,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,v.v_)(e.id),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Ot,[(0,l.Lk)("img",{src:e.employeeAvatar,alt:e.employeeName,class:"avatar"},null,8,Pt),(0,l.Lk)("span",null,(0,v.v_)(e.employeeName),1)])]),(0,l.Lk)("td",null,(0,v.v_)(e.date),1),(0,l.Lk)("td",null,(0,v.v_)(e.checkIn),1),(0,l.Lk)("td",null,(0,v.v_)(e.checkOut),1),(0,l.Lk)("td",null,(0,v.v_)(e.workHours)+"å°æ—¶",1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",e.status])},(0,v.v_)(e.statusText),3)]),(0,l.Lk)("td",null,(0,v.v_)(e.remark),1)]))),128))])])])]),e.showAddAttendanceModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[13]||(a[13]=(...a)=>e.closeAddModal&&e.closeAddModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[12]||(a[12]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",Nt,[a[19]||(a[19]=(0,l.Lk)("h3",null,"æ·»åŠ è€ƒå‹¤è®°å½•",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeAddModal&&e.closeAddModal(...a))},"Ã—")]),(0,l.Lk)("div",Kt,[(0,l.Lk)("form",{onSubmit:a[9]||(a[9]=(0,s.D$)((...a)=>e.submitAttendance&&e.submitAttendance(...a),["prevent"]))},[(0,l.Lk)("div",zt,[a[21]||(a[21]=(0,l.Lk)("label",null,[(0,l.eW)("å‘˜å·¥å§“å "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.attendanceForm.employeeId=a),required:""},[a[20]||(a[20]=(0,l.Lk)("option",{value:""},"è¯·é€‰æ‹©å‘˜å·¥",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.employeeList,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,v.v_)(e.name),9,Xt))),128))],512),[[s.u1,e.attendanceForm.employeeId]]),e.formErrors.employeeId?((0,l.uX)(),(0,l.CE)("div",Wt,(0,v.v_)(e.formErrors.employeeId),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",jt,[a[22]||(a[22]=(0,l.Lk)("label",null,[(0,l.eW)("è€ƒå‹¤æ—¥æœŸ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":a[3]||(a[3]=a=>e.attendanceForm.date=a),required:""},null,512),[[s.Jo,e.attendanceForm.date]]),e.formErrors.date?((0,l.uX)(),(0,l.CE)("div",Ht,(0,v.v_)(e.formErrors.date),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",qt,[a[23]||(a[23]=(0,l.Lk)("label",null,[(0,l.eW)("ä¸Šç­æ—¶é—´ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"time","onUpdate:modelValue":a[4]||(a[4]=a=>e.attendanceForm.checkIn=a),required:""},null,512),[[s.Jo,e.attendanceForm.checkIn]]),e.formErrors.checkIn?((0,l.uX)(),(0,l.CE)("div",Jt,(0,v.v_)(e.formErrors.checkIn),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Vt,[a[24]||(a[24]=(0,l.Lk)("label",null,"ä¸‹ç­æ—¶é—´",-1)),(0,l.bo)((0,l.Lk)("input",{type:"time","onUpdate:modelValue":a[5]||(a[5]=a=>e.attendanceForm.checkOut=a)},null,512),[[s.Jo,e.attendanceForm.checkOut]])]),(0,l.Lk)("div",$t,[a[26]||(a[26]=(0,l.Lk)("label",null,[(0,l.eW)("è€ƒå‹¤çŠ¶æ€ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[6]||(a[6]=a=>e.attendanceForm.status=a),required:""},a[25]||(a[25]=[(0,l.Fv)('<option value="" data-v-32d7dd62>è¯·é€‰æ‹©çŠ¶æ€</option><option value="normal" data-v-32d7dd62>æ­£å¸¸å‡ºå‹¤</option><option value="late" data-v-32d7dd62>è¿Ÿåˆ°</option><option value="early" data-v-32d7dd62>æ—©é€€</option><option value="absent" data-v-32d7dd62>ç¼ºå‹¤</option><option value="leave" data-v-32d7dd62>è¯·å‡</option><option value="overtime" data-v-32d7dd62>åŠ ç­</option>',7)]),512),[[s.u1,e.attendanceForm.status]]),e.formErrors.status?((0,l.uX)(),(0,l.CE)("div",Qt,(0,v.v_)(e.formErrors.status),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Bt,[a[27]||(a[27]=(0,l.Lk)("label",null,"å·¥ä½œæ—¶é•¿",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=a=>e.attendanceForm.workHours=a),placeholder:"è¯·è¾“å…¥å·¥ä½œæ—¶é•¿ï¼ˆå°æ—¶ï¼‰",step:"0.5",min:"0",max:"24"},null,512),[[s.Jo,e.attendanceForm.workHours]])]),(0,l.Lk)("div",Gt,[a[28]||(a[28]=(0,l.Lk)("label",null,"å¤‡æ³¨",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[8]||(a[8]=a=>e.attendanceForm.remark=a),placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯...",rows:"3",maxlength:"200"},null,512),[[s.Jo,e.attendanceForm.remark]]),(0,l.Lk)("div",Yt,(0,v.v_)(e.attendanceForm.remark.length)+"/200",1)])],32)]),(0,l.Lk)("div",Zt,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[10]||(a[10]=(...a)=>e.closeAddModal&&e.closeAddModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[11]||(a[11]=(...a)=>e.submitAttendance&&e.submitAttendance(...a)),disabled:e.submitting},[e.submitting?((0,l.uX)(),(0,l.CE)("span",as)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,v.v_)(e.submitting?"æäº¤ä¸­...":"æ·»åŠ è®°å½•"),1)],8,es)])])])):(0,l.Q3)("",!0)])}var ss=(0,l.pM)({name:"Attendance",setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=AttendanceUser1"}),t=(0,S.KR)(!1),s=(0,S.KR)(!1),o=(0,S.KR)({employeeId:"",date:"",checkIn:"",checkOut:"",status:"",workHours:"",remark:""}),i=(0,S.KR)({employeeId:"",date:"",checkIn:"",status:""}),n=(0,S.KR)([{id:"EMP001",name:"å¼ ä¸‰"},{id:"EMP002",name:"æå››"},{id:"EMP003",name:"ç‹äº”"},{id:"EMP004",name:"èµµå…­"},{id:"EMP005",name:"é’±ä¸ƒ"},{id:"EMP006",name:"å­™å…«"},{id:"EMP007",name:"å‘¨ä¹"},{id:"EMP008",name:"å´å"},{id:"EMP009",name:"éƒ‘åä¸€"},{id:"EMP010",name:"ç‹åäºŒ"},{id:"EMP011",name:"æåä¸‰"},{id:"EMP012",name:"å¼ åå››"},{id:"EMP013",name:"åˆ˜åäº”"},{id:"EMP014",name:"é™ˆåå…­"},{id:"EMP015",name:"æ¨åä¸ƒ"},{id:"EMP016",name:"é»„åå…«"},{id:"EMP017",name:"èµµåä¹"},{id:"EMP018",name:"å´äºŒå"},{id:"EMP019",name:"å¾äºŒä¸€"},{id:"EMP020",name:"å­™äºŒäºŒ"},{id:"EMP021",name:"é©¬äºŒä¸‰"},{id:"EMP022",name:"æœ±äºŒå››"},{id:"EMP023",name:"èƒ¡äºŒäº”"},{id:"EMP024",name:"éƒ­äºŒå…­"},{id:"EMP025",name:"ä½•äºŒä¸ƒ"},{id:"EMP026",name:"é«˜äºŒå…«"},{id:"EMP027",name:"æ—äºŒä¹"},{id:"EMP028",name:"ç½—ä¸‰å"},{id:"EMP029",name:"æ¢ä¸‰ä¸€"},{id:"EMP030",name:"è°¢ä¸‰äºŒ"}]),r=(0,S.KR)([{id:"AT001",employeeName:"å¼ ä¸‰",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance1",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT002",employeeName:"æå››",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance2",date:"2024-01-15",checkIn:"09:15",checkOut:"18:00",workHours:8.75,status:"late",statusText:"è¿Ÿåˆ°",remark:"è¿Ÿåˆ°15åˆ†é’Ÿ"},{id:"AT003",employeeName:"ç‹äº”",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance3",date:"2024-01-15",checkIn:"09:00",checkOut:"19:00",workHours:10,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­1å°æ—¶"},{id:"AT004",employeeName:"èµµå…­",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance4",date:"2024-01-15",checkIn:"08:30",checkOut:"19:30",workHours:10,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­2å°æ—¶"},{id:"AT005",employeeName:"é’±ä¸ƒ",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance5",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT006",employeeName:"å­™å…«",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance6",date:"2024-01-15",checkIn:"08:45",checkOut:"17:45",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT007",employeeName:"å‘¨ä¹",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance7",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT008",employeeName:"å´å",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance8",date:"2024-01-15",checkIn:"08:30",checkOut:"17:30",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT009",employeeName:"éƒ‘åä¸€",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance9",date:"2024-01-15",checkIn:"09:00",checkOut:"19:00",workHours:9,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­1å°æ—¶"},{id:"AT010",employeeName:"ç‹åäºŒ",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance10",date:"2024-01-15",checkIn:"08:45",checkOut:"17:45",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT011",employeeName:"æåä¸‰",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance11",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT012",employeeName:"å¼ åå››",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance12",date:"2024-01-15",checkIn:"08:30",checkOut:"17:30",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT013",employeeName:"åˆ˜åäº”",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance13",date:"2024-01-15",checkIn:"09:15",checkOut:"18:15",workHours:8.75,status:"late",statusText:"è¿Ÿåˆ°",remark:"è¿Ÿåˆ°15åˆ†é’Ÿ"},{id:"AT014",employeeName:"é™ˆåå…­",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance14",date:"2024-01-15",checkIn:"08:45",checkOut:"19:45",workHours:10,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­2å°æ—¶"},{id:"AT015",employeeName:"æ¨åä¸ƒ",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance15",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT016",employeeName:"é»„åå…«",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance16",date:"2024-01-15",checkIn:"08:30",checkOut:"17:30",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT017",employeeName:"èµµåä¹",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance17",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT018",employeeName:"å´äºŒå",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance18",date:"2024-01-15",checkIn:"08:45",checkOut:"17:45",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT019",employeeName:"å¾äºŒä¸€",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance19",date:"2024-01-15",checkIn:"09:00",checkOut:"19:00",workHours:9,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­1å°æ—¶"},{id:"AT020",employeeName:"å­™äºŒäºŒ",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance20",date:"2024-01-15",checkIn:"08:30",checkOut:"17:30",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT021",employeeName:"é©¬äºŒä¸‰",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance21",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT022",employeeName:"æœ±äºŒå››",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance22",date:"2024-01-15",checkIn:"08:45",checkOut:"17:45",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT023",employeeName:"èƒ¡äºŒäº”",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance23",date:"2024-01-15",checkIn:"09:15",checkOut:"18:15",workHours:8.75,status:"late",statusText:"è¿Ÿåˆ°",remark:"è¿Ÿåˆ°15åˆ†é’Ÿ"},{id:"AT024",employeeName:"éƒ­äºŒå…­",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance24",date:"2024-01-15",checkIn:"08:30",checkOut:"19:30",workHours:10,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­2å°æ—¶"},{id:"AT025",employeeName:"ä½•äºŒä¸ƒ",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance25",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT026",employeeName:"é«˜äºŒå…«",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance26",date:"2024-01-15",checkIn:"08:45",checkOut:"17:45",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT027",employeeName:"æ—äºŒä¹",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance27",date:"2024-01-15",checkIn:"09:00",checkOut:"18:00",workHours:9,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT028",employeeName:"ç½—ä¸‰å",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance28",date:"2024-01-15",checkIn:"08:30",checkOut:"17:30",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "},{id:"AT029",employeeName:"æ¢ä¸‰ä¸€",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance29",date:"2024-01-15",checkIn:"09:00",checkOut:"19:00",workHours:9,status:"overtime",statusText:"åŠ ç­",remark:"åŠ ç­1å°æ—¶"},{id:"AT030",employeeName:"è°¢ä¸‰äºŒ",employeeAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Attendance30",date:"2024-01-15",checkIn:"08:45",checkOut:"17:45",workHours:8,status:"normal",statusText:"æ­£å¸¸",remark:"æ— "}]),d=()=>{e.push("/")},c=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);a.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||a.value.avatar}}catch(t){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),a.value={...s,username:s.username||"",avatar:a.value.avatar}}else a.value={...s,username:s.username||"",avatar:a.value.avatar}}catch(t){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},v=()=>{t.value=!0,o.value={employeeId:"",date:(new Date).toISOString().split("T")[0],checkIn:"09:00",checkOut:"18:00",status:"",workHours:"",remark:""},i.value={employeeId:"",date:"",checkIn:"",status:""}},p=()=>{t.value=!1,o.value={employeeId:"",date:"",checkIn:"",checkOut:"",status:"",workHours:"",remark:""},i.value={employeeId:"",date:"",checkIn:"",status:""}},m=async()=>{let e=!1;if(o.value.employeeId?i.value.employeeId="":(i.value.employeeId="è¯·é€‰æ‹©å‘˜å·¥",e=!0),o.value.date?i.value.date="":(i.value.date="è¯·é€‰æ‹©è€ƒå‹¤æ—¥æœŸ",e=!0),o.value.checkIn?i.value.checkIn="":(i.value.checkIn="è¯·é€‰æ‹©ä¸Šç­æ—¶é—´",e=!0),o.value.status?i.value.status="":(i.value.status="è¯·é€‰æ‹©è€ƒå‹¤çŠ¶æ€",e=!0),!e){s.value=!0;try{await new Promise(e=>setTimeout(e,2e3));const e=n.value.find(e=>e.id===o.value.employeeId);if(!e)return void alert("å‘˜å·¥ä¿¡æ¯ä¸å­˜åœ¨");let a=0;if(o.value.checkIn&&o.value.checkOut){const e=new Date(`2000-01-01 ${o.value.checkIn}`),t=new Date(`2000-01-01 ${o.value.checkOut}`);a=Math.max(0,(t-e)/36e5)}else o.value.workHours&&(a=parseFloat(o.value.workHours));const t={normal:"æ­£å¸¸",late:"è¿Ÿåˆ°",early:"æ—©é€€",absent:"ç¼ºå‹¤",leave:"è¯·å‡",overtime:"åŠ ç­"},s={id:`AT${String(r.value.length+1).padStart(3,"0")}`,employeeName:e.name,employeeAvatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.id}`,date:o.value.date,checkIn:o.value.checkIn,checkOut:o.value.checkOut||"",workHours:a.toFixed(1),status:o.value.status,statusText:t[o.value.status]||"æœªçŸ¥",remark:o.value.remark||"æ— "};r.value.unshift(s),p(),alert("è€ƒå‹¤è®°å½•æ·»åŠ æˆåŠŸï¼")}catch(a){alert("æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æ·»åŠ é”™è¯¯:",a)}finally{s.value=!1}}},k=()=>{c()};return(0,l.sV)(()=>{c(),window.addEventListener("userInfoUpdated",k)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",k)}),{userInfo:a,attendanceRecords:r,goHome:d,showAddAttendanceModal:t,submitting:s,attendanceForm:o,formErrors:i,employeeList:n,showAddModal:v,closeAddModal:p,submitAttendance:m}}});const ls=(0,r.A)(ss,[["render",ts],["__scopeId","data-v-32d7dd62"]]);var os=ls;const is={class:"announcement-container"},ns={class:"page-header"},rs={class:"header-left"},ds={class:"title-section"},cs={class:"page-title"},us={class:"header-right"},vs={class:"user-info"},ps={class:"announcement-list"},ms={class:"list-header"},ks={class:"announcement-table"},hs={class:"publisher-info"},bs=["src","alt"],gs={class:"actions"},Ls=["onClick"],fs=["onClick"],ys={class:"modal-header"},xs={class:"modal-body"},Ts={class:"form-group"},As={class:"char-count"},ws={key:0,class:"form-error"},Cs={class:"form-group"},Fs={class:"char-count"},_s={key:0,class:"form-error"},Es={class:"form-group"},Is={key:0,class:"form-error"},Ss={class:"form-group"},Ms={class:"form-group"},Ds={class:"form-group"},Us={class:"modal-footer"},Rs=["disabled"],Os={key:0,class:"loading-spinner"},Ps={class:"modal-header"},Ns={class:"modal-body"},Ks={class:"modal-footer"};function zs(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",is,[(0,l.Lk)("div",ns,[(0,l.Lk)("div",rs,[(0,l.Lk)("div",ds,[(0,l.Lk)("h1",cs,[(0,l.bF)(r,{type:"sound",class:"title-icon"}),a[18]||(a[18]=(0,l.eW)(" å…¬å‘Šç®¡ç† ",-1))]),a[19]||(a[19]=(0,l.Lk)("p",{class:"page-subtitle"},"å‘å¸ƒå’Œç®¡ç†å…¬å¸å…¬å‘Šã€é€šçŸ¥å’Œé‡è¦ä¿¡æ¯",-1))])]),(0,l.Lk)("div",us,[(0,l.Lk)("div",vs,[(0,l.bF)(d,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(c,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"home"}),a[20]||(a[20]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[20]},8,["onClick"])])]),a[37]||(a[37]=(0,l.Fv)('<div class="stats-overview" data-v-26220826><div class="stat-card" data-v-26220826><div class="stat-icon" data-v-26220826>ğŸ“¢</div><div class="stat-content" data-v-26220826><div class="stat-number" data-v-26220826>15</div><div class="stat-label" data-v-26220826>ä»Šæ—¥å…¬å‘Š</div></div></div><div class="stat-card" data-v-26220826><div class="stat-icon" data-v-26220826>ğŸ‘ï¸</div><div class="stat-content" data-v-26220826><div class="stat-number" data-v-26220826>89%</div><div class="stat-label" data-v-26220826>é˜…è¯»ç‡</div></div></div><div class="stat-card" data-v-26220826><div class="stat-icon" data-v-26220826>â­</div><div class="stat-content" data-v-26220826><div class="stat-number" data-v-26220826>12</div><div class="stat-label" data-v-26220826>é‡è¦å…¬å‘Š</div></div></div><div class="stat-card" data-v-26220826><div class="stat-icon" data-v-26220826>ğŸ“…</div><div class="stat-content" data-v-26220826><div class="stat-number" data-v-26220826>3</div><div class="stat-label" data-v-26220826>å¾…å‘å¸ƒ</div></div></div></div>',1)),(0,l.Lk)("div",ps,[(0,l.Lk)("div",ms,[a[21]||(a[21]=(0,l.Lk)("h2",null,"å…¬å‘Šåˆ—è¡¨",-1)),(0,l.Lk)("button",{class:"btn-add",onClick:a[0]||(a[0]=(...a)=>e.showAddModal&&e.showAddModal(...a))},"+ å‘å¸ƒå…¬å‘Š")]),(0,l.Lk)("div",ks,[(0,l.Lk)("table",null,[a[22]||(a[22]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"å…¬å‘ŠID"),(0,l.Lk)("th",null,"å‘å¸ƒäºº"),(0,l.Lk)("th",null,"æ ‡é¢˜"),(0,l.Lk)("th",null,"å†…å®¹"),(0,l.Lk)("th",null,"å‘å¸ƒæ—¶é—´"),(0,l.Lk)("th",null,"çŠ¶æ€"),(0,l.Lk)("th",null,"ä¼˜å…ˆçº§"),(0,l.Lk)("th",null,"æ“ä½œ")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.announcements,a=>((0,l.uX)(),(0,l.CE)("tr",{key:a.id},[(0,l.Lk)("td",null,(0,v.v_)(a.id),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",hs,[(0,l.Lk)("img",{src:a.publisherAvatar,alt:a.publisher,class:"avatar"},null,8,bs),(0,l.Lk)("span",null,(0,v.v_)(a.publisher),1)])]),(0,l.Lk)("td",null,(0,v.v_)(a.title),1),(0,l.Lk)("td",null,(0,v.v_)(a.content),1),(0,l.Lk)("td",null,(0,v.v_)(a.publishTime),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",a.status])},(0,v.v_)(a.statusText),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["priority",a.priority])},(0,v.v_)(a.priorityText),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",gs,[(0,l.Lk)("button",{class:"btn-edit",onClick:t=>e.showEditModal(a)},"ç¼–è¾‘",8,Ls),(0,l.Lk)("button",{class:"btn-delete",onClick:t=>e.showDeleteConfirm(a)},"åˆ é™¤",8,fs)])])]))),128))])])])]),e.showAnnouncementModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[12]||(a[12]=(...a)=>e.closeAnnouncementModal&&e.closeAnnouncementModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[11]||(a[11]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",ys,[(0,l.Lk)("h3",null,(0,v.v_)(e.isEdit?"ç¼–è¾‘å…¬å‘Š":"å‘å¸ƒå…¬å‘Š"),1),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeAnnouncementModal&&e.closeAnnouncementModal(...a))},"Ã—")]),(0,l.Lk)("div",xs,[(0,l.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)((...a)=>e.submitAnnouncement&&e.submitAnnouncement(...a),["prevent"]))},[(0,l.Lk)("div",Ts,[a[23]||(a[23]=(0,l.Lk)("label",null,[(0,l.eW)("å…¬å‘Šæ ‡é¢˜ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=a=>e.announcementForm.title=a),placeholder:"è¯·è¾“å…¥å…¬å‘Šæ ‡é¢˜...",maxlength:"100",required:""},null,512),[[s.Jo,e.announcementForm.title]]),(0,l.Lk)("div",As,(0,v.v_)(e.announcementForm.title.length)+"/100",1),e.formErrors.title?((0,l.uX)(),(0,l.CE)("div",ws,(0,v.v_)(e.formErrors.title),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Cs,[a[24]||(a[24]=(0,l.Lk)("label",null,[(0,l.eW)("å…¬å‘Šå†…å®¹ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.announcementForm.content=a),placeholder:"è¯·è¾“å…¥å…¬å‘Šè¯¦ç»†å†…å®¹...",rows:"6",maxlength:"1000",required:""},null,512),[[s.Jo,e.announcementForm.content]]),(0,l.Lk)("div",Fs,(0,v.v_)(e.announcementForm.content.length)+"/1000",1),e.formErrors.content?((0,l.uX)(),(0,l.CE)("div",_s,(0,v.v_)(e.formErrors.content),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Es,[a[26]||(a[26]=(0,l.Lk)("label",null,[(0,l.eW)("ä¼˜å…ˆçº§ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[4]||(a[4]=a=>e.announcementForm.priority=a),required:""},a[25]||(a[25]=[(0,l.Lk)("option",{value:""},"è¯·é€‰æ‹©ä¼˜å…ˆçº§",-1),(0,l.Lk)("option",{value:"low"},"æ™®é€š",-1),(0,l.Lk)("option",{value:"medium"},"é‡è¦",-1),(0,l.Lk)("option",{value:"high"},"ç´§æ€¥",-1)]),512),[[s.u1,e.announcementForm.priority]]),e.formErrors.priority?((0,l.uX)(),(0,l.CE)("div",Is,(0,v.v_)(e.formErrors.priority),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ss,[a[28]||(a[28]=(0,l.Lk)("label",null,"å‘å¸ƒçŠ¶æ€",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[5]||(a[5]=a=>e.announcementForm.status=a)},a[27]||(a[27]=[(0,l.Lk)("option",{value:"published"},"ç«‹å³å‘å¸ƒ",-1),(0,l.Lk)("option",{value:"draft"},"ä¿å­˜ä¸ºè‰ç¨¿",-1)]),512),[[s.u1,e.announcementForm.status]])]),(0,l.Lk)("div",Ms,[a[30]||(a[30]=(0,l.Lk)("label",null,"æ˜¯å¦ç½®é¡¶",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[6]||(a[6]=a=>e.announcementForm.isTop=a)},a[29]||(a[29]=[(0,l.Lk)("option",{value:"false"},"å¦",-1),(0,l.Lk)("option",{value:"true"},"æ˜¯",-1)]),512),[[s.u1,e.announcementForm.isTop]])]),(0,l.Lk)("div",Ds,[a[32]||(a[32]=(0,l.Lk)("label",null,"é€šçŸ¥èŒƒå›´",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[7]||(a[7]=a=>e.announcementForm.scope=a)},a[31]||(a[31]=[(0,l.Lk)("option",{value:"all"},"å…¨å…¬å¸",-1),(0,l.Lk)("option",{value:"department"},"éƒ¨é—¨å†…",-1),(0,l.Lk)("option",{value:"specific"},"æŒ‡å®šäººå‘˜",-1)]),512),[[s.u1,e.announcementForm.scope]])])],32)]),(0,l.Lk)("div",Us,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[9]||(a[9]=(...a)=>e.closeAnnouncementModal&&e.closeAnnouncementModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[10]||(a[10]=(...a)=>e.submitAnnouncement&&e.submitAnnouncement(...a)),disabled:e.submitting},[e.submitting?((0,l.uX)(),(0,l.CE)("span",Os)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,v.v_)(e.submitting?e.isEdit?"æ›´æ–°ä¸­...":"å‘å¸ƒä¸­...":e.isEdit?"æ›´æ–°å…¬å‘Š":"å‘å¸ƒå…¬å‘Š"),1)],8,Rs)])])])):(0,l.Q3)("",!0),e.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"modal-overlay",onClick:a[17]||(a[17]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},[(0,l.Lk)("div",{class:"modal-content delete-modal",onClick:a[16]||(a[16]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",Ps,[a[33]||(a[33]=(0,l.Lk)("h3",null,"ç¡®è®¤åˆ é™¤",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[13]||(a[13]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"Ã—")]),(0,l.Lk)("div",Ns,[(0,l.Lk)("p",null,[a[34]||(a[34]=(0,l.eW)("ç¡®å®šè¦åˆ é™¤å…¬å‘Š ",-1)),(0,l.Lk)("strong",null,(0,v.v_)(e.announcementToDelete?.title),1),a[35]||(a[35]=(0,l.eW)(" å—ï¼Ÿ",-1))]),a[36]||(a[36]=(0,l.Lk)("p",null,"æ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚",-1))]),(0,l.Lk)("div",Ks,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[14]||(a[14]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-delete-confirm",onClick:a[15]||(a[15]=(...a)=>e.confirmDelete&&e.confirmDelete(...a))},"ç¡®è®¤åˆ é™¤")])])])):(0,l.Q3)("",!0)])}var Xs=(0,l.pM)({name:"Announcement",setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=AnnouncementUser1"}),t=(0,S.KR)(!1),s=(0,S.KR)(!1),o=(0,S.KR)(!1),i=(0,S.KR)(!1),n=(0,S.KR)(null),r=(0,S.KR)(null),d=(0,S.KR)({title:"",content:"",priority:"",status:"published",isTop:"false",scope:"all"}),c=(0,S.KR)({title:"",content:"",priority:""}),v=(0,S.KR)([{id:"ANN001",publisher:"å¼ æ€»",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement1",title:"å…¬å¸å¹´åº¦æ€»ç»“ä¼šè®®é€šçŸ¥",content:"å®šäºæœ¬å‘¨äº”ä¸‹åˆ2ç‚¹å¬å¼€å¹´åº¦æ€»ç»“ä¼šè®®",publishTime:"2024-01-15 09:00:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN002",publisher:"æç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement2",title:"å¹´ç»ˆå¥–é‡‘å‘æ”¾é€šçŸ¥",content:"å¹´ç»ˆå¥–é‡‘å°†äºæœ¬æœˆåº•å‰å‘æ”¾åˆ°è´¦",publishTime:"2024-01-14 14:30:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN003",publisher:"ç‹ä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement3",title:"æ–°å‘˜å·¥å…¥èŒåŸ¹è®­å®‰æ’",content:"æ–°å‘˜å·¥å…¥èŒåŸ¹è®­å°†äºä¸‹å‘¨ä¸€å¼€å§‹",publishTime:"2024-01-13 10:15:00",status:"draft",statusText:"è‰ç¨¿",priority:"low",priorityText:"ä½"},{id:"ANN004",publisher:"èµµå·¥ç¨‹å¸ˆ",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement4",title:"ç³»ç»Ÿç»´æŠ¤å‡çº§é€šçŸ¥",content:"ç³»ç»Ÿå°†äºä»Šæ™šè¿›è¡Œç»´æŠ¤å‡çº§",publishTime:"2024-01-12 16:45:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN005",publisher:"å‘¨äººäº‹",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement5",title:"æ˜¥èŠ‚æ”¾å‡å®‰æ’é€šçŸ¥",content:"æ˜¥èŠ‚æ”¾å‡æ—¶é—´å®‰æ’å·²ç¡®å®š",publishTime:"2024-01-11 11:20:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN006",publisher:"å´ä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement6",title:"å‘˜å·¥ä½“æ£€å®‰æ’é€šçŸ¥",content:"å¹´åº¦å‘˜å·¥ä½“æ£€å°†äºä¸‹æœˆè¿›è¡Œ",publishTime:"2024-01-10 15:30:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN007",publisher:"éƒ‘æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement7",title:"å­£åº¦ç›®æ ‡å®Œæˆæƒ…å†µ",content:"ç¬¬å››å­£åº¦ç›®æ ‡å®Œæˆæƒ…å†µæ±‡æŠ¥",publishTime:"2024-01-09 09:45:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN008",publisher:"å­™ç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement8",title:"ä¸“ä¸šæŠ€èƒ½åŸ¹è®­è®¡åˆ’",content:"ä¸“ä¸šæŠ€èƒ½åŸ¹è®­è®¡åˆ’å·²åˆ¶å®šå®Œæˆ",publishTime:"2024-01-08 14:15:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN009",publisher:"é’±æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement9",title:"é¡¹ç›®å¥–é‡‘åˆ†é…æ–¹æ¡ˆ",content:"é¡¹ç›®å¥–é‡‘åˆ†é…æ–¹æ¡ˆå·²ç¡®å®š",publishTime:"2024-01-07 10:30:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN010",publisher:"ææ€»",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement10",title:"æ–°åŠå…¬å®¤æ¬è¿é€šçŸ¥",content:"æ–°åŠå…¬å®¤æ¬è¿è®¡åˆ’å·²ç¡®å®š",publishTime:"2024-01-06 16:00:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN011",publisher:"ç‹æ€»",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement11",title:"å…¬å¸æˆç«‹äº”å‘¨å¹´åº†å…¸",content:"å…¬å¸æˆç«‹äº”å‘¨å¹´åº†å…¸æ´»åŠ¨å®‰æ’",publishTime:"2024-01-05 13:45:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN012",publisher:"å¼ æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement12",title:"å¹´åº¦ä¸šç»©æŠ¥å‘Šå‘å¸ƒ",content:"å¹´åº¦ä¸šç»©æŠ¥å‘Šå·²å‘å¸ƒ",publishTime:"2024-01-04 09:20:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN013",publisher:"é™ˆä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement13",title:"ç¯ä¿å€¡è®®æ´»åŠ¨é€šçŸ¥",content:"ç¯ä¿å€¡è®®æ´»åŠ¨å³å°†å¼€å§‹",publishTime:"2024-01-03 15:10:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN014",publisher:"åˆ˜å·¥ç¨‹å¸ˆ",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement14",title:"ä¿¡æ¯å®‰å…¨åŸ¹è®­é€šçŸ¥",content:"ä¿¡æ¯å®‰å…¨åŸ¹è®­å°†äºä¸‹å‘¨è¿›è¡Œ",publishTime:"2024-01-02 11:35:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN015",publisher:"é©¬ç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement15",title:"å›¢é˜Ÿå»ºè®¾æ´»åŠ¨å®‰æ’",content:"å›¢é˜Ÿå»ºè®¾æ´»åŠ¨å®‰æ’å·²ç¡®å®š",publishTime:"2024-01-01 14:50:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN016",publisher:"æœ±æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement16",title:"é”€å”®ä¸šç»©è¡¨å½°å¤§ä¼š",content:"é”€å”®ä¸šç»©è¡¨å½°å¤§ä¼šé€šçŸ¥",publishTime:"2023-12-31 10:15:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN017",publisher:"èƒ¡äººäº‹",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement17",title:"å­¦å†æå‡è¡¥è´´æ”¿ç­–",content:"å­¦å†æå‡è¡¥è´´æ”¿ç­–å·²æ›´æ–°",publishTime:"2023-12-30 16:30:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN018",publisher:"éƒ­ä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement18",title:"å‘˜å·¥è¿åŠ¨ä¼šé€šçŸ¥",content:"å‘˜å·¥è¿åŠ¨ä¼šå°†äºä¸‹æœˆä¸¾è¡Œ",publishTime:"2023-12-29 13:20:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN019",publisher:"ä½•ç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement19",title:"å¹´åº¦å·¥ä½œæ€»ç»“è¦æ±‚",content:"å¹´åº¦å·¥ä½œæ€»ç»“è¦æ±‚å·²å‘å¸ƒ",publishTime:"2023-12-28 09:45:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN020",publisher:"é«˜ä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement20",title:"å‘˜å·¥ç”Ÿæ—¥ç¦åˆ©å‘æ”¾",content:"å‘˜å·¥ç”Ÿæ—¥ç¦åˆ©å‘æ”¾é€šçŸ¥",publishTime:"2023-12-27 15:15:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN021",publisher:"æ—ç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement21",title:"è€ƒå‹¤åˆ¶åº¦è°ƒæ•´é€šçŸ¥",content:"è€ƒå‹¤åˆ¶åº¦è°ƒæ•´é€šçŸ¥",publishTime:"2023-12-26 11:00:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN022",publisher:"ç½—å·¥ç¨‹å¸ˆ",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement22",title:"ä¼ä¸šå¾®ä¿¡ä½¿ç”¨æŒ‡å—",content:"ä¼ä¸šå¾®ä¿¡ä½¿ç”¨æŒ‡å—å·²æ›´æ–°",publishTime:"2023-12-25 14:25:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN023",publisher:"æ¢æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement23",title:"å›½é™…åŒ–å‘å±•æˆ˜ç•¥",content:"å…¬å¸å›½é™…åŒ–å‘å±•æˆ˜ç•¥å‘å¸ƒ",publishTime:"2023-12-24 10:40:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN024",publisher:"è°¢ç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement24",title:"æ–°äº§å“å‘å¸ƒä¼šé€šçŸ¥",content:"æ–°äº§å“å‘å¸ƒä¼šå³å°†ä¸¾è¡Œ",publishTime:"2023-12-23 16:50:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN025",publisher:"ç‹æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement25",title:"å¹´åº¦é¢„ç®—ç¼–åˆ¶é€šçŸ¥",content:"å¹´åº¦é¢„ç®—ç¼–åˆ¶å·¥ä½œå¼€å§‹",publishTime:"2023-12-22 13:15:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"},{id:"ANN026",publisher:"ææ€»",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement26",title:"ä¼˜ç§€å‘˜å·¥è¯„é€‰ç»“æœ",content:"å¹´åº¦ä¼˜ç§€å‘˜å·¥è¯„é€‰ç»“æœ",publishTime:"2023-12-21 09:30:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"high",priorityText:"é«˜"},{id:"ANN027",publisher:"å¼ ä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement27",title:"å›¾ä¹¦è§’å»ºè®¾å€¡è®®",content:"å…¬å¸å›¾ä¹¦è§’å»ºè®¾å€¡è®®",publishTime:"2023-12-20 15:45:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN028",publisher:"é™ˆç»ç†",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement28",title:"ç»¿è‰²åŠå…¬å€¡è®®",content:"ç»¿è‰²åŠå…¬å€¡è®®æ´»åŠ¨",publishTime:"2023-12-19 11:20:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN029",publisher:"åˆ˜ä¸»ç®¡",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement29",title:"éƒ¨é—¨å›¢å»ºæ´»åŠ¨å®‰æ’",content:"éƒ¨é—¨å›¢å»ºæ´»åŠ¨å®‰æ’é€šçŸ¥",publishTime:"2023-12-18 14:10:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"low",priorityText:"ä½"},{id:"ANN030",publisher:"é©¬æ€»ç›‘",publisherAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Announcement30",title:"æœˆåº¦ä¸šç»©åˆ†ææŠ¥å‘Š",content:"11æœˆä¸šç»©åˆ†ææŠ¥å‘Šå‘å¸ƒ",publishTime:"2023-12-17 10:25:00",status:"published",statusText:"å·²å‘å¸ƒ",priority:"medium",priorityText:"ä¸­"}]),p=()=>{e.push("/")},m=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);a.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||a.value.avatar}}catch(t){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),a.value={...s,username:s.username||"",avatar:a.value.avatar}}else a.value={...s,username:s.username||"",avatar:a.value.avatar}}catch(t){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},k=()=>{o.value=!1,t.value=!0,d.value={title:"",content:"",priority:"",status:"published",isTop:"false",scope:"all"},c.value={title:"",content:"",priority:""}},h=e=>{o.value=!0,r.value=e,t.value=!0,d.value={title:e.title,content:e.content,priority:e.priority,status:e.status,isTop:e.isTop||"false",scope:e.scope||"all"},c.value={title:"",content:"",priority:""}},b=()=>{t.value=!1,o.value=!1,r.value=null,d.value={title:"",content:"",priority:"",status:"published",isTop:"false",scope:"all"},c.value={title:"",content:"",priority:""}},g=async()=>{let e=!1;if(d.value.title.trim()?c.value.title="":(c.value.title="è¯·è¾“å…¥å…¬å‘Šæ ‡é¢˜",e=!0),d.value.content.trim()?c.value.content="":(c.value.content="è¯·è¾“å…¥å…¬å‘Šå†…å®¹",e=!0),d.value.priority?c.value.priority="":(c.value.priority="è¯·é€‰æ‹©ä¼˜å…ˆçº§",e=!0),!e){i.value=!0;try{await new Promise(e=>setTimeout(e,2e3));const e={low:"æ™®é€š",medium:"é‡è¦",high:"ç´§æ€¥"},t={published:"å·²å‘å¸ƒ",draft:"è‰ç¨¿"};if(o.value&&r.value){const a=r.value;a.title=d.value.title,a.content=d.value.content,a.priority=d.value.priority,a.priorityText=e[d.value.priority],a.status=d.value.status,a.statusText=t[d.value.status],a.isTop=d.value.isTop,a.scope=d.value.scope,a.updateTime=(new Date).toLocaleString("zh-CN"),alert("å…¬å‘Šæ›´æ–°æˆåŠŸï¼")}else{const s={id:`ANN${String(v.value.length+1).padStart(3,"0")}`,publisher:a.value.username||"å½“å‰ç”¨æˆ·",publisherAvatar:a.value.avatar,title:d.value.title,content:d.value.content,publishTime:(new Date).toLocaleString("zh-CN"),status:d.value.status,statusText:t[d.value.status],priority:d.value.priority,priorityText:e[d.value.priority],isTop:d.value.isTop,scope:d.value.scope};v.value.unshift(s),alert("å…¬å‘Šå‘å¸ƒæˆåŠŸï¼")}b()}catch(t){alert("æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æäº¤é”™è¯¯:",t)}finally{i.value=!1}}},L=e=>{n.value=e,s.value=!0},f=()=>{s.value=!1,n.value=null},y=()=>{if(n.value){const e=v.value.findIndex(e=>e.id===n.value.id);-1!==e&&(v.value.splice(e,1),f(),alert("å…¬å‘Šå·²åˆ é™¤"))}},x=()=>{m()};return(0,l.sV)(()=>{m(),window.addEventListener("userInfoUpdated",x)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",x)}),{userInfo:a,announcements:v,goHome:p,showAnnouncementModal:t,showDeleteModal:s,isEdit:o,submitting:i,announcementToDelete:n,announcementForm:d,formErrors:c,showAddModal:k,showEditModal:h,closeAnnouncementModal:b,submitAnnouncement:g,showDeleteConfirm:L,closeDeleteModal:f,confirmDelete:y}}});const Ws=(0,r.A)(Xs,[["render",zs],["__scopeId","data-v-26220826"]]);var js=Ws;const Hs={class:"file-manager-container"},qs={class:"page-header"},Js={class:"header-left"},Vs={class:"title-section"},$s={class:"page-title"},Qs={class:"header-right"},Bs={class:"user-info"},Gs={class:"file-list"},Ys={class:"list-header"},Zs={class:"file-table"},el={class:"file-info"},al={class:"file-icon"},tl={class:"file-name"},sl={class:"uploader-info"},ll=["src","alt"],ol={class:"actions"},il=["onClick"],nl=["onClick"],rl={class:"modal-header"},dl={class:"modal-body"},cl={class:"form-group"},ul={key:0,class:"upload-placeholder"},vl={key:1,class:"selected-file"},pl={class:"file-icon"},ml={class:"file-details"},kl={class:"file-name"},hl={class:"file-info"},bl={key:0,class:"form-error"},gl={class:"form-group"},Ll={class:"char-count"},fl={class:"form-group"},yl={class:"form-group"},xl={class:"modal-footer"},Tl=["disabled"],Al={key:0,class:"loading-spinner"},wl={class:"modal-header"},Cl={class:"modal-body"},Fl={class:"modal-footer"};function _l(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",Hs,[(0,l.Lk)("div",qs,[(0,l.Lk)("div",Js,[(0,l.Lk)("div",Vs,[(0,l.Lk)("h1",$s,[(0,l.bF)(r,{type:"folder",class:"title-icon"}),a[21]||(a[21]=(0,l.eW)(" æ–‡ä»¶ç®¡ç† ",-1))]),a[22]||(a[22]=(0,l.Lk)("p",{class:"page-subtitle"},"ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ã€æ–‡æ¡£å’Œèµ„æºå…±äº«",-1))])]),(0,l.Lk)("div",Qs,[(0,l.Lk)("div",Bs,[(0,l.bF)(d,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(c,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"home"}),a[23]||(a[23]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[23]},8,["onClick"])])]),a[38]||(a[38]=(0,l.Fv)('<div class="stats-overview" data-v-5d1aacdb><div class="stat-card total-files" data-v-5d1aacdb><div class="stat-icon" data-v-5d1aacdb><span class="icon-emoji" data-v-5d1aacdb>ğŸ“</span></div><div class="stat-content" data-v-5d1aacdb><div class="stat-number" data-v-5d1aacdb>1,234</div><div class="stat-label" data-v-5d1aacdb>æ€»æ–‡ä»¶æ•°</div></div></div><div class="stat-card total-size" data-v-5d1aacdb><div class="stat-icon" data-v-5d1aacdb><span class="icon-emoji" data-v-5d1aacdb>ğŸ’¾</span></div><div class="stat-content" data-v-5d1aacdb><div class="stat-number" data-v-5d1aacdb>45.6GB</div><div class="stat-label" data-v-5d1aacdb>æ€»å­˜å‚¨é‡</div></div></div><div class="stat-card uploaded-today" data-v-5d1aacdb><div class="stat-icon" data-v-5d1aacdb><span class="icon-emoji" data-v-5d1aacdb>ğŸ“¤</span></div><div class="stat-content" data-v-5d1aacdb><div class="stat-number" data-v-5d1aacdb>89</div><div class="stat-label" data-v-5d1aacdb>ä»Šæ—¥ä¸Šä¼ </div></div></div><div class="stat-card shared-files" data-v-5d1aacdb><div class="stat-icon" data-v-5d1aacdb><span class="icon-emoji" data-v-5d1aacdb>ğŸ‘¥</span></div><div class="stat-content" data-v-5d1aacdb><div class="stat-number" data-v-5d1aacdb>156</div><div class="stat-label" data-v-5d1aacdb>å…±äº«æ–‡ä»¶</div></div></div></div>',1)),(0,l.Lk)("div",Gs,[(0,l.Lk)("div",Ys,[a[24]||(a[24]=(0,l.Lk)("h2",null,"æ–‡ä»¶åˆ—è¡¨",-1)),(0,l.Lk)("button",{class:"btn-upload",onClick:a[0]||(a[0]=(...a)=>e.openUploadModal&&e.openUploadModal(...a))},"+ ä¸Šä¼ æ–‡ä»¶")]),(0,l.Lk)("div",Zs,[(0,l.Lk)("table",null,[a[25]||(a[25]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"æ–‡ä»¶å"),(0,l.Lk)("th",null,"ç±»å‹"),(0,l.Lk)("th",null,"å¤§å°"),(0,l.Lk)("th",null,"ä¸Šä¼ äºº"),(0,l.Lk)("th",null,"ä¸Šä¼ æ—¶é—´"),(0,l.Lk)("th",null,"çŠ¶æ€"),(0,l.Lk)("th",null,"æ“ä½œ")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.fileList,a=>((0,l.uX)(),(0,l.CE)("tr",{key:a.id},[(0,l.Lk)("td",null,[(0,l.Lk)("div",el,[(0,l.Lk)("span",al,(0,v.v_)(a.icon),1),(0,l.Lk)("span",tl,(0,v.v_)(a.name),1)])]),(0,l.Lk)("td",null,(0,v.v_)(a.type),1),(0,l.Lk)("td",null,(0,v.v_)(a.size),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",sl,[(0,l.Lk)("img",{src:a.uploaderAvatar,alt:a.uploader,class:"avatar"},null,8,ll),(0,l.Lk)("span",null,(0,v.v_)(a.uploader),1)])]),(0,l.Lk)("td",null,(0,v.v_)(a.uploadTime),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",a.status])},(0,v.v_)(a.statusText),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ol,[(0,l.Lk)("button",{class:"btn-download",onClick:t=>e.downloadFile(a)},"ä¸‹è½½",8,il),(0,l.Lk)("button",{class:"btn-delete",onClick:t=>e.showDeleteConfirm(a)},"åˆ é™¤",8,nl)])])]))),128))])])])]),e.showUploadModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[15]||(a[15]=(...a)=>e.closeUploadModal&&e.closeUploadModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[14]||(a[14]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",rl,[a[26]||(a[26]=(0,l.Lk)("h3",null,"ä¸Šä¼ æ–‡ä»¶",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeUploadModal&&e.closeUploadModal(...a))},"Ã—")]),(0,l.Lk)("div",dl,[(0,l.Lk)("form",{onSubmit:a[11]||(a[11]=(0,s.D$)((...a)=>e.submitUpload&&e.submitUpload(...a),["prevent"]))},[(0,l.Lk)("div",cl,[a[28]||(a[28]=(0,l.Lk)("label",null,[(0,l.eW)("é€‰æ‹©æ–‡ä»¶ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.Lk)("div",{class:"file-upload-area",onClick:a[3]||(a[3]=(...a)=>e.triggerFileInput&&e.triggerFileInput(...a)),onDrop:a[4]||(a[4]=(...a)=>e.handleFileDrop&&e.handleFileDrop(...a)),onDragover:a[5]||(a[5]=(0,s.D$)(()=>{},["prevent"])),onDragenter:a[6]||(a[6]=(0,s.D$)(()=>{},["prevent"]))},[e.selectedFile?((0,l.uX)(),(0,l.CE)("div",vl,[(0,l.Lk)("span",pl,(0,v.v_)(e.getFileIcon(e.selectedFile.name)),1),(0,l.Lk)("div",ml,[(0,l.Lk)("div",kl,(0,v.v_)(e.selectedFile.name),1),(0,l.Lk)("div",hl,(0,v.v_)(e.formatFileSize(e.selectedFile.size))+" â€¢ "+(0,v.v_)(e.getFileType(e.selectedFile.name)),1)]),(0,l.Lk)("button",{type:"button",class:"remove-file",onClick:a[2]||(a[2]=(...a)=>e.removeSelectedFile&&e.removeSelectedFile(...a))},"âœ•")])):((0,l.uX)(),(0,l.CE)("div",ul,a[27]||(a[27]=[(0,l.Lk)("span",{class:"upload-icon"},"ğŸ“",-1),(0,l.Lk)("p",null,"ç‚¹å‡»é€‰æ‹©æ–‡ä»¶æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„",-1),(0,l.Lk)("p",{class:"upload-hint"},"æ”¯æŒæ‰€æœ‰æ–‡ä»¶ç±»å‹ï¼Œæœ€å¤§100MB",-1)])))],32),(0,l.Lk)("input",{ref:"fileInput",type:"file",onChange:a[7]||(a[7]=(...a)=>e.handleFileSelect&&e.handleFileSelect(...a)),accept:"*/*",style:{display:"none"}},null,544),e.formErrors.file?((0,l.uX)(),(0,l.CE)("div",bl,(0,v.v_)(e.formErrors.file),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",gl,[a[29]||(a[29]=(0,l.Lk)("label",null,[(0,l.eW)("æ–‡ä»¶æè¿° "),(0,l.Lk)("span",{class:"optional"},"(å¯é€‰)")],-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[8]||(a[8]=a=>e.uploadForm.description=a),placeholder:"è¯·è¾“å…¥æ–‡ä»¶æè¿°ï¼Œå¸®åŠ©å…¶ä»–ç”¨æˆ·äº†è§£æ–‡ä»¶å†…å®¹...",rows:"3",maxlength:"200"},null,512),[[s.Jo,e.uploadForm.description]]),(0,l.Lk)("div",Ll,(0,v.v_)(e.uploadForm.description.length)+"/200",1)]),(0,l.Lk)("div",fl,[a[31]||(a[31]=(0,l.Lk)("label",null,"æ–‡ä»¶åˆ†ç±»",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[9]||(a[9]=a=>e.uploadForm.category=a)},a[30]||(a[30]=[(0,l.Fv)('<option value="" data-v-5d1aacdb>è¯·é€‰æ‹©åˆ†ç±»</option><option value="document" data-v-5d1aacdb>æ–‡æ¡£ç±»</option><option value="image" data-v-5d1aacdb>å›¾ç‰‡ç±»</option><option value="video" data-v-5d1aacdb>è§†é¢‘ç±»</option><option value="audio" data-v-5d1aacdb>éŸ³é¢‘ç±»</option><option value="archive" data-v-5d1aacdb>å‹ç¼©åŒ…</option><option value="other" data-v-5d1aacdb>å…¶ä»–</option>',7)]),512),[[s.u1,e.uploadForm.category]])]),(0,l.Lk)("div",yl,[a[33]||(a[33]=(0,l.Lk)("label",null,"è®¿é—®æƒé™",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[10]||(a[10]=a=>e.uploadForm.access=a)},a[32]||(a[32]=[(0,l.Lk)("option",{value:"public"},"å…¬å¼€",-1),(0,l.Lk)("option",{value:"private"},"ç§æœ‰",-1),(0,l.Lk)("option",{value:"shared"},"å…±äº«",-1)]),512),[[s.u1,e.uploadForm.access]])])],32)]),(0,l.Lk)("div",xl,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[12]||(a[12]=(...a)=>e.closeUploadModal&&e.closeUploadModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[13]||(a[13]=(...a)=>e.submitUpload&&e.submitUpload(...a)),disabled:!e.selectedFile||e.uploading},[e.uploading?((0,l.uX)(),(0,l.CE)("span",Al)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,v.v_)(e.uploading?"ä¸Šä¼ ä¸­...":"ä¸Šä¼ æ–‡ä»¶"),1)],8,Tl)])])])):(0,l.Q3)("",!0),e.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"modal-overlay",onClick:a[20]||(a[20]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},[(0,l.Lk)("div",{class:"modal-content delete-modal",onClick:a[19]||(a[19]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",wl,[a[34]||(a[34]=(0,l.Lk)("h3",null,"ç¡®è®¤åˆ é™¤",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[16]||(a[16]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"Ã—")]),(0,l.Lk)("div",Cl,[(0,l.Lk)("p",null,[a[35]||(a[35]=(0,l.eW)("ç¡®å®šè¦åˆ é™¤æ–‡ä»¶ ",-1)),(0,l.Lk)("strong",null,(0,v.v_)(e.fileToDelete?.name),1),a[36]||(a[36]=(0,l.eW)(" å—ï¼Ÿ",-1))]),a[37]||(a[37]=(0,l.Lk)("p",null,"æ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚",-1))]),(0,l.Lk)("div",Fl,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[17]||(a[17]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-delete-confirm",onClick:a[18]||(a[18]=(...a)=>e.confirmDelete&&e.confirmDelete(...a))},"ç¡®è®¤åˆ é™¤")])])])):(0,l.Q3)("",!0)])}var El=(0,l.pM)({name:"FileManager",setup(){const e=(0,u.rd)(),a=(0,S.KR)(null),t=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=FileManager1"}),s=(0,S.KR)([{id:"FILE001",name:"é¡¹ç›®è®¡åˆ’ä¹¦.docx",icon:"ğŸ“„",type:"Wordæ–‡æ¡£",size:"2.5MB",uploader:"å¼ ä¸‰",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File1",uploadTime:"2024-01-15 10:30:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE002",name:"è´¢åŠ¡æŠ¥è¡¨.xlsx",icon:"ğŸ“Š",type:"Excelè¡¨æ ¼",size:"1.8MB",uploader:"æå››",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File2",uploadTime:"2024-01-15 09:15:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE003",name:"äº§å“è®¾è®¡å›¾.psd",icon:"ğŸ¨",type:"Photoshopæ–‡ä»¶",size:"15.2MB",uploader:"ç‹äº”",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File3",uploadTime:"2024-01-14 16:45:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE004",name:"ä¼šè®®çºªè¦.pdf",icon:"ğŸ“‹",type:"PDFæ–‡æ¡£",size:"3.2MB",uploader:"èµµå…­",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File4",uploadTime:"2024-01-14 14:20:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE005",name:"å‘˜å·¥æ‰‹å†Œ.docx",icon:"ğŸ“„",type:"Wordæ–‡æ¡£",size:"5.7MB",uploader:"é’±ä¸ƒ",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File5",uploadTime:"2024-01-14 11:45:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE006",name:"é”€å”®æ•°æ®.xlsx",icon:"ğŸ“Š",type:"Excelè¡¨æ ¼",size:"2.1MB",uploader:"å­™å…«",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File6",uploadTime:"2024-01-14 09:30:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE007",name:"ç½‘ç«™è®¾è®¡ç¨¿.fig",icon:"ğŸ¨",type:"Figmaæ–‡ä»¶",size:"8.9MB",uploader:"å‘¨ä¹",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File7",uploadTime:"2024-01-13 17:15:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE008",name:"æŠ€æœ¯è§„èŒƒ.pdf",icon:"ğŸ“‹",type:"PDFæ–‡æ¡£",size:"4.3MB",uploader:"å´å",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File8",uploadTime:"2024-01-13 15:40:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE009",name:"å®¢æˆ·åå•.xlsx",icon:"ğŸ“Š",type:"Excelè¡¨æ ¼",size:"1.2MB",uploader:"éƒ‘åä¸€",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File9",uploadTime:"2024-01-13 13:25:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE010",name:"äº§å“å®£ä¼ ç‰‡.mp4",icon:"ğŸ¬",type:"è§†é¢‘æ–‡ä»¶",size:"45.8MB",uploader:"ç‹åäºŒ",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File10",uploadTime:"2024-01-13 10:50:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE011",name:"å¹´åº¦æŠ¥å‘Š.pdf",icon:"ğŸ“‹",type:"PDFæ–‡æ¡£",size:"12.7MB",uploader:"æåä¸‰",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File11",uploadTime:"2024-01-12 16:30:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE012",name:"åŸ¹è®­ææ–™.pptx",icon:"ğŸ“½ï¸",type:"PowerPoint",size:"6.8MB",uploader:"å¼ åå››",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File12",uploadTime:"2024-01-12 14:15:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE013",name:"æ•°æ®åº“å¤‡ä»½.sql",icon:"ğŸ—„ï¸",type:"SQLæ–‡ä»¶",size:"2.3MB",uploader:"åˆ˜åäº”",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File13",uploadTime:"2024-01-12 11:20:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE014",name:"åˆåŒæ¨¡æ¿.docx",icon:"ğŸ“„",type:"Wordæ–‡æ¡£",size:"3.9MB",uploader:"é™ˆåå…­",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File14",uploadTime:"2024-01-12 09:45:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE015",name:"åº“å­˜æ¸…å•.xlsx",icon:"ğŸ“Š",type:"Excelè¡¨æ ¼",size:"1.6MB",uploader:"æ¨åä¸ƒ",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File15",uploadTime:"2024-01-11 17:10:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE016",name:"Logoè®¾è®¡.ai",icon:"ğŸ¨",type:"Illustrator",size:"7.4MB",uploader:"é»„åå…«",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File16",uploadTime:"2024-01-11 15:35:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE017",name:"ç³»ç»Ÿæ—¥å¿—.txt",icon:"ğŸ“",type:"æ–‡æœ¬æ–‡ä»¶",size:"0.8MB",uploader:"èµµåä¹",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File17",uploadTime:"2024-01-11 13:50:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE018",name:"é¡¹ç›®é¢„ç®—.xlsx",icon:"ğŸ“Š",type:"Excelè¡¨æ ¼",size:"2.8MB",uploader:"å´äºŒå",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File18",uploadTime:"2024-01-11 11:25:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE019",name:"ç”¨æˆ·æ‰‹å†Œ.pdf",icon:"ğŸ“‹",type:"PDFæ–‡æ¡£",size:"9.1MB",uploader:"å¾äºŒä¸€",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File19",uploadTime:"2024-01-10 16:40:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE020",name:"ä»£ç è§„èŒƒ.md",icon:"ğŸ“",type:"Markdown",size:"0.5MB",uploader:"å­™äºŒäºŒ",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File20",uploadTime:"2024-01-10 14:55:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE021",name:"äº§å“å›¾ç‰‡.jpg",icon:"ğŸ–¼ï¸",type:"å›¾ç‰‡æ–‡ä»¶",size:"3.7MB",uploader:"é©¬äºŒä¸‰",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File21",uploadTime:"2024-01-10 12:30:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE022",name:"ä¼šè®®å½•éŸ³.mp3",icon:"ğŸµ",type:"éŸ³é¢‘æ–‡ä»¶",size:"18.5MB",uploader:"æœ±äºŒå››",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File22",uploadTime:"2024-01-10 10:15:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE023",name:"å·¥ä½œæµç¨‹.pdf",icon:"ğŸ“‹",type:"PDFæ–‡æ¡£",size:"5.2MB",uploader:"èƒ¡äºŒäº”",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File23",uploadTime:"2024-01-09 17:25:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE024",name:"æ•°æ®åˆ†æ.xlsx",icon:"ğŸ“Š",type:"Excelè¡¨æ ¼",size:"4.1MB",uploader:"éƒ­äºŒå…­",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File24",uploadTime:"2024-01-09 15:40:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE025",name:"è®¾è®¡æ–¹æ¡ˆ.sketch",icon:"ğŸ¨",type:"Sketchæ–‡ä»¶",size:"22.3MB",uploader:"ä½•äºŒä¸ƒ",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File25",uploadTime:"2024-01-09 13:55:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE026",name:"æµ‹è¯•æŠ¥å‘Š.docx",icon:"ğŸ“„",type:"Wordæ–‡æ¡£",size:"2.9MB",uploader:"é«˜äºŒå…«",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File26",uploadTime:"2024-01-09 11:20:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE027",name:"é…ç½®æ–‡ä»¶.yaml",icon:"âš™ï¸",type:"é…ç½®æ–‡ä»¶",size:"0.3MB",uploader:"æ—äºŒä¹",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File27",uploadTime:"2024-01-09 09:35:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE028",name:"æ¼”ç¤ºæ–‡ç¨¿.pptx",icon:"ğŸ“½ï¸",type:"PowerPoint",size:"8.7MB",uploader:"ç½—ä¸‰å",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File28",uploadTime:"2024-01-08 16:50:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE029",name:"æºä»£ç .zip",icon:"ğŸ“¦",type:"å‹ç¼©æ–‡ä»¶",size:"35.6MB",uploader:"æ¢ä¸‰ä¸€",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File29",uploadTime:"2024-01-08 14:25:00",status:"active",statusText:"æ­£å¸¸"},{id:"FILE030",name:"é¡¹ç›®æ€»ç»“.docx",icon:"ğŸ“„",type:"Wordæ–‡æ¡£",size:"4.8MB",uploader:"è°¢ä¸‰äºŒ",uploaderAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=File30",uploadTime:"2024-01-08 12:10:00",status:"active",statusText:"æ­£å¸¸"}]),o=(0,S.KR)(!1),i=(0,S.KR)(!1),n=(0,S.KR)(null),r=(0,S.KR)(null),d=(0,S.KR)({description:"",category:"",access:"public"}),c=(0,S.KR)(!1),v=(0,S.KR)({file:""}),p=()=>{e.push("/")},m=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);t.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||t.value.avatar}}catch(a){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",a),t.value={...s,username:s.username||"",avatar:t.value.avatar}}else t.value={...s,username:s.username||"",avatar:t.value.avatar}}catch(a){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",a)}},k=()=>{o.value=!0,n.value=null,d.value={description:"",category:"",access:"public"},v.value.file=""},h=()=>{o.value=!1,n.value=null,d.value={description:"",category:"",access:"public"},v.value.file=""},b=()=>{a.value.click()},g=e=>{const a=e.target.files[0];a&&f(a)},L=e=>{e.preventDefault();const a=e.dataTransfer.files;a.length>0&&f(a[0])},f=e=>{const a=104857600;if(e.size>a)return void(v.value.file="æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡100MB");const t=["image/","video/","audio/","text/","application/","application/pdf","application/msword","application/vnd.openxmlformats-officedocument","application/vnd.ms-excel","application/zip","application/x-rar-compressed"],s=t.some(a=>e.type.startsWith(a));s||e.name.includes(".")?(n.value=e,v.value.file="",e.type.startsWith("image/")?d.value.category="image":e.type.startsWith("video/")?d.value.category="video":e.type.startsWith("audio/")?d.value.category="audio":e.type.includes("zip")||e.type.includes("rar")?d.value.category="archive":e.type.includes("pdf")||e.type.includes("word")||e.type.includes("excel")?d.value.category="document":d.value.category="other"):v.value.file="ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹"},y=()=>{n.value=null,v.value.file="",a.value&&(a.value.value="")},x=()=>{if(!n.value)return void(v.value.file="è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶");const e={id:`FILE${String(s.value.length+1).padStart(3,"0")}`,name:n.value.name,icon:T(n.value.name),type:A(n.value.name),size:w(n.value.size),uploader:t.value.username||"å½“å‰ç”¨æˆ·",uploaderAvatar:t.value.avatar,uploadTime:(new Date).toLocaleString("zh-CN"),status:"active",statusText:"æ­£å¸¸"};s.value.unshift(e),h(),alert("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼")},T=e=>{const a=e.toLowerCase().split(".").pop(),t={pdf:"ğŸ“‹",doc:"ğŸ“„",docx:"ğŸ“„",xls:"ğŸ“Š",xlsx:"ğŸ“Š",ppt:"ğŸ“½ï¸",pptx:"ğŸ“½ï¸",jpg:"ğŸ–¼ï¸",jpeg:"ğŸ–¼ï¸",png:"ğŸ–¼ï¸",gif:"ğŸ–¼ï¸",mp4:"ğŸ¬",avi:"ğŸ¬",mov:"ğŸ¬",mp3:"ğŸµ",wav:"ğŸµ",zip:"ğŸ“¦",rar:"ğŸ“¦","7z":"ğŸ“¦",psd:"ğŸ¨",ai:"ğŸ¨",sketch:"ğŸ¨",fig:"ğŸ¨",sql:"ğŸ—„ï¸",md:"ğŸ“",txt:"ğŸ“",yaml:"âš™ï¸",yml:"âš™ï¸",json:"âš™ï¸"};return t[a]||"ğŸ“„"},A=e=>{const a=e.toLowerCase().split(".").pop(),t={pdf:"PDFæ–‡æ¡£",doc:"Wordæ–‡æ¡£",docx:"Wordæ–‡æ¡£",xls:"Excelè¡¨æ ¼",xlsx:"Excelè¡¨æ ¼",ppt:"PowerPoint",pptx:"PowerPoint",jpg:"å›¾ç‰‡æ–‡ä»¶",jpeg:"å›¾ç‰‡æ–‡ä»¶",png:"å›¾ç‰‡æ–‡ä»¶",gif:"å›¾ç‰‡æ–‡ä»¶",mp4:"è§†é¢‘æ–‡ä»¶",avi:"è§†é¢‘æ–‡ä»¶",mov:"è§†é¢‘æ–‡ä»¶",mp3:"éŸ³é¢‘æ–‡ä»¶",wav:"éŸ³é¢‘æ–‡ä»¶",zip:"å‹ç¼©æ–‡ä»¶",rar:"å‹ç¼©æ–‡ä»¶","7z":"å‹ç¼©æ–‡ä»¶",psd:"Photoshopæ–‡ä»¶",ai:"Illustrator",sketch:"Sketchæ–‡ä»¶",fig:"Figmaæ–‡ä»¶",sql:"SQLæ–‡ä»¶",md:"Markdown",txt:"æ–‡æœ¬æ–‡ä»¶",yaml:"é…ç½®æ–‡ä»¶",yml:"é…ç½®æ–‡ä»¶",json:"é…ç½®æ–‡ä»¶"};return t[a]||"æœªçŸ¥æ–‡ä»¶"},w=e=>{if(0===e)return"0 B";const a=1024,t=["B","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,s)).toFixed(1))+t[s]},C=e=>{const a=document.createElement("a");a.href=`data:text/plain;charset=utf-8,${encodeURIComponent(e.name)}`,a.download=e.name,document.body.appendChild(a),a.click(),document.body.removeChild(a),alert(`å¼€å§‹ä¸‹è½½æ–‡ä»¶ï¼š${e.name}`)},F=e=>{r.value=e,i.value=!0},_=()=>{i.value=!1,r.value=null},E=()=>{if(r.value){const e=s.value.findIndex(e=>e.id===r.value.id);-1!==e&&(s.value.splice(e,1),_(),alert("æ–‡ä»¶å·²åˆ é™¤"))}},I=()=>{m()};return(0,l.sV)(()=>{m(),window.addEventListener("userInfoUpdated",I)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",I)}),{userInfo:t,fileList:s,goHome:p,showUploadModal:o,openUploadModal:k,closeUploadModal:h,triggerFileInput:b,handleFileSelect:g,handleFileDrop:L,removeSelectedFile:y,submitUpload:x,downloadFile:C,showDeleteConfirm:F,closeDeleteModal:_,confirmDelete:E,selectedFile:n,uploadForm:d,formErrors:v,uploading:c,showDeleteModal:i,fileToDelete:r,fileInput:a,getFileIcon:T,getFileType:A,formatFileSize:w}}});const Il=(0,r.A)(El,[["render",_l],["__scopeId","data-v-5d1aacdb"]]);var Sl=Il;const Ml={class:"user-management-container"},Dl={class:"page-header"},Ul={class:"header-left"},Rl={class:"title-section"},Ol={class:"page-title"},Pl={class:"header-right"},Nl={class:"user-info"},Kl={class:"user-list"},zl={class:"list-header"},Xl={class:"user-table"},Wl={class:"user-info"},jl=["src","alt"],Hl={class:"actions"},ql=["onClick"],Jl=["onClick"],Vl={class:"modal-header"},$l={class:"modal-body"},Ql={class:"form-group"},Bl=["disabled"],Gl={key:0,class:"form-error"},Yl={class:"form-group"},Zl={key:0,class:"form-error"},eo={class:"form-group"},ao={key:0,class:"form-error"},to={class:"form-group"},so={key:0,class:"form-error"},lo={class:"form-group"},oo={key:0,class:"form-error"},io={class:"form-group"},no={key:0,class:"form-error"},ro={class:"modal-footer"},co={class:"modal-header"},uo={class:"modal-body"},vo={class:"modal-footer"};function po(e,a,t,o,i,n){const r=(0,l.g2)("a-icon"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",Ml,[(0,l.Lk)("div",Dl,[(0,l.Lk)("div",Ul,[(0,l.Lk)("div",Rl,[(0,l.Lk)("h1",Ol,[(0,l.bF)(r,{type:"user",class:"title-icon"}),a[18]||(a[18]=(0,l.eW)(" ç”¨æˆ·ç®¡ç† ",-1))]),a[19]||(a[19]=(0,l.Lk)("p",{class:"page-subtitle"},"ç®¡ç†ç³»ç»Ÿç”¨æˆ·è´¦æˆ·ã€æƒé™å’Œè§’è‰²åˆ†é…",-1))])]),(0,l.Lk)("div",Pl,[(0,l.Lk)("div",Nl,[(0,l.bF)(d,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(c,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{type:"home"}),a[20]||(a[20]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[20]},8,["onClick"])])]),a[35]||(a[35]=(0,l.Fv)('<div class="stats-overview" data-v-0f9e2541><div class="stat-card" data-v-0f9e2541><div class="stat-icon" data-v-0f9e2541>ğŸ‘¥</div><div class="stat-content" data-v-0f9e2541><div class="stat-number" data-v-0f9e2541>156</div><div class="stat-label" data-v-0f9e2541>æ€»ç”¨æˆ·æ•°</div></div></div><div class="stat-card" data-v-0f9e2541><div class="stat-icon" data-v-0f9e2541>âœ…</div><div class="stat-content" data-v-0f9e2541><div class="stat-number" data-v-0f9e2541>142</div><div class="stat-label" data-v-0f9e2541>æ´»è·ƒç”¨æˆ·</div></div></div><div class="stat-card" data-v-0f9e2541><div class="stat-icon" data-v-0f9e2541>ğŸ”’</div><div class="stat-content" data-v-0f9e2541><div class="stat-number" data-v-0f9e2541>8</div><div class="stat-label" data-v-0f9e2541>ç®¡ç†å‘˜</div></div></div><div class="stat-card" data-v-0f9e2541><div class="stat-icon" data-v-0f9e2541>ğŸ“…</div><div class="stat-content" data-v-0f9e2541><div class="stat-number" data-v-0f9e2541>12</div><div class="stat-label" data-v-0f9e2541>æœ¬æœˆæ–°å¢</div></div></div></div>',1)),(0,l.Lk)("div",Kl,[(0,l.Lk)("div",zl,[a[21]||(a[21]=(0,l.Lk)("h2",null,"ç”¨æˆ·åˆ—è¡¨",-1)),(0,l.Lk)("button",{class:"btn-add",onClick:a[0]||(a[0]=(...a)=>e.showAddModal&&e.showAddModal(...a))},"+ æ·»åŠ ç”¨æˆ·")]),(0,l.Lk)("div",Xl,[(0,l.Lk)("table",null,[a[22]||(a[22]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ç”¨æˆ·ID"),(0,l.Lk)("th",null,"ç”¨æˆ·ä¿¡æ¯"),(0,l.Lk)("th",null,"ç”¨æˆ·å"),(0,l.Lk)("th",null,"é‚®ç®±"),(0,l.Lk)("th",null,"è§’è‰²"),(0,l.Lk)("th",null,"çŠ¶æ€"),(0,l.Lk)("th",null,"åˆ›å»ºæ—¶é—´"),(0,l.Lk)("th",null,"æ“ä½œ")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.users,a=>((0,l.uX)(),(0,l.CE)("tr",{key:a.id},[(0,l.Lk)("td",null,(0,v.v_)(a.id),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Wl,[(0,l.Lk)("img",{src:a.avatar,alt:a.name,class:"avatar"},null,8,jl),(0,l.Lk)("span",null,(0,v.v_)(a.name),1)])]),(0,l.Lk)("td",null,(0,v.v_)(a.username),1),(0,l.Lk)("td",null,(0,v.v_)(a.email),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["role",a.role])},(0,v.v_)(a.roleText),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",a.status])},(0,v.v_)(a.statusText),3)]),(0,l.Lk)("td",null,(0,v.v_)(a.createTime),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",Hl,[(0,l.Lk)("button",{class:"btn-edit",onClick:t=>e.showEditModal(a)},"ç¼–è¾‘",8,ql),(0,l.Lk)("button",{class:"btn-delete",onClick:t=>e.showDeleteConfirm(a)},"åˆ é™¤",8,Jl)])])]))),128))])])])]),e.showModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[12]||(a[12]=(...a)=>e.closeModal&&e.closeModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[11]||(a[11]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",Vl,[(0,l.Lk)("h3",null,(0,v.v_)(e.isEditing?"ç¼–è¾‘ç”¨æˆ·":"æ·»åŠ ç”¨æˆ·"),1),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeModal&&e.closeModal(...a))},"Ã—")]),(0,l.Lk)("div",$l,[(0,l.Lk)("form",{onSubmit:a[8]||(a[8]=(0,s.D$)((...a)=>e.submitForm&&e.submitForm(...a),["prevent"]))},[(0,l.Lk)("div",Ql,[a[23]||(a[23]=(0,l.Lk)("label",null,"ç”¨æˆ·ID",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=a=>e.formData.id=a),disabled:e.isEditing,placeholder:"è¯·è¾“å…¥ç”¨æˆ·ID"},null,8,Bl),[[s.Jo,e.formData.id]]),e.formErrors.id?((0,l.uX)(),(0,l.CE)("div",Gl,(0,v.v_)(e.formErrors.id),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Yl,[a[24]||(a[24]=(0,l.Lk)("label",null,"å§“å",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=a=>e.formData.name=a),placeholder:"è¯·è¾“å…¥å§“å"},null,512),[[s.Jo,e.formData.name]]),e.formErrors.name?((0,l.uX)(),(0,l.CE)("div",Zl,(0,v.v_)(e.formErrors.name),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",eo,[a[25]||(a[25]=(0,l.Lk)("label",null,"ç”¨æˆ·å",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=a=>e.formData.username=a),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,512),[[s.Jo,e.formData.username]]),e.formErrors.username?((0,l.uX)(),(0,l.CE)("div",ao,(0,v.v_)(e.formErrors.username),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",to,[a[26]||(a[26]=(0,l.Lk)("label",null,"é‚®ç®±",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email","onUpdate:modelValue":a[5]||(a[5]=a=>e.formData.email=a),placeholder:"è¯·è¾“å…¥é‚®ç®±"},null,512),[[s.Jo,e.formData.email]]),e.formErrors.email?((0,l.uX)(),(0,l.CE)("div",so,(0,v.v_)(e.formErrors.email),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",lo,[a[28]||(a[28]=(0,l.Lk)("label",null,"è§’è‰²",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[6]||(a[6]=a=>e.formData.role=a)},a[27]||(a[27]=[(0,l.Lk)("option",{value:""},"è¯·é€‰æ‹©è§’è‰²",-1),(0,l.Lk)("option",{value:"admin"},"ç®¡ç†å‘˜",-1),(0,l.Lk)("option",{value:"employee"},"å‘˜å·¥",-1)]),512),[[s.u1,e.formData.role]]),e.formErrors.role?((0,l.uX)(),(0,l.CE)("div",oo,(0,v.v_)(e.formErrors.role),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",io,[a[30]||(a[30]=(0,l.Lk)("label",null,"çŠ¶æ€",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[7]||(a[7]=a=>e.formData.status=a)},a[29]||(a[29]=[(0,l.Lk)("option",{value:""},"è¯·é€‰æ‹©çŠ¶æ€",-1),(0,l.Lk)("option",{value:"active"},"å¯ç”¨",-1),(0,l.Lk)("option",{value:"inactive"},"ç¦ç”¨",-1)]),512),[[s.u1,e.formData.status]]),e.formErrors.status?((0,l.uX)(),(0,l.CE)("div",no,(0,v.v_)(e.formErrors.status),1)):(0,l.Q3)("",!0)])],32)]),(0,l.Lk)("div",ro,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[9]||(a[9]=(...a)=>e.closeModal&&e.closeModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[10]||(a[10]=(...a)=>e.submitForm&&e.submitForm(...a))},(0,v.v_)(e.isEditing?"æ›´æ–°":"æ·»åŠ "),1)])])])):(0,l.Q3)("",!0),e.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"modal-overlay",onClick:a[17]||(a[17]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},[(0,l.Lk)("div",{class:"modal-content delete-modal",onClick:a[16]||(a[16]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",co,[a[31]||(a[31]=(0,l.Lk)("h3",null,"ç¡®è®¤åˆ é™¤",-1)),(0,l.Lk)("button",{class:"modal-close",onClick:a[13]||(a[13]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"Ã—")]),(0,l.Lk)("div",uo,[(0,l.Lk)("p",null,[a[32]||(a[32]=(0,l.eW)("ç¡®å®šè¦åˆ é™¤ç”¨æˆ· ",-1)),(0,l.Lk)("strong",null,(0,v.v_)(e.userToDelete?.name),1),a[33]||(a[33]=(0,l.eW)(" å—ï¼Ÿ",-1))]),a[34]||(a[34]=(0,l.Lk)("p",null,"æ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚",-1))]),(0,l.Lk)("div",vo,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[14]||(a[14]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-delete-confirm",onClick:a[15]||(a[15]=(...a)=>e.confirmDelete&&e.confirmDelete(...a))},"ç¡®è®¤åˆ é™¤")])])])):(0,l.Q3)("",!0)])}var mo=(0,l.pM)({name:"UserManagement",setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=UserManagement1"}),t=(0,S.KR)([{id:"USR001",name:"å¼ ä¸‰",username:"zhangsan",email:"zhangsan@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User1",role:"admin",roleText:"ç®¡ç†å‘˜",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-15"},{id:"USR002",name:"æå››",username:"lisi",email:"lisi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User2",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-14"},{id:"USR003",name:"ç‹äº”",username:"wangwu",email:"wangwu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User3",role:"employee",roleText:"å‘˜å·¥",status:"inactive",statusText:"ç¦ç”¨",createTime:"2024-01-13"},{id:"USR004",name:"èµµå…­",username:"zhaoliu",email:"zhaoliu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User4",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-12"},{id:"USR005",name:"é’±ä¸ƒ",username:"qianqi",email:"qianqi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User5",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-11"},{id:"USR006",name:"å­™å…«",username:"sunba",email:"sunba@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User6",role:"admin",roleText:"ç®¡ç†å‘˜",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-10"},{id:"USR007",name:"å‘¨ä¹",username:"zhoujiu",email:"zhoujiu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User7",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-09"},{id:"USR008",name:"å´å",username:"wushi",email:"wushi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User8",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-08"},{id:"USR009",name:"éƒ‘åä¸€",username:"zhengshiyi",email:"zhengshiyi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User9",role:"admin",roleText:"ç®¡ç†å‘˜",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-07"},{id:"USR010",name:"ç‹åäºŒ",username:"wangshier",email:"wangshier@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User10",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-06"},{id:"USR011",name:"æåä¸‰",username:"lishisan",email:"lishisan@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User11",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-05"},{id:"USR012",name:"å¼ åå››",username:"zhangshisi",email:"zhangshisi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User12",role:"employee",roleText:"å‘˜å·¥",status:"inactive",statusText:"ç¦ç”¨",createTime:"2024-01-04"},{id:"USR013",name:"åˆ˜åäº”",username:"liushiwu",email:"liushiwu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User13",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-03"},{id:"USR014",name:"é™ˆåå…­",username:"chenshiliu",email:"chenshiliu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User14",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-02"},{id:"USR015",name:"æ¨åä¸ƒ",username:"yangshiqi",email:"yangshiqi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User15",role:"admin",roleText:"ç®¡ç†å‘˜",status:"active",statusText:"å¯ç”¨",createTime:"2024-01-01"},{id:"USR016",name:"é»„åå…«",username:"huangshiba",email:"huangshiba@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User16",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-31"},{id:"USR017",name:"èµµåä¹",username:"zhaoshijiu",email:"zhaoshijiu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User17",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-30"},{id:"USR018",name:"å´äºŒå",username:"wuershi",email:"wuershi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User18",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-29"},{id:"USR019",name:"å¾äºŒä¸€",username:"xuerer",email:"xuerer@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User19",role:"employee",roleText:"å‘˜å·¥",status:"inactive",statusText:"ç¦ç”¨",createTime:"2023-12-28"},{id:"USR020",name:"å­™äºŒäºŒ",username:"sunerr",email:"sunerr@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User20",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-27"},{id:"USR021",name:"é©¬äºŒä¸‰",username:"maersan",email:"maersan@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User21",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-26"},{id:"USR022",name:"æœ±äºŒå››",username:"zhuersi",email:"zhuersi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User22",role:"admin",roleText:"ç®¡ç†å‘˜",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-25"},{id:"USR023",name:"èƒ¡äºŒäº”",username:"huerwu",email:"huerwu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User23",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-24"},{id:"USR024",name:"éƒ­äºŒå…­",username:"guoerliu",email:"guoerliu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User24",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-23"},{id:"USR025",name:"ä½•äºŒä¸ƒ",username:"heerqi",email:"heerqi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User25",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-22"},{id:"USR026",name:"é«˜äºŒå…«",username:"gaoerba",email:"gaoerba@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User26",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-21"},{id:"USR027",name:"æ—äºŒä¹",username:"linerjiu",email:"linerjiu@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User27",role:"admin",roleText:"ç®¡ç†å‘˜",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-20"},{id:"USR028",name:"ç½—ä¸‰å",username:"luosanshi",email:"luosanshi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User28",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-19"},{id:"USR029",name:"æ¢ä¸‰ä¸€",username:"liangsanyi",email:"liangsanyi@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User29",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-18"},{id:"USR030",name:"è°¢ä¸‰äºŒ",username:"xiesaner",email:"xiesaner@company.com",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=User30",role:"employee",roleText:"å‘˜å·¥",status:"active",statusText:"å¯ç”¨",createTime:"2023-12-17"}]),s=(0,S.KR)(!1),o=(0,S.KR)(!1),i=(0,S.KR)({id:"",name:"",username:"",email:"",role:"",status:"",avatar:""}),n=(0,S.KR)({id:"",name:"",username:"",email:"",role:"",status:""}),r=(0,S.KR)(!1),d=(0,S.KR)(null),c=()=>{e.push("/")},v=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);a.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||a.value.avatar}}catch(t){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),a.value={...s,username:s.username||"",avatar:a.value.avatar}}else a.value={...s,username:s.username||"",avatar:a.value.avatar}}catch(t){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},p=()=>{o.value=!1,i.value={id:"",name:"",username:"",email:"",role:"",status:"",avatar:""},n.value={id:"",name:"",username:"",email:"",role:"",status:""},s.value=!0},m=e=>{o.value=!0,i.value={...e,roleText:void 0,statusText:void 0},n.value={id:"",name:"",username:"",email:"",role:"",status:""},s.value=!0},k=()=>{s.value=!1},h=()=>{let e=!0;if(n.value={id:"",name:"",username:"",email:"",role:"",status:""},i.value.id||(n.value.id="ç”¨æˆ·IDä¸èƒ½ä¸ºç©º",e=!1),i.value.name||(n.value.name="å§“åä¸èƒ½ä¸ºç©º",e=!1),i.value.username||(n.value.username="ç”¨æˆ·åä¸èƒ½ä¸ºç©º",e=!1),i.value.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.value.email)||(n.value.email="é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",e=!1):(n.value.email="é‚®ç®±ä¸èƒ½ä¸ºç©º",e=!1),i.value.role||(n.value.role="è§’è‰²ä¸èƒ½ä¸ºç©º",e=!1),i.value.status||(n.value.status="çŠ¶æ€ä¸èƒ½ä¸ºç©º",e=!1),!o.value||i.value.id!==t.value.find(e=>e.id===i.value.id)?.id){const a=t.value.find(e=>e.id===i.value.id);a&&(n.value.id="ç”¨æˆ·IDå·²å­˜åœ¨",e=!1)}const a=t.value.find(e=>e.username===i.value.username&&(!o.value||e.id!==i.value.id));return a&&(n.value.username="ç”¨æˆ·åå·²å­˜åœ¨",e=!1),e},b=()=>{if(h())if(o.value){const e=t.value.findIndex(e=>e.id===i.value.id);if(-1!==e){const a={...i.value,roleText:"admin"===i.value.role?"ç®¡ç†å‘˜":"å‘˜å·¥",statusText:"active"===i.value.status?"å¯ç”¨":"ç¦ç”¨",avatar:i.value.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.value.id}`};t.value[e]=a,k(),alert("ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°")}}else{const e={...i.value,roleText:"admin"===i.value.role?"ç®¡ç†å‘˜":"å‘˜å·¥",statusText:"active"===i.value.status?"å¯ç”¨":"ç¦ç”¨",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.value.id}`,createTime:(new Date).toISOString().split("T")[0]};t.value.unshift(e),k(),alert("ç”¨æˆ·æ·»åŠ æˆåŠŸ")}},g=e=>{d.value=e,r.value=!0},L=()=>{r.value=!1,d.value=null},f=()=>{if(d.value){const e=t.value.findIndex(e=>e.id===d.value.id);-1!==e?(t.value.splice(e,1),L(),alert("ç”¨æˆ·å·²åˆ é™¤")):alert("æœªæ‰¾åˆ°è¯¥ç”¨æˆ·ï¼Œæ— æ³•åˆ é™¤")}},y=()=>{v()};return(0,l.sV)(()=>{v(),window.addEventListener("userInfoUpdated",y)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",y)}),{userInfo:a,users:t,goHome:c,showModal:s,isEditing:o,formData:i,formErrors:n,showAddModal:p,showEditModal:m,closeModal:k,submitForm:b,validateForm:h,showDeleteConfirm:g,closeDeleteModal:L,confirmDelete:f,showDeleteModal:r,userToDelete:d}}});const ko=(0,r.A)(mo,[["render",po],["__scopeId","data-v-0f9e2541"]]);var ho=ko;const bo={class:"system-container"},go={class:"page-header"},Lo={class:"header-left"},fo={class:"title-section"},yo={class:"page-title"},xo={class:"header-right"},To={class:"user-info"},Ao={class:"system-overview"},wo={class:"status-card"},Co={class:"status-content"},Fo={class:"status-value"},_o={class:"status-card"},Eo={class:"status-content"},Io={class:"status-value"},So={class:"status-card"},Mo={class:"status-content"},Do={class:"status-value"},Uo={class:"monitoring-data"},Ro={class:"data-section"},Oo={class:"data-grid"},Po={class:"data-item"},No={class:"data-value"},Ko={class:"data-item"},zo={class:"data-value"},Xo={class:"data-item"},Wo={class:"data-value"},jo={class:"data-item"},Ho={class:"data-value"},qo={class:"system-logs"},Jo={class:"logs-header"},Vo={class:"logs-table"},$o={class:"user-info"},Qo=["src","alt"];function Bo(e,a,t,s,o,i){const n=(0,l.g2)("a-icon"),r=(0,l.g2)("a-avatar"),d=(0,l.g2)("a-button");return(0,l.uX)(),(0,l.CE)("div",bo,[(0,l.Lk)("div",go,[(0,l.Lk)("div",Lo,[(0,l.Lk)("div",fo,[(0,l.Lk)("h1",yo,[(0,l.bF)(n,{type:"dashboard",class:"title-icon"}),a[1]||(a[1]=(0,l.eW)(" ç³»ç»Ÿç›‘æ§ ",-1))]),a[2]||(a[2]=(0,l.Lk)("p",{class:"page-subtitle"},"å®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡å’Œèµ„æºä½¿ç”¨æƒ…å†µ",-1))])]),(0,l.Lk)("div",xo,[(0,l.Lk)("div",To,[(0,l.bF)(r,{size:32,class:"user-avatar",src:e.userInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.userInfo.username),1)]),(0,l.bF)(d,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"home"}),a[3]||(a[3]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[3]},8,["onClick"])])]),(0,l.Lk)("div",Ao,[a[10]||(a[10]=(0,l.Fv)('<div class="status-card" data-v-8a904dee><div class="status-icon" data-v-8a904dee>ğŸŸ¢</div><div class="status-content" data-v-8a904dee><div class="status-title" data-v-8a904dee>ç³»ç»ŸçŠ¶æ€</div><div class="status-value" data-v-8a904dee>æ­£å¸¸è¿è¡Œ</div></div></div>',1)),(0,l.Lk)("div",wo,[a[5]||(a[5]=(0,l.Lk)("div",{class:"status-icon"},"âš¡",-1)),(0,l.Lk)("div",Co,[a[4]||(a[4]=(0,l.Lk)("div",{class:"status-title"},"CPUä½¿ç”¨ç‡",-1)),(0,l.Lk)("div",Fo,(0,v.v_)(e.systemStats.cpuUsage)+"%",1)])]),(0,l.Lk)("div",_o,[a[7]||(a[7]=(0,l.Lk)("div",{class:"status-icon"},"ğŸ’¾",-1)),(0,l.Lk)("div",Eo,[a[6]||(a[6]=(0,l.Lk)("div",{class:"status-title"},"å†…å­˜ä½¿ç”¨ç‡",-1)),(0,l.Lk)("div",Io,(0,v.v_)(e.systemStats.memoryUsage)+"%",1)])]),(0,l.Lk)("div",So,[a[9]||(a[9]=(0,l.Lk)("div",{class:"status-icon"},"ğŸ’¿",-1)),(0,l.Lk)("div",Mo,[a[8]||(a[8]=(0,l.Lk)("div",{class:"status-title"},"ç£ç›˜ä½¿ç”¨ç‡",-1)),(0,l.Lk)("div",Do,(0,v.v_)(e.systemStats.diskUsage)+"%",1)])])]),(0,l.Lk)("div",Uo,[(0,l.Lk)("div",Ro,[a[15]||(a[15]=(0,l.Lk)("h2",null,"å®æ—¶ç›‘æ§",-1)),(0,l.Lk)("div",Oo,[(0,l.Lk)("div",Po,[a[11]||(a[11]=(0,l.Lk)("div",{class:"data-label"},"åœ¨çº¿ç”¨æˆ·",-1)),(0,l.Lk)("div",No,(0,v.v_)(e.systemStats.onlineUsers),1)]),(0,l.Lk)("div",Ko,[a[12]||(a[12]=(0,l.Lk)("div",{class:"data-label"},"æ´»è·ƒä¼šè¯",-1)),(0,l.Lk)("div",zo,(0,v.v_)(e.systemStats.activeSessions),1)]),(0,l.Lk)("div",Xo,[a[13]||(a[13]=(0,l.Lk)("div",{class:"data-label"},"è¯·æ±‚å“åº”æ—¶é—´",-1)),(0,l.Lk)("div",Wo,(0,v.v_)(e.systemStats.responseTime)+"ms",1)]),(0,l.Lk)("div",jo,[a[14]||(a[14]=(0,l.Lk)("div",{class:"data-label"},"é”™è¯¯ç‡",-1)),(0,l.Lk)("div",Ho,(0,v.v_)(e.systemStats.errorRate.toFixed(2))+"%",1)])])])]),(0,l.Lk)("div",qo,[(0,l.Lk)("div",Jo,[a[16]||(a[16]=(0,l.Lk)("h2",null,"ç³»ç»Ÿæ—¥å¿—",-1)),(0,l.Lk)("button",{class:"btn-refresh",onClick:a[0]||(a[0]=(...a)=>e.refreshLogs&&e.refreshLogs(...a))},"åˆ·æ–°")]),(0,l.Lk)("div",Vo,[(0,l.Lk)("table",null,[a[17]||(a[17]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"æ—¶é—´"),(0,l.Lk)("th",null,"çº§åˆ«"),(0,l.Lk)("th",null,"æ¨¡å—"),(0,l.Lk)("th",null,"æ¶ˆæ¯"),(0,l.Lk)("th",null,"ç”¨æˆ·")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.systemLogs,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,v.v_)(e.timestamp),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["log-level",e.level])},(0,v.v_)(e.levelText),3)]),(0,l.Lk)("td",null,(0,v.v_)(e.module),1),(0,l.Lk)("td",null,(0,v.v_)(e.message),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",$o,[(0,l.Lk)("img",{src:e.userAvatar,alt:e.user,class:"avatar"},null,8,Qo),(0,l.Lk)("span",null,(0,v.v_)(e.user),1)])])]))),128))])])])])])}var Go=(0,l.pM)({name:"System",setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemUser1"}),t=(0,S.KR)({cpuUsage:45,memoryUsage:62,diskUsage:78,onlineUsers:142,activeSessions:89,responseTime:125,errorRate:.02}),s=(0,S.KR)([{id:"LOG001",timestamp:"2024-01-15 10:30:00",level:"info",levelText:"ä¿¡æ¯",module:"ç”¨æˆ·ç®¡ç†",message:"ç”¨æˆ·ç™»å½•æˆåŠŸ",user:"å¼ ä¸‰",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog1"},{id:"LOG002",timestamp:"2024-01-15 10:25:00",level:"warning",levelText:"è­¦å‘Š",module:"ç³»ç»Ÿç›‘æ§",message:"å†…å­˜ä½¿ç”¨ç‡è¶…è¿‡80%",user:"æå››",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog2"},{id:"LOG003",timestamp:"2024-01-15 10:20:00",level:"error",levelText:"é”™è¯¯",module:"æ–‡ä»¶ç®¡ç†",message:"æ–‡ä»¶ä¸Šä¼ å¤±è´¥",user:"ç‹äº”",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog3"},{id:"LOG004",timestamp:"2024-01-15 10:15:00",level:"info",levelText:"ä¿¡æ¯",module:"è€ƒå‹¤ç®¡ç†",message:"å‘˜å·¥æ‰“å¡è®°å½•åŒæ­¥å®Œæˆ",user:"èµµå…­",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog4"},{id:"LOG005",timestamp:"2024-01-15 10:10:00",level:"info",levelText:"ä¿¡æ¯",module:"å®¡æ‰¹æµç¨‹",message:"è¯·å‡ç”³è¯·å®¡æ‰¹é€šè¿‡",user:"é’±ä¸ƒ",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog5"},{id:"LOG006",timestamp:"2024-01-15 10:05:00",level:"warning",levelText:"è­¦å‘Š",module:"æ•°æ®åº“",message:"æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨ç‡è¾ƒé«˜",user:"å­™å…«",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog6"},{id:"LOG007",timestamp:"2024-01-15 10:00:00",level:"info",levelText:"ä¿¡æ¯",module:"å…¬å‘Šç®¡ç†",message:"æ–°å…¬å‘Šå‘å¸ƒæˆåŠŸ",user:"å‘¨ä¹",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog7"},{id:"LOG008",timestamp:"2024-01-15 09:55:00",level:"error",levelText:"é”™è¯¯",module:"é‚®ä»¶æœåŠ¡",message:"é‚®ä»¶å‘é€å¤±è´¥",user:"å´å",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog8"},{id:"LOG009",timestamp:"2024-01-15 09:50:00",level:"info",levelText:"ä¿¡æ¯",module:"æƒé™ç®¡ç†",message:"è§’è‰²æƒé™æ›´æ–°å®Œæˆ",user:"éƒ‘åä¸€",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog9"},{id:"LOG010",timestamp:"2024-01-15 09:45:00",level:"info",levelText:"ä¿¡æ¯",module:"ç³»ç»Ÿå¤‡ä»½",message:"ç³»ç»Ÿæ•°æ®å¤‡ä»½å®Œæˆ",user:"ç‹åäºŒ",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog10"},{id:"LOG011",timestamp:"2024-01-15 09:40:00",level:"warning",levelText:"è­¦å‘Š",module:"ç½‘ç»œç›‘æ§",message:"ç½‘ç»œå»¶è¿Ÿå¼‚å¸¸",user:"æåä¸‰",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog11"},{id:"LOG012",timestamp:"2024-01-15 09:35:00",level:"info",levelText:"ä¿¡æ¯",module:"ç”¨æˆ·ç®¡ç†",message:"æ–°ç”¨æˆ·æ³¨å†ŒæˆåŠŸ",user:"å¼ åå››",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog12"},{id:"LOG013",timestamp:"2024-01-15 09:30:00",level:"info",levelText:"ä¿¡æ¯",module:"æ–‡ä»¶ç®¡ç†",message:"æ–‡ä»¶ä¸‹è½½å®Œæˆ",user:"åˆ˜åäº”",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog13"},{id:"LOG014",timestamp:"2024-01-15 09:25:00",level:"error",levelText:"é”™è¯¯",module:"å®¡æ‰¹æµç¨‹",message:"å®¡æ‰¹æµç¨‹å¼‚å¸¸ç»ˆæ­¢",user:"é™ˆåå…­",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog14"},{id:"LOG015",timestamp:"2024-01-15 09:20:00",level:"info",levelText:"ä¿¡æ¯",module:"è€ƒå‹¤ç®¡ç†",message:"è€ƒå‹¤æ•°æ®ç»Ÿè®¡å®Œæˆ",user:"æ¨åä¸ƒ",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog15"},{id:"LOG016",timestamp:"2024-01-15 09:15:00",level:"warning",levelText:"è­¦å‘Š",module:"ç³»ç»Ÿç›‘æ§",message:"CPUä½¿ç”¨ç‡å¼‚å¸¸æ³¢åŠ¨",user:"é»„åå…«",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog16"},{id:"LOG017",timestamp:"2024-01-15 09:10:00",level:"info",levelText:"ä¿¡æ¯",module:"å…¬å‘Šç®¡ç†",message:"å…¬å‘Šé˜…è¯»ç»Ÿè®¡æ›´æ–°",user:"èµµåä¹",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog17"},{id:"LOG018",timestamp:"2024-01-15 09:05:00",level:"info",levelText:"ä¿¡æ¯",module:"æƒé™ç®¡ç†",message:"ç”¨æˆ·æƒé™éªŒè¯é€šè¿‡",user:"å´äºŒå",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog18"},{id:"LOG019",timestamp:"2024-01-15 09:00:00",level:"error",levelText:"é”™è¯¯",module:"æ•°æ®åº“",message:"æ•°æ®åº“æŸ¥è¯¢è¶…æ—¶",user:"å¾äºŒä¸€",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog19"},{id:"LOG020",timestamp:"2024-01-15 08:55:00",level:"info",levelText:"ä¿¡æ¯",module:"ç³»ç»Ÿç»´æŠ¤",message:"ç³»ç»Ÿç»´æŠ¤ä»»åŠ¡å®Œæˆ",user:"å­™äºŒäºŒ",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog20"},{id:"LOG021",timestamp:"2024-01-15 08:50:00",level:"info",levelText:"ä¿¡æ¯",module:"ç”¨æˆ·ç®¡ç†",message:"ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ",user:"é©¬äºŒä¸‰",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog21"},{id:"LOG022",timestamp:"2024-01-15 08:45:00",level:"warning",levelText:"è­¦å‘Š",module:"ç½‘ç»œç›‘æ§",message:"ç½‘ç»œæµé‡å¼‚å¸¸",user:"æœ±äºŒå››",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog22"},{id:"LOG023",timestamp:"2024-01-15 08:40:00",level:"info",levelText:"ä¿¡æ¯",module:"æ–‡ä»¶ç®¡ç†",message:"æ–‡ä»¶å‹ç¼©å®Œæˆ",user:"èƒ¡äºŒäº”",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog23"},{id:"LOG024",timestamp:"2024-01-15 08:35:00",level:"info",levelText:"ä¿¡æ¯",module:"å®¡æ‰¹æµç¨‹",message:"å®¡æ‰¹æµç¨‹å¯åŠ¨æˆåŠŸ",user:"éƒ­äºŒå…­",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog24"},{id:"LOG025",timestamp:"2024-01-15 08:30:00",level:"error",levelText:"é”™è¯¯",module:"é‚®ä»¶æœåŠ¡",message:"é‚®ä»¶æ¨¡æ¿åŠ è½½å¤±è´¥",user:"ä½•äºŒä¸ƒ",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog25"},{id:"LOG026",timestamp:"2024-01-15 08:25:00",level:"info",levelText:"ä¿¡æ¯",module:"è€ƒå‹¤ç®¡ç†",message:"è€ƒå‹¤è§„åˆ™æ›´æ–°å®Œæˆ",user:"é«˜äºŒå…«",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog26"},{id:"LOG027",timestamp:"2024-01-15 08:20:00",level:"info",levelText:"ä¿¡æ¯",module:"ç³»ç»Ÿç›‘æ§",message:"ç³»ç»Ÿæ€§èƒ½æ£€æµ‹å®Œæˆ",user:"æ—äºŒä¹",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog27"},{id:"LOG028",timestamp:"2024-01-15 08:15:00",level:"warning",levelText:"è­¦å‘Š",module:"æ•°æ®åº“",message:"æ•°æ®åº“ç´¢å¼•é‡å»ºå»ºè®®",user:"ç½—ä¸‰å",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog28"},{id:"LOG029",timestamp:"2024-01-15 08:10:00",level:"info",levelText:"ä¿¡æ¯",module:"å…¬å‘Šç®¡ç†",message:"å…¬å‘Šåˆ†ç±»æ›´æ–°å®Œæˆ",user:"æ¢ä¸‰ä¸€",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog29"},{id:"LOG030",timestamp:"2024-01-15 08:05:00",level:"info",levelText:"ä¿¡æ¯",module:"æƒé™ç®¡ç†",message:"æƒé™ç»„é…ç½®å®Œæˆ",user:"è°¢ä¸‰äºŒ",userAvatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog30"}]),o=()=>{e.push("/")},i=()=>{t.value.cpuUsage=Math.floor(31*Math.random())+35,t.value.memoryUsage=Math.floor(31*Math.random())+50,t.value.diskUsage=Math.floor(16*Math.random())+70,t.value.onlineUsers=Math.floor(61*Math.random())+120,t.value.activeSessions=Math.floor(41*Math.random())+70,t.value.responseTime=Math.floor(121*Math.random())+80,t.value.errorRate=parseFloat((.1*Math.random()).toFixed(2))};let n=null;const r=()=>{n=setInterval(i,3e3)},d=()=>{n&&(clearInterval(n),n=null)},c=()=>{const e=["ç”¨æˆ·ç®¡ç†","ç³»ç»Ÿç›‘æ§","æ–‡ä»¶ç®¡ç†","è€ƒå‹¤ç®¡ç†","å®¡æ‰¹æµç¨‹","å…¬å‘Šç®¡ç†","æƒé™ç®¡ç†","æ•°æ®åº“","é‚®ä»¶æœåŠ¡","ç½‘ç»œç›‘æ§","ç³»ç»Ÿç»´æŠ¤"],a=["info","warning","error"],t=["ä¿¡æ¯","è­¦å‘Š","é”™è¯¯"],l=["å¼ ä¸‰","æå››","ç‹äº”","èµµå…­","é’±ä¸ƒ","å­™å…«","å‘¨ä¹","å´å","éƒ‘åä¸€","ç‹åäºŒ","æåä¸‰","å¼ åå››","åˆ˜åäº”","é™ˆåå…­","æ¨åä¸ƒ","é»„åå…«","èµµåä¹","å´äºŒå","å¾äºŒä¸€","å­™äºŒäºŒ","é©¬äºŒä¸‰","æœ±äºŒå››","èƒ¡äºŒäº”","éƒ­äºŒå…­","ä½•äºŒä¸ƒ","é«˜äºŒå…«","æ—äºŒä¹","ç½—ä¸‰å","æ¢ä¸‰ä¸€","è°¢ä¸‰äºŒ"],o=["ç”¨æˆ·ç™»å½•æˆåŠŸ","å†…å­˜ä½¿ç”¨ç‡è¶…è¿‡80%","æ–‡ä»¶ä¸Šä¼ å¤±è´¥","å‘˜å·¥æ‰“å¡è®°å½•åŒæ­¥å®Œæˆ","è¯·å‡ç”³è¯·å®¡æ‰¹é€šè¿‡","æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨ç‡è¾ƒé«˜","æ–°å…¬å‘Šå‘å¸ƒæˆåŠŸ","é‚®ä»¶å‘é€å¤±è´¥","è§’è‰²æƒé™æ›´æ–°å®Œæˆ","ç³»ç»Ÿæ•°æ®å¤‡ä»½å®Œæˆ","ç½‘ç»œå»¶è¿Ÿå¼‚å¸¸","æ–°ç”¨æˆ·æ³¨å†ŒæˆåŠŸ","æ–‡ä»¶ä¸‹è½½å®Œæˆ","å®¡æ‰¹æµç¨‹å¼‚å¸¸ç»ˆæ­¢","è€ƒå‹¤æ•°æ®ç»Ÿè®¡å®Œæˆ","CPUä½¿ç”¨ç‡å¼‚å¸¸æ³¢åŠ¨","å…¬å‘Šé˜…è¯»ç»Ÿè®¡æ›´æ–°","ç”¨æˆ·æƒé™éªŒè¯é€šè¿‡","æ•°æ®åº“æŸ¥è¯¢è¶…æ—¶","ç³»ç»Ÿç»´æŠ¤ä»»åŠ¡å®Œæˆ","ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ","ç½‘ç»œæµé‡å¼‚å¸¸","æ–‡ä»¶å‹ç¼©å®Œæˆ","å®¡æ‰¹æµç¨‹å¯åŠ¨æˆåŠŸ","é‚®ä»¶æ¨¡æ¿åŠ è½½å¤±è´¥","è€ƒå‹¤è§„åˆ™æ›´æ–°å®Œæˆ","ç³»ç»Ÿæ€§èƒ½æ£€æµ‹å®Œæˆ","æ•°æ®åº“ç´¢å¼•é‡å»ºå»ºè®®","å…¬å‘Šåˆ†ç±»æ›´æ–°å®Œæˆ","æƒé™ç»„é…ç½®å®Œæˆ"],i=[],n=new Date;for(let s=0;s<30;s++){const r=e[Math.floor(Math.random()*e.length)],d=Math.floor(Math.random()*a.length),c=l[Math.floor(Math.random()*l.length)],u=o[Math.floor(Math.random()*o.length)],v=new Date(n.getTime()-24*Math.random()*60*60*1e3),p=v.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});i.push({id:`LOG${String(s+1).padStart(3,"0")}`,timestamp:p,level:a[d],levelText:t[d],module:r,message:u,user:c,userAvatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=SystemLog${s+1}`})}i.sort((e,a)=>new Date(a.timestamp)-new Date(e.timestamp)),s.value=i},v=()=>{const e=localStorage.getItem("user");if(e)try{const s=JSON.parse(e),l=localStorage.getItem("savedUserInfo");if(l)try{const e=JSON.parse(l);a.value={...s,...e,username:e.username||s.username||"",avatar:e.avatar||a.value.avatar}}catch(t){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),a.value={...s,username:s.username||"",avatar:a.value.avatar}}else a.value={...s,username:s.username||"",avatar:a.value.avatar}}catch(t){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t)}},p=()=>{v()};return(0,l.sV)(()=>{v(),r(),window.addEventListener("userInfoUpdated",p)}),(0,l.hi)(()=>{d(),window.removeEventListener("userInfoUpdated",p)}),{userInfo:a,systemStats:t,systemLogs:s,goHome:o,refreshLogs:c}}});const Yo=(0,r.A)(Go,[["render",Bo],["__scopeId","data-v-8a904dee"]]);var Zo=Yo;const ei={class:"profile-container"},ai={class:"page-header"},ti={class:"header-left"},si={class:"title-section"},li={class:"page-title"},oi={class:"header-right"},ii={class:"user-info"},ni={class:"profile-content"},ri={class:"profile-card"},di={class:"profile-header"},ci={class:"avatar-section"},ui={class:"avatar-container"},vi={class:"avatar-overlay"},pi={class:"default-avatars"},mi={class:"avatar-grid"},ki=["onClick"],hi={class:"user-details"},bi={class:"profile-actions"};function gi(e,a,t,s,o,i){const n=(0,l.g2)("a-icon"),r=(0,l.g2)("a-avatar"),d=(0,l.g2)("a-button"),c=(0,l.g2)("a-upload"),u=(0,l.g2)("a-input"),p=(0,l.g2)("a-form-item"),m=(0,l.g2)("a-textarea"),k=(0,l.g2)("a-form");return(0,l.uX)(),(0,l.CE)("div",ei,[(0,l.Lk)("div",ai,[(0,l.Lk)("div",ti,[(0,l.Lk)("div",si,[(0,l.Lk)("h1",li,[(0,l.bF)(n,{type:"user",class:"title-icon"}),a[4]||(a[4]=(0,l.eW)(" ä¸ªäººä¿¡æ¯ç®¡ç† ",-1))]),a[5]||(a[5]=(0,l.Lk)("p",{class:"page-subtitle"},"ç®¡ç†æ‚¨çš„ä¸ªäººèµ„æ–™ã€å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯",-1))])]),(0,l.Lk)("div",oi,[(0,l.Lk)("div",ii,[(0,l.bF)(r,{size:32,class:"user-avatar",src:e.headerUserInfo.avatar},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"user"})]),_:1},8,["src"]),(0,l.Lk)("span",null,"æ¬¢è¿ï¼Œ"+(0,v.v_)(e.headerUserInfo.username),1)]),(0,l.bF)(d,{type:"link",onClick:e.goHome,class:"home-btn"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"home"}),a[6]||(a[6]=(0,l.eW)(" è¿”å›é¦–é¡µ ",-1))]),_:1,__:[6]},8,["onClick"])])]),(0,l.Lk)("div",ni,[(0,l.Lk)("div",ri,[(0,l.Lk)("div",di,[(0,l.Lk)("div",ci,[(0,l.Lk)("div",ui,[(0,l.bF)(r,{size:120,src:e.userInfo.avatar||e.defaultAvatar,class:"user-avatar"},null,8,["src"]),(0,l.Lk)("div",vi,[(0,l.bF)(c,{name:"avatar","show-upload-list":!1,"before-upload":e.beforeAvatarUpload,onChange:e.handleAvatarChange,customRequest:()=>{}},{default:(0,l.k6)(()=>[(0,l.bF)(d,{type:"primary",size:"small"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"camera"}),a[7]||(a[7]=(0,l.eW)(" æ›´æ¢å¤´åƒ ",-1))]),_:1,__:[7]})]),_:1},8,["before-upload","onChange"])])]),(0,l.Lk)("div",pi,[a[8]||(a[8]=(0,l.Lk)("h4",null,"é€‰æ‹©é»˜è®¤å¤´åƒ",-1)),(0,l.Lk)("div",mi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.defaultAvatars,(a,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,v.C4)(["default-avatar-item",{active:e.userInfo.avatar===a}]),onClick:t=>e.selectDefaultAvatar(a)},[(0,l.bF)(r,{size:50,src:a},null,8,["src"])],10,ki))),128))])])]),(0,l.Lk)("div",hi,[(0,l.bF)(k,{model:e.userInfo,"label-col":{span:6},"wrapper-col":{span:18},layout:"horizontal"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{label:"ç”¨æˆ·å"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{value:e.userInfo.username,"onUpdate:value":a[0]||(a[0]=a=>e.userInfo.username=a),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["value"])]),_:1}),(0,l.bF)(p,{label:"éƒ¨é—¨"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{value:e.userInfo.department,"onUpdate:value":a[1]||(a[1]=a=>e.userInfo.department=a),placeholder:"è¯·è¾“å…¥éƒ¨é—¨åç§°"},null,8,["value"])]),_:1}),(0,l.bF)(p,{label:"èŒä½"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{value:e.userInfo.position,"onUpdate:value":a[2]||(a[2]=a=>e.userInfo.position=a),placeholder:"è¯·è¾“å…¥èŒä½åç§°"},null,8,["value"])]),_:1}),(0,l.bF)(p,{label:"ä¸ªäººç®€ä»‹"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{value:e.userInfo.bio,"onUpdate:value":a[3]||(a[3]=a=>e.userInfo.bio=a),rows:4,placeholder:"è¯·è¾“å…¥ä¸ªäººç®€ä»‹"},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),(0,l.Lk)("div",bi,[(0,l.bF)(d,{type:"primary",onClick:e.saveProfile,loading:e.saving},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"save"}),a[9]||(a[9]=(0,l.eW)(" ä¿å­˜ä¿¡æ¯ ",-1))]),_:1,__:[9]},8,["onClick","loading"]),(0,l.bF)(d,{onClick:e.resetProfile,class:"btn-reset"},{default:(0,l.k6)(()=>[(0,l.bF)(n,{type:"undo"}),a[10]||(a[10]=(0,l.eW)(" é‡ç½® ",-1))]),_:1,__:[10]},8,["onClick"])])])])])}var Li=(0,l.pM)({name:"Profile",setup(){const e=(0,u.rd)(),a=(0,S.Kh)({username:"",avatar:""}),t=(0,S.Kh)({username:"",department:"",position:"",bio:"",avatar:""}),s=["https://api.dicebear.com/7.x/avataaars/svg?seed=user1","https://api.dicebear.com/7.x/avataaars/svg?seed=user2","https://api.dicebear.com/7.x/avataaars/svg?seed=user3","https://api.dicebear.com/7.x/avataaars/svg?seed=user4","https://api.dicebear.com/7.x/avataaars/svg?seed=user5","https://api.dicebear.com/7.x/avataaars/svg?seed=user6"],o=s[0],i=(0,S.KR)(!1),n=()=>{try{const s=localStorage.getItem("token");if(s){const s=localStorage.getItem("savedUserInfo");if(s)try{const e=JSON.parse(s);t.username=e.username||"",t.department=e.department||"",t.position=e.position||"",t.bio=e.bio||"",t.avatar=e.avatar||o,a.username=e.username||"",a.avatar=e.avatar||o,console.log("å·²åŠ è½½ä¿å­˜çš„ä¸ªäººä¿¡æ¯:",t)}catch(e){console.error("è§£æä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}else{const s=localStorage.getItem("user");if(s)try{const e=JSON.parse(s);t.username=e.username||localStorage.getItem("username")||"user",t.department=e.department||"",t.position=e.position||"",t.bio=e.bio||"",t.avatar=e.avatar||o,a.username=e.username||localStorage.getItem("username")||"user",a.avatar=e.avatar||o,console.log("å·²åŠ è½½å½“å‰ç”¨æˆ·ä¿¡æ¯:",t)}catch(e){console.error("è§£æå½“å‰ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}}}}catch(e){console.error("åŠ è½½ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}},r=async()=>{i.value=!0;try{await new Promise(e=>setTimeout(e,1e3));const e={username:t.username,department:t.department,position:t.position,bio:t.bio,avatar:t.avatar};localStorage.setItem("savedUserInfo",JSON.stringify(e)),a.username=t.username,a.avatar=t.avatar,window.dispatchEvent(new CustomEvent("userInfoUpdated",{detail:e})),M.Ay.success("ä¸ªäººä¿¡æ¯ä¿å­˜æˆåŠŸï¼")}catch(e){M.Ay.error("ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("ä¿å­˜é”™è¯¯:",e)}finally{i.value=!1}},d=()=>{n(),M.Ay.info("ä¸ªäººä¿¡æ¯å·²é‡ç½®")},c=e=>{t.avatar=e,M.Ay.success("å¤´åƒå·²æ›´æ–°")},v=e=>{const a="image/jpeg"===e.type||"image/png"===e.type;if(!a)return M.Ay.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;const t=e.size/1024/1024<2;return!!t||(M.Ay.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),!1)},p=e=>{"done"===e.file.status?M.Ay.success("å¤´åƒä¸Šä¼ æˆåŠŸ"):"error"===e.file.status&&M.Ay.error("å¤´åƒä¸Šä¼ å¤±è´¥")},m=()=>{e.push("/")};return(0,l.sV)(()=>{n()}),{userInfo:t,headerUserInfo:a,defaultAvatars:s,defaultAvatar:o,saving:i,saveProfile:r,resetProfile:d,selectDefaultAvatar:c,beforeAvatarUpload:v,handleAvatarChange:p,goHome:m}}});const fi=(0,r.A)(Li,[["render",gi],["__scopeId","data-v-e9b00820"]]);var yi=fi,xi=t(1373),Ti=t(892),Ai=t(3390),wi=t(389);const Ci={class:"page-header"},Fi={class:"header-left"},_i={class:"title-section"},Ei={class:"page-title"},Ii={class:"page-subtitle"},Si={class:"header-right"},Mi={class:"user-info"};function Di(e,a,t,s,o,i){const n=(0,l.g2)("a-icon"),r=(0,l.g2)("UserOutlined"),d=(0,l.g2)("a-avatar"),c=(0,l.g2)("a-modal");return(0,l.uX)(),(0,l.CE)("div",Ci,[(0,l.Lk)("div",Fi,[(0,l.Lk)("div",_i,[(0,l.Lk)("h1",Ei,[(0,l.bF)(n,{type:e.iconType,class:"title-icon"},null,8,["type"]),(0,l.eW)(" "+(0,v.v_)(e.title),1)]),(0,l.Lk)("p",Ii,(0,v.v_)(e.subtitle),1)])]),(0,l.Lk)("div",Si,[(0,l.Lk)("div",Mi,[(0,l.Lk)("span",null,"æ¬¢è¿, "+(0,v.v_)(e.headerUserInfo.username||e.userInfo.username||"ç”¨æˆ·"),1),(0,l.bF)(d,{src:e.headerUserInfo.avatar||e.userInfo.avatar,class:"user-avatar",size:"small"},{icon:(0,l.k6)(()=>[(0,l.bF)(r)]),_:1},8,["src"])]),(0,l.Lk)("button",{class:"home-btn",onClick:a[0]||(a[0]=(...a)=>e.goHome&&e.goHome(...a))}," è¿”å›é¦–é¡µ "),(0,l.Lk)("button",{class:"logout-btn",onClick:a[1]||(a[1]=(...a)=>e.handleLogout&&e.handleLogout(...a))}," é€€å‡ºç™»å½• ")]),(0,l.bF)(c,{visible:e.showLogoutConfirm,"onUpdate:visible":a[2]||(a[2]=a=>e.showLogoutConfirm=a),title:"ç¡®è®¤é€€å‡ºç™»å½•","confirm-loading":e.loggingOut,onOk:e.confirmLogout,onCancel:a[3]||(a[3]=a=>e.showLogoutConfirm=!1),"ok-text":"ç¡®è®¤é€€å‡º","cancel-text":"å–æ¶ˆ"},{default:(0,l.k6)(()=>a[4]||(a[4]=[(0,l.Lk)("p",null,"æ‚¨ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿé€€å‡ºåéœ€è¦é‡æ–°ç™»å½•æ‰èƒ½è®¿é—®ç³»ç»Ÿã€‚",-1)])),_:1,__:[4]},8,["visible","confirm-loading","onOk"])])}var Ui=(0,l.pM)({name:"CommonHeader",components:{UserOutlined:xi.A},props:{title:{type:String,required:!0},subtitle:{type:String,default:""},iconType:{type:String,default:"setting"},isUserSide:{type:Boolean,default:!1}},setup(e){const a=(0,u.rd)(),t=(0,u.lq)(),s=(0,l.WQ)("userInfo",{username:"",avatar:""}),o=(0,S.KR)({username:"",avatar:""}),i=()=>{try{const e=localStorage.getItem("recentRegisteredUser");if(e){const a=JSON.parse(e);return void(o.value={username:a.username||"",avatar:a.avatar||""})}const a=localStorage.getItem("savedUserInfo");if(a){const e=JSON.parse(a);return void(o.value={username:e.username||"",avatar:e.avatar||""})}const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);o.value={username:e.username||"",avatar:e.avatar||""}}}catch(e){}},n=e=>{const a=e&&e.detail?e.detail:null;a?o.value={username:a.username||o.value.username,avatar:a.avatar||o.value.avatar}:i()},r=(0,S.KR)(!1),d=(0,S.KR)(!1),c=()=>{console.log("CommonHeader - isUserSide prop:",e.isUserSide),console.log("CommonHeader - å½“å‰è·¯å¾„:",t.path),e.isUserSide?(console.log("CommonHeader - è·³è½¬åˆ°ç”¨æˆ·ç«¯é¦–é¡µ: /user"),a.push("/user")):(console.log("CommonHeader - è·³è½¬åˆ°ç®¡ç†ç«¯é¦–é¡µ: /"),a.push("/"))},v=()=>{r.value=!0},p=async()=>{d.value=!0;try{localStorage.removeItem("user"),localStorage.removeItem("username"),localStorage.removeItem("token"),localStorage.removeItem("savedUserInfo"),e.isUserSide?a.push("/login?system=user"):a.push("/login?system=admin"),M.Ay.success("é€€å‡ºç™»å½•æˆåŠŸ")}catch(t){console.error("é€€å‡ºç™»å½•å¤±è´¥:",t),M.Ay.error("é€€å‡ºç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{d.value=!1,r.value=!1}};return(0,l.sV)(()=>{i(),window.addEventListener("userInfoUpdated",n)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",n)}),{userInfo:s,headerUserInfo:o,goHome:c,showLogoutConfirm:r,loggingOut:d,handleLogout:v,confirmLogout:p}}});const Ri=(0,r.A)(Ui,[["render",Di],["__scopeId","data-v-414014ba"]]);var Oi=Ri;const Pi={class:"navigation-container"},Ni={class:"nav-header"},Ki={class:"nav-menu"},zi=["onClick"],Xi={class:"nav-text"};function Wi(e,a,t,s,o,i){const n=(0,l.g2)("a-icon");return(0,l.uX)(),(0,l.CE)("div",Pi,[(0,l.Lk)("div",Ni,[(0,l.Lk)("h3",null,(0,v.v_)(e.isAdmin?"ç®¡ç†ç«¯å¯¼èˆª":"ç”¨æˆ·ç«¯å¯¼èˆª"),1)]),(0,l.Lk)("div",Ki,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.navigationItems,a=>((0,l.uX)(),(0,l.CE)("div",{key:a.path,class:(0,v.C4)(["nav-item",{active:e.currentPath===a.path}]),onClick:t=>e.navigateTo(a.path)},[(0,l.bF)(n,{type:a.icon,class:"nav-icon"},null,8,["type"]),(0,l.Lk)("span",Xi,(0,v.v_)(a.title),1)],10,zi))),128))])])}var ji=(0,l.pM)({name:"CommonNavigation",props:{isAdmin:{type:Boolean,default:!1}},setup(e){const a=(0,u.rd)(),t=(0,u.lq)(),s=(0,l.EW)(()=>t.path),o=[{path:"/admin/employee",title:"å‘˜å·¥ç®¡ç†",icon:"team"},{path:"/admin/user-management",title:"ç”¨æˆ·ç®¡ç†",icon:"user"},{path:"/admin/file-manager",title:"æ–‡ä»¶ç®¡ç†",icon:"folder"},{path:"/admin/approval",title:"å®¡æ‰¹ç®¡ç†",icon:"check-circle"},{path:"/admin/attendance",title:"è€ƒå‹¤ç®¡ç†",icon:"clock-circle"},{path:"/admin/announcement",title:"å…¬å‘Šç®¡ç†",icon:"sound"},{path:"/admin/system",title:"ç³»ç»Ÿç›‘æ§",icon:"dashboard"}],i=[{path:"/user",title:"ç”¨æˆ·ä¸»é¡µ",icon:"home"},{path:"/user/workbench",title:"æˆ‘çš„å·¥ä½œå°",icon:"dashboard"},{path:"/user/profile",title:"ä¸ªäººä¿¡æ¯",icon:"user"},{path:"/user/approval",title:"æˆ‘çš„å®¡æ‰¹",icon:"check-circle"},{path:"/user/attendance",title:"æˆ‘çš„è€ƒå‹¤",icon:"clock-circle"},{path:"/user/files",title:"æˆ‘çš„æ–‡ä»¶",icon:"folder"},{path:"/user/announcement",title:"æˆ‘çš„å…¬å‘Š",icon:"sound"},{path:"/user/data-manager",title:"æ•°æ®ç®¡ç†",icon:"database"}],n=(0,l.EW)(()=>e.isAdmin?o:i),r=e=>{a.push(e)};return{currentPath:s,navigationItems:n,navigateTo:r}}});const Hi=(0,r.A)(ji,[["render",Wi],["__scopeId","data-v-588ee81e"]]);var qi=Hi;const Ji={class:"user-profile-container"},Vi={class:"user-profile-content"},$i={class:"main-content"},Qi={class:"profile-section"},Bi={class:"profile-content"},Gi={class:"avatar-section"},Yi={class:"avatar-container"},Zi={class:"avatar-overlay"},en={class:"avatar-info"},an={class:"profile-form"},tn={class:"form-row"},sn={class:"form-row"},ln={class:"form-actions"},on={class:"account-info-section"},nn={class:"info-cards"},rn={class:"info-card"},dn={class:"info-content"},cn={class:"info-value"},un={class:"info-card"},vn={class:"info-content"},pn={class:"info-value"},mn={class:"info-card"},kn={class:"info-content"},hn={class:"info-value"},bn={class:"info-card"},gn={class:"info-content"},Ln={class:"info-value"},fn="https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png";var yn={__name:"UserProfile",setup(e){const a=(0,S.KR)(!1),t=(0,S.KR)([]),s=(0,S.Kh)({username:"",department:"",position:"",employeeId:"",bio:"",avatar:""}),o=(0,S.Kh)({email:"",phone:"",company:"æ™ºèƒ½OAç³»ç»Ÿ",registerTime:new Date}),i=()=>{try{const e=localStorage.getItem("token");if(e){const e=localStorage.getItem("savedUserInfo");if(e){const a=JSON.parse(e);s.username=a.username||"",s.department=a.department||"",s.position=a.position||"",s.bio=a.bio||"",s.avatar=a.avatar||fn,s.employeeId=a.employeeId||"EMP001",console.log("å·²åŠ è½½ä¿å­˜çš„ä¸ªäººä¿¡æ¯:",s)}else{const e=localStorage.getItem("user");if(e){const a=JSON.parse(e);s.username=a.username||localStorage.getItem("username")||"user",s.department=a.department||"",s.position=a.position||"",s.bio=a.bio||"",s.avatar=a.avatar||fn,s.employeeId=a.employeeId||"EMP001",console.log("å·²åŠ è½½å½“å‰ç”¨æˆ·ä¿¡æ¯:",s)}}o.email=localStorage.getItem("userEmail")||"",o.phone=localStorage.getItem("userPhone")||"",o.registerTime=new Date(localStorage.getItem("registerTime")||Date.now())}}catch(e){console.error("åŠ è½½ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}},n=e=>{const a="image/jpeg"===e.type||"image/png"===e.type;if(!a)return M.Ay.error("åªèƒ½ä¸Šä¼  JPG/PNG æ ¼å¼çš„å›¾ç‰‡!"),!1;const t=e.size/1024/1024<2;return!!t||(M.Ay.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),!1)},r=async()=>{if(s.username.trim()){a.value=!0;try{await new Promise(e=>setTimeout(e,1e3));const e={username:s.username,department:s.department,position:s.position,employeeId:s.employeeId,bio:s.bio,avatar:s.avatar};localStorage.setItem("savedUserInfo",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("userInfoUpdated",{detail:e})),M.Ay.success("ä¸ªäººä¿¡æ¯ä¿å­˜æˆåŠŸï¼")}catch(e){M.Ay.error("ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("ä¿å­˜é”™è¯¯:",e)}finally{a.value=!1}}else M.Ay.warning("è¯·è¾“å…¥ç”¨æˆ·å")},d=()=>{i(),M.Ay.info("è¡¨å•å·²é‡ç½®")},c=e=>e?new Date(e).toLocaleDateString("zh-CN"):"æœªçŸ¥";return(0,l.sV)(()=>{i()}),(0,l.hi)(()=>{}),(e,i)=>{const u=(0,l.g2)("a-avatar"),p=(0,l.g2)("a-button"),m=(0,l.g2)("a-upload"),k=(0,l.g2)("a-input"),h=(0,l.g2)("a-form-item"),b=(0,l.g2)("a-textarea"),g=(0,l.g2)("a-form");return(0,l.uX)(),(0,l.CE)("div",Ji,[(0,l.bF)(Oi,{title:"ä¸ªäººä¿¡æ¯",subtitle:"ç®¡ç†æ‚¨çš„ä¸ªäººèµ„æ–™",iconType:"user",isUserSide:!0}),(0,l.Lk)("div",Vi,[(0,l.bF)(qi,{isAdmin:!1}),(0,l.Lk)("div",$i,[(0,l.Lk)("div",Qi,[i[9]||(i[9]=(0,l.Lk)("div",{class:"profile-header"},[(0,l.Lk)("h2",null,"ä¸ªäººèµ„æ–™"),(0,l.Lk)("p",null,"ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œè´¦æˆ·è®¾ç½®")],-1)),(0,l.Lk)("div",Bi,[(0,l.Lk)("div",Gi,[(0,l.Lk)("div",Yi,[(0,l.bF)(u,{size:140,src:s.avatar,class:"profile-avatar"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(xi.A))]),_:1},8,["src"]),(0,l.Lk)("div",Zi,[(0,l.bF)(m,{"file-list":t.value,"onUpdate:fileList":i[0]||(i[0]=e=>t.value=e),"before-upload":n,"show-upload-list":!1,accept:"image/*"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{type:"primary",size:"small"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(Ti.A))]),default:(0,l.k6)(()=>[i[6]||(i[6]=(0,l.eW)(" æ›´æ¢å¤´åƒ ",-1))]),_:1,__:[6]})]),_:1},8,["file-list"])])]),(0,l.Lk)("div",en,[(0,l.Lk)("h3",null,(0,v.v_)(s.username||"ç”¨æˆ·å"),1),(0,l.Lk)("p",null,(0,v.v_)(s.department||"éƒ¨é—¨")+" Â· "+(0,v.v_)(s.position||"èŒä½"),1)])]),(0,l.Lk)("div",an,[(0,l.bF)(g,{model:s,layout:"vertical","label-col":{span:24},"wrapper-col":{span:24}},{default:(0,l.k6)(()=>[(0,l.Lk)("div",tn,[(0,l.bF)(h,{label:"ç”¨æˆ·å",name:"username",class:"form-item"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{value:s.username,"onUpdate:value":i[1]||(i[1]=e=>s.username=e),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",size:"large",class:"form-input"},null,8,["value"])]),_:1}),(0,l.bF)(h,{label:"éƒ¨é—¨",name:"department",class:"form-item"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{value:s.department,"onUpdate:value":i[2]||(i[2]=e=>s.department=e),placeholder:"è¯·è¾“å…¥éƒ¨é—¨",size:"large",class:"form-input"},null,8,["value"])]),_:1})]),(0,l.Lk)("div",sn,[(0,l.bF)(h,{label:"èŒä½",name:"position",class:"form-item"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{value:s.position,"onUpdate:value":i[3]||(i[3]=e=>s.position=e),placeholder:"è¯·è¾“å…¥èŒä½",size:"large",class:"form-input"},null,8,["value"])]),_:1}),(0,l.bF)(h,{label:"å·¥å·",name:"employeeId",class:"form-item"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{value:s.employeeId,"onUpdate:value":i[4]||(i[4]=e=>s.employeeId=e),placeholder:"è¯·è¾“å…¥å·¥å·",size:"large",disabled:"",class:"form-input"},null,8,["value"])]),_:1})]),(0,l.bF)(h,{label:"ä¸ªäººç®€ä»‹",name:"bio",class:"form-item-full"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{value:s.bio,"onUpdate:value":i[5]||(i[5]=e=>s.bio=e),placeholder:"è¯·è¾“å…¥ä¸ªäººç®€ä»‹",rows:4,size:"large",class:"form-textarea"},null,8,["value"])]),_:1})]),_:1},8,["model"]),(0,l.Lk)("div",ln,[(0,l.bF)(p,{type:"primary",size:"large",onClick:r,loading:a.value,class:"save-btn"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(Ai.A))]),default:(0,l.k6)(()=>[i[7]||(i[7]=(0,l.eW)(" ä¿å­˜ä¿¡æ¯ ",-1))]),_:1,__:[7]},8,["loading"]),(0,l.bF)(p,{size:"large",onClick:d,class:"reset-btn"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(wi.A))]),default:(0,l.k6)(()=>[i[8]||(i[8]=(0,l.eW)(" é‡ç½® ",-1))]),_:1,__:[8]})])])])]),(0,l.Lk)("div",on,[i[18]||(i[18]=(0,l.Lk)("h3",null,"è´¦æˆ·ä¿¡æ¯",-1)),(0,l.Lk)("div",nn,[(0,l.Lk)("div",rn,[i[11]||(i[11]=(0,l.Lk)("div",{class:"info-icon"},"ğŸ“§",-1)),(0,l.Lk)("div",dn,[i[10]||(i[10]=(0,l.Lk)("div",{class:"info-label"},"é‚®ç®±",-1)),(0,l.Lk)("div",cn,(0,v.v_)(o.email||"æœªè®¾ç½®"),1)])]),(0,l.Lk)("div",un,[i[13]||(i[13]=(0,l.Lk)("div",{class:"info-icon"},"ğŸ“±",-1)),(0,l.Lk)("div",vn,[i[12]||(i[12]=(0,l.Lk)("div",{class:"info-label"},"æ‰‹æœºå·",-1)),(0,l.Lk)("div",pn,(0,v.v_)(o.phone||"æœªè®¾ç½®"),1)])]),(0,l.Lk)("div",mn,[i[15]||(i[15]=(0,l.Lk)("div",{class:"info-icon"},"ğŸ¢",-1)),(0,l.Lk)("div",kn,[i[14]||(i[14]=(0,l.Lk)("div",{class:"info-label"},"æ‰€å±å…¬å¸",-1)),(0,l.Lk)("div",hn,(0,v.v_)(o.company||"æ™ºèƒ½OAç³»ç»Ÿ"),1)])]),(0,l.Lk)("div",bn,[i[17]||(i[17]=(0,l.Lk)("div",{class:"info-icon"},"ğŸ“…",-1)),(0,l.Lk)("div",gn,[i[16]||(i[16]=(0,l.Lk)("div",{class:"info-label"},"æ³¨å†Œæ—¶é—´",-1)),(0,l.Lk)("div",Ln,(0,v.v_)(c(o.registerTime)),1)])])])])])])])}}};const xn=(0,r.A)(yn,[["__scopeId","data-v-5df4fa54"]]);var Tn=xn;const An={class:"user-home-container"},wn={class:"user-home-content"},Cn={class:"main-content"},Fn={class:"welcome-section"},_n={class:"welcome-card"},En={class:"welcome-info"},In={class:"user-stats"},Sn={class:"stat-item"},Mn={class:"stat-item"},Dn={class:"welcome-avatar"},Un={class:"quick-nav-section"},Rn={class:"nav-grid"},On={class:"quick-actions-section"},Pn={class:"action-buttons"},Nn={class:"recent-activity-section"},Kn={class:"activity-list"},zn={class:"activity-icon"},Xn={class:"activity-content"},Wn={class:"activity-title"},jn={class:"activity-time"};function Hn(e,a,t,s,o,i){const n=(0,l.g2)("CommonHeader"),r=(0,l.g2)("CommonNavigation"),d=(0,l.g2)("a-icon"),c=(0,l.g2)("UserOutlined"),u=(0,l.g2)("a-avatar");return(0,l.uX)(),(0,l.CE)("div",An,[(0,l.bF)(n,{title:"æ¬¢è¿å›æ¥",subtitle:"å¼€å§‹æ‚¨ä»Šå¤©çš„å·¥ä½œ",iconType:"home",isUserSide:!0}),(0,l.Lk)("div",wn,[(0,l.bF)(r,{isAdmin:!1}),(0,l.Lk)("div",Cn,[(0,l.Lk)("div",Fn,[(0,l.Lk)("div",_n,[(0,l.Lk)("div",En,[(0,l.Lk)("h1",null,(0,v.v_)(e.getGreeting())+"ï¼Œ"+(0,v.v_)(e.userInfo.username||"ç”¨æˆ·"),1),(0,l.Lk)("p",null,(0,v.v_)(e.getCurrentDate()),1),(0,l.Lk)("div",In,[(0,l.Lk)("div",Sn,[(0,l.bF)(d,{type:"clock-circle"}),(0,l.Lk)("span",null,"ä»Šæ—¥å·¥ä½œæ—¶é•¿ï¼š"+(0,v.v_)(e.workStats.todayHours)+"å°æ—¶",1)]),(0,l.Lk)("div",Mn,[(0,l.bF)(d,{type:"check-circle"}),(0,l.Lk)("span",null,"å·²å®Œæˆä»»åŠ¡ï¼š"+(0,v.v_)(e.workStats.completedTasks)+"ä¸ª",1)])])]),(0,l.Lk)("div",Dn,[(0,l.bF)(u,{size:80,src:e.userInfo.avatar},{icon:(0,l.k6)(()=>[(0,l.bF)(c)]),_:1},8,["src"])])])]),(0,l.Lk)("div",Un,[a[15]||(a[15]=(0,l.Lk)("h2",null,"å¿«é€Ÿå¯¼èˆª",-1)),(0,l.Lk)("div",Rn,[(0,l.Lk)("div",{class:"nav-card",onClick:a[0]||(a[0]=a=>e.navigateTo("/user/workbench"))},a[9]||(a[9]=[(0,l.Lk)("div",{class:"nav-icon"},"ğŸ“Š",-1),(0,l.Lk)("h3",null,"æˆ‘çš„å·¥ä½œå°",-1),(0,l.Lk)("p",null,"æŸ¥çœ‹å·¥ä½œæ¦‚è§ˆå’Œå¿«é€Ÿæ“ä½œ",-1)])),(0,l.Lk)("div",{class:"nav-card",onClick:a[1]||(a[1]=a=>e.navigateTo("/user/approval"))},a[10]||(a[10]=[(0,l.Lk)("div",{class:"nav-icon"},"ğŸ“‹",-1),(0,l.Lk)("h3",null,"æˆ‘çš„å®¡æ‰¹",-1),(0,l.Lk)("p",null,"ç®¡ç†å®¡æ‰¹ç”³è¯·å’ŒæŸ¥çœ‹çŠ¶æ€",-1)])),(0,l.Lk)("div",{class:"nav-card",onClick:a[2]||(a[2]=a=>e.navigateTo("/user/attendance"))},a[11]||(a[11]=[(0,l.Lk)("div",{class:"nav-icon"},"â°",-1),(0,l.Lk)("h3",null,"æˆ‘çš„è€ƒå‹¤",-1),(0,l.Lk)("p",null,"æŸ¥çœ‹è€ƒå‹¤è®°å½•å’Œæ‰“å¡çŠ¶æ€",-1)])),(0,l.Lk)("div",{class:"nav-card",onClick:a[3]||(a[3]=a=>e.navigateTo("/user/files"))},a[12]||(a[12]=[(0,l.Lk)("div",{class:"nav-icon"},"ğŸ“",-1),(0,l.Lk)("h3",null,"æˆ‘çš„æ–‡ä»¶",-1),(0,l.Lk)("p",null,"ç®¡ç†ä¸ªäººæ–‡ä»¶å’Œæ–‡æ¡£",-1)])),(0,l.Lk)("div",{class:"nav-card",onClick:a[4]||(a[4]=a=>e.navigateTo("/user/announcement"))},a[13]||(a[13]=[(0,l.Lk)("div",{class:"nav-icon"},"ğŸ“¢",-1),(0,l.Lk)("h3",null,"æˆ‘çš„å…¬å‘Š",-1),(0,l.Lk)("p",null,"æŸ¥çœ‹é‡è¦å…¬å‘Šä¿¡æ¯",-1)])),(0,l.Lk)("div",{class:"nav-card",onClick:a[5]||(a[5]=a=>e.navigateTo("/user/profile"))},a[14]||(a[14]=[(0,l.Lk)("div",{class:"nav-icon"},"ğŸ‘¤",-1),(0,l.Lk)("h3",null,"ä¸ªäººä¿¡æ¯",-1),(0,l.Lk)("p",null,"ç®¡ç†ä¸ªäººèµ„æ–™å’Œè®¾ç½®",-1)]))])]),(0,l.Lk)("div",On,[a[19]||(a[19]=(0,l.Lk)("h2",null,"å¿«æ·æ“ä½œ",-1)),(0,l.Lk)("div",Pn,[(0,l.Lk)("button",{class:"action-btn",onClick:a[6]||(a[6]=a=>e.quickAction("checkin"))},[(0,l.bF)(d,{type:"clock-circle"}),a[16]||(a[16]=(0,l.eW)(" æ‰“å¡ç­¾åˆ° ",-1))]),(0,l.Lk)("button",{class:"action-btn",onClick:a[7]||(a[7]=a=>e.quickAction("approval"))},[(0,l.bF)(d,{type:"file-text"}),a[17]||(a[17]=(0,l.eW)(" ç”³è¯·å®¡æ‰¹ ",-1))]),(0,l.Lk)("button",{class:"action-btn",onClick:a[8]||(a[8]=a=>e.quickAction("upload"))},[(0,l.bF)(d,{type:"upload"}),a[18]||(a[18]=(0,l.eW)(" ä¸Šä¼ æ–‡ä»¶ ",-1))])])]),(0,l.Lk)("div",Nn,[a[20]||(a[20]=(0,l.Lk)("h2",null,"æœ€è¿‘æ´»åŠ¨",-1)),(0,l.Lk)("div",Kn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recentActivities,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"activity-item"},[(0,l.Lk)("div",zn,(0,v.v_)(e.icon),1),(0,l.Lk)("div",Xn,[(0,l.Lk)("div",Wn,(0,v.v_)(e.title),1),(0,l.Lk)("div",jn,(0,v.v_)(e.time),1)]),(0,l.Lk)("div",{class:(0,v.C4)(["activity-status",e.status])},(0,v.v_)(e.statusText),3)]))),128))])])])])])}var qn=(0,l.pM)({name:"UserHome",components:{CommonHeader:Oi,CommonNavigation:qi,UserOutlined:xi.A},setup(){const e=(0,u.rd)(),a=(0,S.KR)({username:"",avatar:""}),t="userActivities",s=(0,S.KR)([]),o=()=>{try{const e=localStorage.getItem(t),a=e?JSON.parse(e):[];Array.isArray(a)&&(s.value=a)}catch(e){}},i=()=>{try{localStorage.setItem(t,JSON.stringify(s.value.slice(0,20)))}catch(e){}},n=e=>{s.value.unshift(e),s.value.length>20&&s.value.pop(),i()},r=a,d=()=>{try{const e=localStorage.getItem("recentRegisteredUser");if(e){const a=JSON.parse(e);return void(r.value={username:a.username||"",avatar:a.avatar||""})}const a=localStorage.getItem("savedUserInfo");if(a){const e=JSON.parse(a);return void(r.value={username:e.username||"",avatar:e.avatar||""})}const t=localStorage.getItem("user");if(t){const e=JSON.parse(t);r.value={username:e.username||"",avatar:e.avatar||""}}}catch(e){}},c=e=>{const a=e&&e.detail?e.detail:null;a?r.value={username:a.username||r.value.username,avatar:a.avatar||r.value.avatar}:d()},v=e=>{const a=e&&e.detail?e.detail:null;if(!a)return;const t=Date.now(),s={id:t,type:a.type||"activity",icon:"attendance"===a.type?"clock-circle":"file"===a.type?"folder":"notification",title:a.title||"ç”¨æˆ·æ“ä½œ",time:a.time||(new Date).toTimeString().slice(0,5),status:a.status||"completed",statusText:a.statusText||"å·²å®Œæˆ"};n(s)};(0,l.sV)(()=>{d(),o(),window.addEventListener("userInfoUpdated",c),window.addEventListener("userActivity",v);const e=setInterval(()=>{},6e4);return()=>clearInterval(e)}),(0,l.hi)(()=>{window.removeEventListener("userInfoUpdated",c),window.removeEventListener("userActivity",v)}),(0,l.Gt)("userInfo",a);const p=(0,S.Kh)({todayHours:8.5,completedTasks:12}),m=()=>{const e=(new Date).getHours();return e<6?"å¤œæ·±äº†":e<9?"æ—©ä¸Šå¥½":e<12?"ä¸Šåˆå¥½":e<14?"ä¸­åˆå¥½":e<18?"ä¸‹åˆå¥½":e<22?"æ™šä¸Šå¥½":"å¤œæ·±äº†"},k=()=>{const e=new Date,a={year:"numeric",month:"long",day:"numeric",weekday:"long"};return e.toLocaleDateString("zh-CN",a)},h=a=>e.push(a),b=a=>{switch(a){case"checkin":e.push("/user/attendance");break;case"approval":e.push("/user/approval");break;case"upload":e.push("/user/files");break}};return{userInfo:a,workStats:p,recentActivities:s,getGreeting:m,getCurrentDate:k,navigateTo:h,quickAction:b}}});const Jn=(0,r.A)(qn,[["render",Hn],["__scopeId","data-v-16ad95bc"]]);var Vn=Jn;const $n={class:"workbench-container"},Qn={class:"workbench-content"},Bn={class:"main-content"},Gn={class:"stats-section"},Yn={class:"stat-card"},Zn={class:"stat-icon"},er={class:"stat-info"},ar={class:"stat-value"},tr={class:"stat-card"},sr={class:"stat-icon"},lr={class:"stat-info"},or={class:"stat-value"},ir={class:"stat-card"},nr={class:"stat-icon"},rr={class:"stat-info"},dr={class:"stat-value"},cr={class:"stat-card"},ur={class:"stat-icon"},vr={class:"stat-info"},pr={class:"stat-value"},mr={class:"quick-actions"},kr={class:"action-grid"},hr={class:"recent-work"},br={class:"work-list"},gr={class:"work-icon"},Lr={class:"work-info"},fr={class:"work-title"},yr={class:"work-time"},xr={class:"todo-section"},Tr={class:"todo-list"},Ar={class:"add-todo"};function wr(e,a,t,s,o,i){const n=(0,l.g2)("CommonHeader"),r=(0,l.g2)("CommonNavigation"),d=(0,l.g2)("a-icon"),c=(0,l.g2)("a-checkbox"),u=(0,l.g2)("a-button"),p=(0,l.g2)("a-input");return(0,l.uX)(),(0,l.CE)("div",$n,[(0,l.bF)(n,{title:"æˆ‘çš„å·¥ä½œå°",subtitle:"ä¸ªäººå·¥ä½œæ¦‚è§ˆä¸å¿«é€Ÿæ“ä½œ",iconType:"dashboard",isUserSide:!0}),(0,l.Lk)("div",Qn,[(0,l.bF)(r,{isAdmin:!1}),(0,l.Lk)("div",Bn,[(0,l.Lk)("div",Gn,[(0,l.Lk)("div",Yn,[(0,l.Lk)("div",Zn,[(0,l.bF)(d,{type:"clock-circle"})]),(0,l.Lk)("div",er,[(0,l.Lk)("div",ar,(0,v.v_)(e.workStats.todayHours)+"h",1),a[5]||(a[5]=(0,l.Lk)("div",{class:"stat-label"},"ä»Šæ—¥å·¥ä½œæ—¶é•¿",-1))])]),(0,l.Lk)("div",tr,[(0,l.Lk)("div",sr,[(0,l.bF)(d,{type:"check-circle"})]),(0,l.Lk)("div",lr,[(0,l.Lk)("div",or,(0,v.v_)(e.workStats.completedTasks),1),a[6]||(a[6]=(0,l.Lk)("div",{class:"stat-label"},"å·²å®Œæˆä»»åŠ¡",-1))])]),(0,l.Lk)("div",ir,[(0,l.Lk)("div",nr,[(0,l.bF)(d,{type:"file-text"})]),(0,l.Lk)("div",rr,[(0,l.Lk)("div",dr,(0,v.v_)(e.workStats.pendingApprovals),1),a[7]||(a[7]=(0,l.Lk)("div",{class:"stat-label"},"å¾…å®¡æ‰¹äº‹é¡¹",-1))])]),(0,l.Lk)("div",cr,[(0,l.Lk)("div",ur,[(0,l.bF)(d,{type:"notification"})]),(0,l.Lk)("div",vr,[(0,l.Lk)("div",pr,(0,v.v_)(e.workStats.unreadAnnouncements),1),a[8]||(a[8]=(0,l.Lk)("div",{class:"stat-label"},"æœªè¯»å…¬å‘Š",-1))])])]),(0,l.Lk)("div",mr,[a[13]||(a[13]=(0,l.Lk)("h3",null,"å¿«é€Ÿæ“ä½œ",-1)),(0,l.Lk)("div",kr,[(0,l.Lk)("div",{class:"action-item",onClick:a[0]||(a[0]=a=>e.quickAction("attendance"))},[(0,l.bF)(d,{type:"clock-circle"}),a[9]||(a[9]=(0,l.Lk)("span",null,"æ‰“å¡ç­¾åˆ°",-1))]),(0,l.Lk)("div",{class:"action-item",onClick:a[1]||(a[1]=a=>e.quickAction("approval"))},[(0,l.bF)(d,{type:"file-text"}),a[10]||(a[10]=(0,l.Lk)("span",null,"ç”³è¯·å®¡æ‰¹",-1))]),(0,l.Lk)("div",{class:"action-item",onClick:a[2]||(a[2]=a=>e.quickAction("file"))},[(0,l.bF)(d,{type:"upload"}),a[11]||(a[11]=(0,l.Lk)("span",null,"ä¸Šä¼ æ–‡ä»¶",-1))]),(0,l.Lk)("div",{class:"action-item",onClick:a[3]||(a[3]=a=>e.quickAction("announcement"))},[(0,l.bF)(d,{type:"notification"}),a[12]||(a[12]=(0,l.Lk)("span",null,"æŸ¥çœ‹å…¬å‘Š",-1))])])]),(0,l.Lk)("div",hr,[a[14]||(a[14]=(0,l.Lk)("h3",null,"æœ€è¿‘å·¥ä½œè®°å½•",-1)),(0,l.Lk)("div",br,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.recentWorkRecords,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"work-item"},[(0,l.Lk)("div",gr,[(0,l.bF)(d,{type:e.icon},null,8,["type"])]),(0,l.Lk)("div",Lr,[(0,l.Lk)("div",fr,(0,v.v_)(e.title),1),(0,l.Lk)("div",yr,(0,v.v_)(e.time),1)]),(0,l.Lk)("div",{class:(0,v.C4)(["work-status",e.status])},(0,v.v_)(e.statusText),3)]))),128))])]),(0,l.Lk)("div",xr,[a[16]||(a[16]=(0,l.Lk)("h3",null,"å¾…åŠäº‹é¡¹",-1)),(0,l.Lk)("div",Tr,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.todoList,a=>((0,l.uX)(),(0,l.CE)("div",{key:a.id,class:"todo-item"},[(0,l.bF)(c,{checked:a.completed,onChange:t=>e.toggleTodo(a.id)},null,8,["checked","onChange"]),(0,l.Lk)("span",{class:(0,v.C4)(["todo-text",{completed:a.completed}])},(0,v.v_)(a.text),3),(0,l.Lk)("span",{class:(0,v.C4)(["todo-priority",a.priority])},(0,v.v_)(a.priorityText),3)]))),128))]),(0,l.Lk)("div",Ar,[(0,l.bF)(p,{value:e.newTodoText,"onUpdate:value":a[4]||(a[4]=a=>e.newTodoText=a),placeholder:"æ·»åŠ æ–°çš„å¾…åŠäº‹é¡¹...",onPressEnter:e.addTodo},{suffix:(0,l.k6)(()=>[(0,l.bF)(u,{type:"primary",size:"small",onClick:e.addTodo},{default:(0,l.k6)(()=>a[15]||(a[15]=[(0,l.eW)(" æ·»åŠ  ",-1)])),_:1,__:[15]},8,["onClick"])]),_:1},8,["value","onPressEnter"])])])])])])}var Cr=(0,l.pM)({name:"MyWorkbench",components:{CommonHeader:Oi,CommonNavigation:qi},setup(){const e=(0,u.rd)(),a=(0,l.WQ)("userInfo",{username:"",avatar:""}),t=(0,S.Kh)({todayHours:8.5,completedTasks:12,pendingApprovals:3,unreadAnnouncements:5}),s=(0,S.KR)([{id:1,icon:"clock-circle",title:"ä¸Šåˆæ‰“å¡ç­¾åˆ°",time:"09:00",status:"completed",statusText:"å·²å®Œæˆ"},{id:2,icon:"file-text",title:"æäº¤è¯·å‡ç”³è¯·",time:"10:30",status:"pending",statusText:"å®¡æ‰¹ä¸­"},{id:3,icon:"upload",title:"ä¸Šä¼ é¡¹ç›®æ–‡æ¡£",time:"14:15",status:"completed",statusText:"å·²å®Œæˆ"},{id:4,icon:"notification",title:"æŸ¥çœ‹éƒ¨é—¨å…¬å‘Š",time:"16:00",status:"completed",statusText:"å·²è¯»"}]),o=(0,S.KR)([{id:1,text:"å®Œæˆå‘¨æŠ¥æ€»ç»“",completed:!1,priority:"high",priorityText:"é«˜"},{id:2,text:"å‡†å¤‡æ˜æ—¥ä¼šè®®ææ–™",completed:!1,priority:"medium",priorityText:"ä¸­"},{id:3,text:"å›å¤å®¢æˆ·é‚®ä»¶",completed:!0,priority:"low",priorityText:"ä½"}]),i=(0,S.KR)(""),n=a=>{switch(a){case"attendance":e.push("/user/attendance");break;case"approval":e.push("/user/approval");break;case"file":e.push("/user/files");break;case"announcement":e.push("/user/announcement");break}},r=e=>{const a=o.value.find(a=>a.id===e);a&&(a.completed=!a.completed)},d=()=>{if(i.value.trim()){const e={id:Date.now(),text:i.value.trim(),completed:!1,priority:"medium",priorityText:"ä¸­"};o.value.unshift(e),i.value=""}},c=()=>{t.todayHours=Math.max(0,t.todayHours+.2*(Math.random()-.5)),t.completedTasks=Math.max(0,t.completedTasks+Math.floor(2*(Math.random()-.5))),t.pendingApprovals=Math.max(0,t.pendingApprovals+Math.floor(2*(Math.random()-.5))),t.unreadAnnouncements=Math.max(0,t.unreadAnnouncements+Math.floor(2*(Math.random()-.5)))};return(0,l.sV)(()=>{const e=setInterval(c,3e4);return()=>clearInterval(e)}),{userInfo:a,workStats:t,recentWorkRecords:s,todoList:o,newTodoText:i,quickAction:n,toggleTodo:r,addTodo:d}}});const Fr=(0,r.A)(Cr,[["render",wr],["__scopeId","data-v-74f55e9c"]]);var _r=Fr;const Er={class:"my-approval-container"},Ir={class:"approval-content"},Sr={class:"main-content"},Mr={class:"stats-overview"},Dr={class:"stat-card"},Ur={class:"stat-content"},Rr={class:"stat-number"},Or={class:"stat-card"},Pr={class:"stat-content"},Nr={class:"stat-number"},Kr={class:"stat-card"},zr={class:"stat-content"},Xr={class:"stat-number"},Wr={class:"stat-card"},jr={class:"stat-content"},Hr={class:"stat-number"},qr={class:"approval-list"},Jr={class:"list-header"},Vr={class:"approval-table"},$r={class:"actions"},Qr=["onClick"],Br=["onClick"],Gr={class:"modal-header"},Yr={class:"modal-body"},Zr={class:"form-group"},ed={key:0,class:"form-error"},ad={class:"form-group"},td={key:0,class:"form-error"},sd={class:"form-group"},ld={class:"form-group"},od={class:"modal-footer"},id=["disabled"];function nd(e,a,t,o,i,n){const r=(0,l.g2)("CommonHeader"),d=(0,l.g2)("CommonNavigation");return(0,l.uX)(),(0,l.CE)("div",Er,[(0,l.bF)(r,{title:"æˆ‘çš„å®¡æ‰¹",subtitle:"æŸ¥çœ‹å’Œç®¡ç†æ‚¨çš„å®¡æ‰¹ç”³è¯·","icon-type":"check-circle",isUserSide:!0}),(0,l.Lk)("div",Ir,[(0,l.bF)(d,{isAdmin:!1}),(0,l.Lk)("div",Sr,[(0,l.Lk)("div",Mr,[(0,l.Lk)("div",Dr,[a[12]||(a[12]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ“‹",-1)),(0,l.Lk)("div",Ur,[(0,l.Lk)("div",Rr,(0,v.v_)(e.myApprovals.length),1),a[11]||(a[11]=(0,l.Lk)("div",{class:"stat-label"},"æ€»ç”³è¯·æ•°",-1))])]),(0,l.Lk)("div",Or,[a[14]||(a[14]=(0,l.Lk)("div",{class:"stat-icon"},"â³",-1)),(0,l.Lk)("div",Pr,[(0,l.Lk)("div",Nr,(0,v.v_)(e.pendingCount),1),a[13]||(a[13]=(0,l.Lk)("div",{class:"stat-label"},"å¾…å®¡æ‰¹",-1))])]),(0,l.Lk)("div",Kr,[a[16]||(a[16]=(0,l.Lk)("div",{class:"stat-icon"},"âœ…",-1)),(0,l.Lk)("div",zr,[(0,l.Lk)("div",Xr,(0,v.v_)(e.approvedCount),1),a[15]||(a[15]=(0,l.Lk)("div",{class:"stat-label"},"å·²é€šè¿‡",-1))])]),(0,l.Lk)("div",Wr,[a[18]||(a[18]=(0,l.Lk)("div",{class:"stat-icon"},"âŒ",-1)),(0,l.Lk)("div",jr,[(0,l.Lk)("div",Hr,(0,v.v_)(e.rejectedCount),1),a[17]||(a[17]=(0,l.Lk)("div",{class:"stat-label"},"å·²æ‹’ç»",-1))])])]),(0,l.Lk)("div",qr,[(0,l.Lk)("div",Jr,[a[19]||(a[19]=(0,l.Lk)("h2",null,"æˆ‘çš„å®¡æ‰¹è®°å½•",-1)),(0,l.Lk)("button",{class:"btn-add",onClick:a[0]||(a[0]=(...a)=>e.showAddModal&&e.showAddModal(...a))},"+ æ–°å»ºå®¡æ‰¹")]),(0,l.Lk)("div",Vr,[(0,l.Lk)("table",null,[a[20]||(a[20]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"ç”³è¯·ID"),(0,l.Lk)("th",null,"ç”³è¯·ç±»å‹"),(0,l.Lk)("th",null,"ç”³è¯·å†…å®¹"),(0,l.Lk)("th",null,"ç”³è¯·æ—¶é—´"),(0,l.Lk)("th",null,"å®¡æ‰¹çŠ¶æ€"),(0,l.Lk)("th",null,"å®¡æ‰¹æ„è§"),(0,l.Lk)("th",null,"æ“ä½œ")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.myApprovals,a=>((0,l.uX)(),(0,l.CE)("tr",{key:a.id},[(0,l.Lk)("td",null,(0,v.v_)(a.id),1),(0,l.Lk)("td",null,(0,v.v_)(a.type),1),(0,l.Lk)("td",null,(0,v.v_)(a.content),1),(0,l.Lk)("td",null,(0,v.v_)(a.applyTime),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",a.status])},(0,v.v_)(a.statusText),3)]),(0,l.Lk)("td",null,(0,v.v_)(a.comment||"-"),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",$r,["pending"===a.status?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn-cancel",onClick:t=>e.cancelApproval(a)}," æ’¤å› ",8,Qr)):(0,l.Q3)("",!0),"pending"===a.status?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn-edit",onClick:t=>e.showEditModal(a)}," ç¼–è¾‘ ",8,Br)):(0,l.Q3)("",!0)])])]))),128))])])])])])]),e.showModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[10]||(a[10]=(...a)=>e.closeModal&&e.closeModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[9]||(a[9]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",Gr,[(0,l.Lk)("h3",null,(0,v.v_)(e.isEditing?"ç¼–è¾‘å®¡æ‰¹":"æ–°å»ºå®¡æ‰¹"),1),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeModal&&e.closeModal(...a))},"Ã—")]),(0,l.Lk)("div",Yr,[(0,l.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((...a)=>e.submitApproval&&e.submitApproval(...a),["prevent"]))},[(0,l.Lk)("div",Zr,[a[22]||(a[22]=(0,l.Lk)("label",null,[(0,l.eW)("ç”³è¯·ç±»å‹ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[2]||(a[2]=a=>e.approvalForm.type=a),required:""},a[21]||(a[21]=[(0,l.Fv)('<option value="" data-v-2ea96e79>è¯·é€‰æ‹©ç”³è¯·ç±»å‹</option><option value="è¯·å‡" data-v-2ea96e79>è¯·å‡ç”³è¯·</option><option value="æŠ¥é”€" data-v-2ea96e79>æŠ¥é”€ç”³è¯·</option><option value="é‡‡è´­" data-v-2ea96e79>é‡‡è´­ç”³è¯·</option><option value="å…¶ä»–" data-v-2ea96e79>å…¶ä»–ç”³è¯·</option>',5)]),512),[[s.u1,e.approvalForm.type]]),e.formErrors.type?((0,l.uX)(),(0,l.CE)("div",ed,(0,v.v_)(e.formErrors.type),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ad,[a[23]||(a[23]=(0,l.Lk)("label",null,[(0,l.eW)("ç”³è¯·å†…å®¹ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.approvalForm.content=a),placeholder:"è¯·è¯¦ç»†æè¿°æ‚¨çš„ç”³è¯·å†…å®¹...",rows:"4",required:""},null,512),[[s.Jo,e.approvalForm.content]]),e.formErrors.content?((0,l.uX)(),(0,l.CE)("div",td,(0,v.v_)(e.formErrors.content),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",sd,[a[24]||(a[24]=(0,l.Lk)("label",null,"ç”³è¯·é‡‘é¢",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=a=>e.approvalForm.amount=a),placeholder:"è¯·è¾“å…¥ç”³è¯·é‡‘é¢ï¼ˆå¦‚é€‚ç”¨ï¼‰",min:"0",step:"0.01"},null,512),[[s.Jo,e.approvalForm.amount]])]),(0,l.Lk)("div",ld,[a[26]||(a[26]=(0,l.Lk)("label",null,"ç´§æ€¥ç¨‹åº¦",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[5]||(a[5]=a=>e.approvalForm.priority=a)},a[25]||(a[25]=[(0,l.Lk)("option",{value:"low"},"æ™®é€š",-1),(0,l.Lk)("option",{value:"medium"},"é‡è¦",-1),(0,l.Lk)("option",{value:"high"},"ç´§æ€¥",-1)]),512),[[s.u1,e.approvalForm.priority]])])],32)]),(0,l.Lk)("div",od,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[7]||(a[7]=(...a)=>e.closeModal&&e.closeModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[8]||(a[8]=(...a)=>e.submitApproval&&e.submitApproval(...a)),disabled:e.submitting},(0,v.v_)(e.submitting?e.isEditing?"æ›´æ–°ä¸­...":"æäº¤ä¸­...":e.isEditing?"æ›´æ–°å®¡æ‰¹":"æäº¤å®¡æ‰¹"),9,id)])])])):(0,l.Q3)("",!0)])}var rd=(0,l.pM)({name:"MyApproval",components:{CommonHeader:Oi,CommonNavigation:qi},setup(){const e=(0,S.Kh)({username:"",avatar:""});(0,l.Gt)("userInfo",e);const a=e=>{try{window.dispatchEvent(new CustomEvent("userActivity",{detail:e}));const a="userActivities",t=localStorage.getItem(a),s=t?JSON.parse(t):[];s.unshift({id:Date.now(),type:e.type||"approval",icon:"notification",title:e.title||"å®¡æ‰¹æ“ä½œ",time:e.time||(new Date).toTimeString().slice(0,5),status:e.status||"pending",statusText:e.statusText||"å¾…å¤„ç†"}),localStorage.setItem(a,JSON.stringify(s.slice(0,20)))}catch(a){}},t=(0,S.KR)(!1),s=(0,S.KR)(!1),o=(0,S.KR)(!1),i=(0,S.KR)(null),n=(0,S.KR)({type:"",content:"",amount:"",priority:"low"}),r=(0,S.KR)({type:"",content:""}),d=(0,S.KR)([{id:"APP001",type:"è¯·å‡ç”³è¯·",content:"å› å®¶ä¸­æœ‰äº‹ï¼Œç”³è¯·è¯·å‡3å¤©",applyTime:"2024-01-15 09:00:00",status:"pending",statusText:"å¾…å®¡æ‰¹",comment:"",amount:"",priority:"medium"},{id:"APP002",type:"æŠ¥é”€ç”³è¯·",content:"å‡ºå·®æœŸé—´çš„äº¤é€šè´¹å’Œä½å®¿è´¹æŠ¥é”€",applyTime:"2024-01-14 14:30:00",status:"approved",statusText:"å·²é€šè¿‡",comment:"åŒæ„æŠ¥é”€ï¼Œè¯·æä¾›ç›¸å…³ç¥¨æ®",amount:"1200.00",priority:"high"},{id:"APP003",type:"é‡‡è´­ç”³è¯·",content:"ç”³è¯·è´­ä¹°åŠå…¬ç”¨å“",applyTime:"2024-01-13 10:15:00",status:"rejected",statusText:"å·²æ‹’ç»",comment:"é¢„ç®—ä¸è¶³ï¼Œå»ºè®®å»¶åé‡‡è´­",amount:"500.00",priority:"low"}]),c=(0,l.EW)(()=>d.value.filter(e=>"pending"===e.status).length),u=(0,l.EW)(()=>d.value.filter(e=>"approved"===e.status).length),v=(0,l.EW)(()=>d.value.filter(e=>"rejected"===e.status).length),p=()=>{try{const a=localStorage.getItem("savedUserInfo");if(a){const t=JSON.parse(a);e.username=t.username||"",e.avatar=t.avatar||""}else{const a=localStorage.getItem("user");if(a){const t=JSON.parse(a);e.username=t.username||localStorage.getItem("username")||"user",e.avatar=t.avatar||""}}}catch(a){console.error("åŠ è½½ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",a)}},m=()=>{s.value=!1,i.value=null,n.value={type:"",content:"",amount:"",priority:"low"},r.value={type:"",content:""},t.value=!0},k=e=>{s.value=!0,i.value=e,n.value={type:e.type,content:e.content,amount:e.amount,priority:e.priority},r.value={type:"",content:""},t.value=!0},h=()=>{t.value=!1,s.value=!1,i.value=null},b=()=>{let e=!0;return r.value={type:"",content:""},n.value.type||(r.value.type="è¯·é€‰æ‹©ç”³è¯·ç±»å‹",e=!1),n.value.content.trim()||(r.value.content="è¯·è¾“å…¥ç”³è¯·å†…å®¹",e=!1),e},g=async()=>{if(b()){o.value=!0;try{if(await new Promise(e=>setTimeout(e,1e3)),s.value&&i.value){const e=i.value;e.type=n.value.type,e.content=n.value.content,e.amount=n.value.amount,e.priority=n.value.priority,e.updateTime=(new Date).toLocaleString("zh-CN"),a({type:"approval",title:"æ›´æ–°å®¡æ‰¹ç”³è¯·",status:"completed",statusText:"å·²æ›´æ–°"}),M.Ay.success("å®¡æ‰¹ç”³è¯·å·²æ›´æ–°ï¼")}else{const e={id:`APP${String(d.value.length+1).padStart(3,"0")}`,type:n.value.type,content:n.value.content,amount:n.value.amount,priority:n.value.priority,applyTime:(new Date).toLocaleString("zh-CN"),status:"pending",statusText:"å¾…å®¡æ‰¹",comment:""};d.value.unshift(e),a({type:"approval",title:"æäº¤å®¡æ‰¹ç”³è¯·",status:"pending",statusText:"å¾…å®¡æ‰¹"}),M.Ay.success("å®¡æ‰¹ç”³è¯·å·²æäº¤ï¼")}h()}catch(e){M.Ay.error("æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æäº¤é”™è¯¯:",e)}finally{o.value=!1}}},L=e=>{if(confirm("ç¡®å®šè¦æ’¤å›è¿™ä¸ªå®¡æ‰¹ç”³è¯·å—ï¼Ÿ")){const t=d.value.findIndex(a=>a.id===e.id);-1!==t&&(d.value.splice(t,1),a({type:"approval",title:"æ’¤å›å®¡æ‰¹ç”³è¯·",status:"completed",statusText:"å·²æ’¤å›"}),M.Ay.success("å®¡æ‰¹ç”³è¯·å·²æ’¤å›"))}};return(0,l.sV)(()=>{p()}),{headerUserInfo:e,showModal:t,isEditing:s,submitting:o,editingApproval:i,approvalForm:n,formErrors:r,myApprovals:d,pendingCount:c,approvedCount:u,rejectedCount:v,showAddModal:m,showEditModal:k,closeModal:h,submitApproval:g,cancelApproval:L}}});const dd=(0,r.A)(rd,[["render",nd],["__scopeId","data-v-2ea96e79"]]);var cd=dd;const ud={class:"my-attendance-container"},vd={class:"attendance-content"},pd={class:"main-content"},md={class:"stats-overview"},kd={class:"stat-card"},hd={class:"stat-content"},bd={class:"stat-number"},gd={class:"stat-card"},Ld={class:"stat-content"},fd={class:"stat-number"},yd={class:"stat-card"},xd={class:"stat-content"},Td={class:"stat-number"},Ad={class:"stat-card"},wd={class:"stat-content"},Cd={class:"stat-number"},Fd={class:"attendance-list"},_d={class:"list-header"},Ed={class:"attendance-table"},Id={class:"modal-header"},Sd={class:"modal-body"},Md={class:"form-group"},Dd=["max"],Ud={key:0,class:"form-error"},Rd={class:"form-group"},Od={key:0,class:"form-error"},Pd={class:"form-group"},Nd={class:"form-group"},Kd={class:"modal-footer"},zd=["disabled"];function Xd(e,a,t,o,i,n){const r=(0,l.g2)("CommonHeader"),d=(0,l.g2)("CommonNavigation");return(0,l.uX)(),(0,l.CE)("div",ud,[(0,l.bF)(r,{title:"æˆ‘çš„è€ƒå‹¤",subtitle:"æŸ¥çœ‹å’Œç®¡ç†æ‚¨çš„è€ƒå‹¤è®°å½•","icon-type":"clock-circle",isUserSide:!0}),(0,l.Lk)("div",vd,[(0,l.bF)(d,{isAdmin:!1}),(0,l.Lk)("div",pd,[(0,l.Lk)("div",md,[(0,l.Lk)("div",kd,[a[12]||(a[12]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ“…",-1)),(0,l.Lk)("div",hd,[(0,l.Lk)("div",bd,(0,v.v_)(e.attendanceStats.totalDays),1),a[11]||(a[11]=(0,l.Lk)("div",{class:"stat-label"},"æœ¬æœˆå‡ºå‹¤å¤©æ•°",-1))])]),(0,l.Lk)("div",gd,[a[14]||(a[14]=(0,l.Lk)("div",{class:"stat-icon"},"â°",-1)),(0,l.Lk)("div",Ld,[(0,l.Lk)("div",fd,(0,v.v_)(e.attendanceStats.avgWorkHours),1),a[13]||(a[13]=(0,l.Lk)("div",{class:"stat-label"},"å¹³å‡å·¥ä½œæ—¶é•¿",-1))])]),(0,l.Lk)("div",yd,[a[16]||(a[16]=(0,l.Lk)("div",{class:"stat-icon"},"âœ…",-1)),(0,l.Lk)("div",xd,[(0,l.Lk)("div",Td,(0,v.v_)(e.attendanceStats.onTimeCount),1),a[15]||(a[15]=(0,l.Lk)("div",{class:"stat-label"},"å‡†æ—¶æ‰“å¡æ¬¡æ•°",-1))])]),(0,l.Lk)("div",Ad,[a[18]||(a[18]=(0,l.Lk)("div",{class:"stat-icon"},"âš ï¸",-1)),(0,l.Lk)("div",wd,[(0,l.Lk)("div",Cd,(0,v.v_)(e.attendanceStats.lateCount),1),a[17]||(a[17]=(0,l.Lk)("div",{class:"stat-label"},"è¿Ÿåˆ°æ¬¡æ•°",-1))])])]),(0,l.Lk)("div",Fd,[(0,l.Lk)("div",_d,[a[19]||(a[19]=(0,l.Lk)("h2",null,"è€ƒå‹¤è®°å½•",-1)),(0,l.Lk)("button",{class:"btn-checkin",onClick:a[0]||(a[0]=(...a)=>e.handleCheckin&&e.handleCheckin(...a))},"æ‰“å¡ç­¾åˆ°")]),(0,l.Lk)("div",Ed,[(0,l.Lk)("table",null,[a[20]||(a[20]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"æ—¥æœŸ"),(0,l.Lk)("th",null,"æ˜ŸæœŸ"),(0,l.Lk)("th",null,"ä¸Šç­æ—¶é—´"),(0,l.Lk)("th",null,"ä¸‹ç­æ—¶é—´"),(0,l.Lk)("th",null,"å·¥ä½œæ—¶é•¿"),(0,l.Lk)("th",null,"çŠ¶æ€"),(0,l.Lk)("th",null,"å¤‡æ³¨")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.attendanceRecords,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,v.v_)(e.date),1),(0,l.Lk)("td",null,(0,v.v_)(e.weekday),1),(0,l.Lk)("td",null,(0,v.v_)(e.checkInTime||"-"),1),(0,l.Lk)("td",null,(0,v.v_)(e.checkOutTime||"-"),1),(0,l.Lk)("td",null,(0,v.v_)(e.workHours||"-"),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,v.C4)(["status",e.status])},(0,v.v_)(e.statusText),3)]),(0,l.Lk)("td",null,(0,v.v_)(e.note||"-"),1)]))),128))])])])])])]),e.showModal?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"modal-overlay",onClick:a[10]||(a[10]=(...a)=>e.closeModal&&e.closeModal(...a))},[(0,l.Lk)("div",{class:"modal-content",onClick:a[9]||(a[9]=(0,s.D$)(()=>{},["stop"]))},[(0,l.Lk)("div",Id,[(0,l.Lk)("h3",null,(0,v.v_)(e.isEditing?"ç¼–è¾‘è€ƒå‹¤è®°å½•":"æ·»åŠ è€ƒå‹¤è®°å½•"),1),(0,l.Lk)("button",{class:"modal-close",onClick:a[1]||(a[1]=(...a)=>e.closeModal&&e.closeModal(...a))},"Ã—")]),(0,l.Lk)("div",Sd,[(0,l.Lk)("form",{onSubmit:a[6]||(a[6]=(0,s.D$)((...a)=>e.submitRecord&&e.submitRecord(...a),["prevent"]))},[(0,l.Lk)("div",Md,[a[21]||(a[21]=(0,l.Lk)("label",null,[(0,l.eW)("æ—¥æœŸ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=a=>e.attendanceForm.date=a),required:"",max:e.today},null,8,Dd),[[s.Jo,e.attendanceForm.date]]),e.formErrors.date?((0,l.uX)(),(0,l.CE)("div",Ud,(0,v.v_)(e.formErrors.date),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Rd,[a[22]||(a[22]=(0,l.Lk)("label",null,[(0,l.eW)("ç­¾åˆ°æ—¶é—´ "),(0,l.Lk)("span",{class:"required"},"*")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"time","onUpdate:modelValue":a[3]||(a[3]=a=>e.attendanceForm.checkIn=a),required:""},null,512),[[s.Jo,e.attendanceForm.checkIn]]),e.formErrors.checkIn?((0,l.uX)(),(0,l.CE)("div",Od,(0,v.v_)(e.formErrors.checkIn),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Pd,[a[23]||(a[23]=(0,l.Lk)("label",null,"ç­¾é€€æ—¶é—´",-1)),(0,l.bo)((0,l.Lk)("input",{type:"time","onUpdate:modelValue":a[4]||(a[4]=a=>e.attendanceForm.checkOut=a)},null,512),[[s.Jo,e.attendanceForm.checkOut]])]),(0,l.Lk)("div",Nd,[a[24]||(a[24]=(0,l.Lk)("label",null,"å¤‡æ³¨",-1)),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":a[5]||(a[5]=a=>e.attendanceForm.note=a),placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯...",rows:"3"},null,512),[[s.Jo,e.attendanceForm.note]])])],32)]),(0,l.Lk)("div",Kd,[(0,l.Lk)("button",{type:"button",class:"btn-cancel",onClick:a[7]||(a[7]=(...a)=>e.closeModal&&e.closeModal(...a))},"å–æ¶ˆ"),(0,l.Lk)("button",{type:"button",class:"btn-submit",onClick:a[8]||(a[8]=(...a)=>e.submitRecord&&e.submitRecord(...a)),disabled:e.submitting},(0,v.v_)(e.submitting?e.isEditing?"æ›´æ–°ä¸­...":"æäº¤ä¸­...":e.isEditing?"æ›´æ–°è®°å½•":"æ·»åŠ è®°å½•"),9,zd)])])])):(0,l.Q3)("",!0)])}var Wd=(0,l.pM)({name:"MyAttendance",components:{CommonHeader:Oi,CommonNavigation:qi},setup(){const e="08:30",a="17:30",t=(0,S.Kh)({username:"",avatar:""});(0,l.Gt)("userInfo",t);const s=(0,S.KR)(!1),o=(0,S.KR)(!1),i=(0,S.KR)(!1),n=(0,S.KR)(null),r=(0,S.Kh)({date:"",checkIn:"",checkOut:"",note:""}),d=(0,S.Kh)({date:"",checkIn:""}),c=(0,S.Kh)({totalDays:0,avgWorkHours:"0å°æ—¶",onTimeCount:0,lateCount:0}),u=(0,S.KR)([{id:"ATT001",date:"2024-01-15",weekday:"å‘¨ä¸€",checkInTime:"08:30",checkOutTime:"17:30",workHours:"9å°æ—¶",status:"normal",statusText:"æ­£å¸¸å‡ºå‹¤",note:""},{id:"ATT002",date:"2024-01-14",weekday:"å‘¨æ—¥",checkInTime:"08:45",checkOutTime:"17:30",workHours:"8.75å°æ—¶",status:"normal",statusText:"æ­£å¸¸å‡ºå‹¤",note:"æå‰åˆ°å²—"},{id:"ATT003",date:"2024-01-13",weekday:"å‘¨å…­",checkInTime:"09:15",checkOutTime:"",workHours:"",status:"checked-in",statusText:"å·²ç­¾åˆ°",note:"å¿˜è®°ç­¾é€€"}]),v=()=>{z(u.value)},p=()=>{const e=X();e&&e.length>0&&(u.value=e)},m=(0,l.EW)(()=>u.value.length),k=(0,l.EW)(()=>{const e=u.value.filter(e=>e.workHours);if(0===e.length)return"0å°æ—¶";const a=e.reduce((e,a)=>{const t=parseFloat(a.workHours.replace("å°æ—¶",""));return e+t},0);return(a/e.length).toFixed(1)+"å°æ—¶"}),h=(0,l.EW)(()=>u.value.filter(a=>a.checkInTime&&a.checkInTime<=e).length),b=(0,l.EW)(()=>u.value.filter(a=>a.checkInTime&&a.checkInTime>e).length),g=()=>{c.totalDays=m.value,c.avgWorkHours=k.value,c.onTimeCount=h.value,c.lateCount=b.value},L=e=>{N({type:e.type||"attendance",icon:"clock-circle",title:e.title||"è€ƒå‹¤æ“ä½œ",time:e.time||(new Date).toTimeString().slice(0,5),status:e.status||"completed",statusText:e.statusText||"å·²å®Œæˆ"})},f=()=>{const t=new Date,s=t.toTimeString().slice(0,5),l=t.toISOString().split("T")[0],o=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],i=o[t.getDay()],n=u.value.find(e=>e.date===l);if(n)if(n.checkOutTime)M.Ay.warning("ä»Šå¤©å·²ç»å®Œæˆæ‰“å¡ï¼");else{n.checkOutTime=s;const e=new Date(`2000-01-01 ${n.checkInTime}`),t=new Date(`2000-01-01 ${s}`),l=((t-e)/36e5).toFixed(1);n.workHours=`${l}å°æ—¶`,s<a?"late"===n.status?(n.status="late-early",n.statusText="è¿Ÿåˆ°+æ—©é€€"):(n.status="early-leave",n.statusText="æ—©é€€"):"late"!==n.status&&(n.status="present",n.statusText="æ­£å¸¸å‡ºå‹¤"),M.Ay.success("ç­¾é€€æˆåŠŸï¼"),L({type:"attendance",title:"ä¸‹åˆç­¾é€€",time:s,status:"early-leave"===n.status?"early-leave":"late-early"===n.status?"late-early":"completed",statusText:n.statusText}),v()}else{const a={id:`ATT${Date.now()}`,date:l,weekday:i,checkInTime:s,checkOutTime:"",workHours:"",status:"present",statusText:"å·²ç­¾åˆ°",note:""};s>e&&(a.status="late",a.statusText="è¿Ÿåˆ°"),u.value.unshift(a),M.Ay.success("ç­¾åˆ°æˆåŠŸï¼"),L({type:"attendance",title:"ä¸Šåˆæ‰“å¡ç­¾åˆ°",time:s,status:"late"===a.status?"late":"completed",statusText:"late"===a.status?"è¿Ÿåˆ°":"å·²å®Œæˆ"}),v()}g()},y=(0,l.EW)(()=>{const e=new Date;return e.toISOString().split("T")[0]}),x=()=>{try{const e=localStorage.getItem("savedUserInfo");if(e){const a=JSON.parse(e);t.username=a.username||"",t.avatar=a.avatar||""}else{const e=localStorage.getItem("user");if(e){const a=JSON.parse(e);t.username=a.username||localStorage.getItem("username")||"user",t.avatar=a.avatar||""}}}catch(e){console.error("åŠ è½½ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}},T=()=>{o.value=!1,n.value=null,r.date=y.value,r.checkIn="09:00",r.checkOut="",r.note="",d.date="",d.checkIn="",s.value=!0},A=e=>{o.value=!0,n.value=e,r.date=e.date,r.checkIn=e.checkInTime,r.checkOut=e.checkOutTime||"",r.note=e.note||"",d.date="",d.checkIn="",s.value=!0},w=()=>{s.value=!1,o.value=!1,n.value=null},C=()=>{let e=!0;return d.date="",d.checkIn="",r.date||(d.date="è¯·é€‰æ‹©æ—¥æœŸ",e=!1),r.checkIn||(d.checkIn="è¯·è¾“å…¥ç­¾åˆ°æ—¶é—´",e=!1),e},F=async()=>{if(C()){i.value=!0;try{if(await new Promise(e=>setTimeout(e,1e3)),o.value&&n.value){const t=n.value;if(t.date=r.date,t.checkInTime=r.checkIn,t.checkOutTime=r.checkOut,t.note=r.note,t.checkOutTime){const e=new Date(`2000-01-01 ${t.checkInTime}`),a=new Date(`2000-01-01 ${t.checkOutTime}`),s=(a-e)/36e5;t.workHours=s.toFixed(1)+"å°æ—¶"}else t.workHours="";t.checkInTime>e?(t.status="late",t.statusText="è¿Ÿåˆ°"):(t.status="present",t.statusText=t.checkOutTime?"æ­£å¸¸å‡ºå‹¤":"å·²ç­¾åˆ°"),t.checkOutTime&&t.checkOutTime<a&&("late"===t.status?(t.status="late-early",t.statusText="è¿Ÿåˆ°+æ—©é€€"):(t.status="early-leave",t.statusText="æ—©é€€")),v(),M.Ay.success("è€ƒå‹¤è®°å½•å·²æ›´æ–°ï¼")}else{const t=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],s=t[new Date(r.date).getDay()],l={id:`ATT${String(Date.now())}`,date:r.date,weekday:s,checkInTime:r.checkIn,checkOutTime:r.checkOut,workHours:"",status:"present",statusText:r.checkOut?"æ­£å¸¸å‡ºå‹¤":"å·²ç­¾åˆ°",note:r.note};if(l.checkOutTime){const e=new Date(`2000-01-01 ${l.checkInTime}`),a=new Date(`2000-01-01 ${l.checkOutTime}`),t=(a-e)/36e5;l.workHours=t.toFixed(1)+"å°æ—¶"}l.checkInTime>e&&(l.status="late",l.statusText="è¿Ÿåˆ°"),l.checkOutTime&&l.checkOutTime<a&&("late"===l.status?(l.status="late-early",l.statusText="è¿Ÿåˆ°+æ—©é€€"):(l.status="early-leave",l.statusText="æ—©é€€")),u.value.unshift(l),v(),M.Ay.success("è€ƒå‹¤è®°å½•å·²æ·»åŠ ï¼")}w()}catch(t){M.Ay.error("æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æäº¤é”™è¯¯:",t)}finally{i.value=!1}}},_=e=>{const a=new Date,t=a.toTimeString().slice(0,5);e.checkOutTime=t;const s=new Date(`2000-01-01 ${e.checkInTime}`),l=new Date(`2000-01-01 ${t}`),o=(l-s)/36e5;e.workHours=o.toFixed(1)+"å°æ—¶",e.statusText="æ­£å¸¸å‡ºå‹¤",v(),M.Ay.success("ç­¾é€€æˆåŠŸï¼")},E=e=>{if(confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è€ƒå‹¤è®°å½•å—ï¼Ÿ")){const a=u.value.findIndex(a=>a.id===e.id);-1!==a&&(u.value.splice(a,1),v(),M.Ay.success("è€ƒå‹¤è®°å½•å·²åˆ é™¤"))}};return(0,l.sV)(()=>{x(),p(),g()}),{headerUserInfo:t,showModal:s,isEditing:o,submitting:i,editingRecord:n,attendanceForm:r,formErrors:d,attendanceStats:c,attendanceRecords:u,totalDays:m,averageHours:k,onTimeCount:h,lateCount:b,today:y,showAddModal:T,showEditModal:A,closeModal:w,submitRecord:F,handleCheckin:f,checkOut:_,deleteRecord:E}}});const jd=(0,r.A)(Wd,[["render",Xd],["__scopeId","data-v-405c2261"]]);var Hd=jd,qd=t(1262),Jd=t(6024),Vd=t(912),$d=t(3235),Qd=t(9729);const Bd={class:"my-files-container"},Gd={class:"main-content"},Yd={class:"content-area"},Zd={class:"stats-section"},ec={class:"stat-card"},ac={class:"stat-content"},tc={class:"stat-number"},sc={class:"stat-card"},lc={class:"stat-content"},oc={class:"stat-number"},ic={class:"stat-card"},nc={class:"stat-content"},rc={class:"stat-number"},dc={class:"stat-card"},cc={class:"stat-content"},uc={class:"stat-number"},vc={class:"file-management-section"},pc={class:"management-header"},mc={class:"left-actions"},kc={class:"right-actions"},hc=["onClick"],bc={class:"file-icon"},gc={class:"file-info"},Lc={class:"file-name"},fc={class:"file-meta"},yc={class:"file-size"},xc={class:"file-date"},Tc={class:"file-actions"};var Ac={__name:"MyFiles",setup(e){const a=(0,S.KR)(!1),t=(0,S.KR)(!1),o=(0,S.KR)(!1),i=(0,S.KR)(!1),n=(0,S.KR)(!1),r=(0,S.KR)(""),d=(0,S.KR)("grid"),c=(0,S.KR)(1),u=(0,S.KR)(null),p=(0,S.Kh)({totalFiles:0,totalSize:0,recentUploads:0,privateFiles:0}),m=(0,S.KR)([]),k=(0,S.KR)([]),h=(0,S.Kh)({name:"",description:""}),b=(0,S.Kh)({id:"",name:"",description:"",tags:[]}),g=(0,l.EW)(()=>{let e=m.value;return r.value&&(e=e.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())||e.description?.toLowerCase().includes(r.value.toLowerCase()))),e}),L=()=>{const e=[{id:1,name:"é¡¹ç›®è®¡åˆ’ä¹¦.docx",type:"document",size:2621440,uploadTime:new Date("2024-01-15"),description:"2024å¹´ç¬¬ä¸€å­£åº¦é¡¹ç›®è®¡åˆ’",tags:["é¡¹ç›®","è®¡åˆ’","æ–‡æ¡£"],isPrivate:!1},{id:2,name:"ä¼šè®®è®°å½•.pdf",type:"document",size:524288,uploadTime:new Date("2024-01-14"),description:"å›¢é˜Ÿå‘¨ä¼šä¼šè®®è®°å½•",tags:["ä¼šè®®","è®°å½•"],isPrivate:!1},{id:3,name:"äº§å“è®¾è®¡å›¾.psd",type:"image",size:15728640,uploadTime:new Date("2024-01-13"),description:"æ–°äº§å“UIè®¾è®¡ç¨¿",tags:["è®¾è®¡","UI","äº§å“"],isPrivate:!0},{id:4,name:"æ¼”ç¤ºè§†é¢‘.mp4",type:"video",size:47185920,uploadTime:new Date("2024-01-12"),description:"äº§å“åŠŸèƒ½æ¼”ç¤ºè§†é¢‘",tags:["è§†é¢‘","æ¼”ç¤º","äº§å“"],isPrivate:!1},{id:5,name:"æ•°æ®æŠ¥è¡¨.xlsx",type:"spreadsheet",size:262144,uploadTime:new Date("2024-01-11"),description:"æœˆåº¦é”€å”®æ•°æ®æŠ¥è¡¨",tags:["æ•°æ®","æŠ¥è¡¨","é”€å”®"],isPrivate:!1},{id:6,name:"ä»£ç æ–‡ä»¶.zip",type:"archive",size:8388608,uploadTime:new Date("2024-01-10"),description:"å‰ç«¯ä»£ç å‹ç¼©åŒ…",tags:["ä»£ç ","å‰ç«¯","å¼€å‘"],isPrivate:!0}];m.value=e,f()},f=()=>{const e=m.value.length,a=m.value.reduce((e,a)=>e+a.size,0),t=m.value.filter(e=>{const a=(new Date-e.uploadTime)/864e5;return a<=7}).length,s=m.value.filter(e=>e.isPrivate).length;p.totalFiles=e,p.totalSize=a,p.recentUploads=t,p.privateFiles=s},y=e=>{const a={document:"ğŸ“„",image:"ğŸ–¼ï¸",video:"ğŸ¥",audio:"ğŸµ",spreadsheet:"ğŸ“Š",presentation:"ğŸ“½ï¸",archive:"ğŸ“¦",code:"ğŸ’»",pdf:"ğŸ“•",folder:"ğŸ“"};return a[e]||"ğŸ“„"},x=e=>{if(0===e)return"0 B";const a=1024,t=["B","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,s)).toFixed(2))+" "+t[s]},T=e=>new Date(e).toLocaleDateString("zh-CN"),A=()=>{c.value=1},w=e=>{"folder"===e.type?M.Ay.info(`è¿›å…¥æ–‡ä»¶å¤¹: ${e.name}`):M.Ay.info(`é¢„è§ˆæ–‡ä»¶: ${e.name}`)},C=e=>{const a=e.size/1024/1024<50;return!!a||(M.Ay.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡50MB!"),!1)},F=e=>{try{window.dispatchEvent(new CustomEvent("userActivity",{detail:e}));const a="userActivities",t=localStorage.getItem(a),s=t?JSON.parse(t):[];s.unshift({id:Date.now(),type:e.type||"file",icon:"folder",title:e.title||"æ–‡ä»¶æ“ä½œ",time:e.time||(new Date).toTimeString().slice(0,5),status:e.status||"completed",statusText:e.statusText||"å·²å®Œæˆ"}),localStorage.setItem(a,JSON.stringify(s.slice(0,20)))}catch(a){}},_=async()=>{if(0!==k.value.length){n.value=!0;try{await new Promise(e=>setTimeout(e,2e3));const e=k.value.map((e,a)=>({id:Date.now()+a,name:e.name,type:E(e.name),size:e.size||1048576,uploadTime:new Date,description:"",tags:[],isPrivate:!1}));m.value.unshift(...e),f(),F({type:"file",title:"ä¸Šä¼ æ–‡ä»¶",status:"completed",statusText:"å·²å®Œæˆ"}),M.Ay.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),a.value=!1,k.value=[]}catch(e){M.Ay.error("ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{n.value=!1}}else M.Ay.warning("è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶")},E=e=>{const a=e.split(".").pop().toLowerCase(),t={doc:"document",docx:"document",pdf:"pdf",jpg:"image",jpeg:"image",png:"image",gif:"image",mp4:"video",avi:"video",mov:"video",mp3:"audio",wav:"audio",flac:"audio",xls:"spreadsheet",xlsx:"spreadsheet",ppt:"presentation",pptx:"presentation",zip:"archive",rar:"archive","7z":"archive",js:"code",ts:"code",vue:"code",html:"code",css:"code"};return t[a]||"document"},I=async()=>{if(h.name.trim())try{await new Promise(e=>setTimeout(e,1e3));const e={id:Date.now(),name:h.name,type:"folder",size:0,uploadTime:new Date,description:h.description,tags:[],isPrivate:!1};m.value.unshift(e),f(),F({type:"file",title:"æ–°å»ºæ–‡ä»¶å¤¹",status:"completed",statusText:"å·²å®Œæˆ"}),M.Ay.success("æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸï¼"),t.value=!1,h.name="",h.description=""}catch(e){M.Ay.error("åˆ›å»ºå¤±è´¥ï¼Œè¯·é‡è¯•")}else M.Ay.warning("è¯·è¾“å…¥æ–‡ä»¶å¤¹åç§°")},D=e=>{b.id=e.id,b.name=e.name,b.description=e.description||"",b.tags=e.tags||[],o.value=!0},U=async()=>{if(b.name.trim())try{await new Promise(e=>setTimeout(e,1e3));const e=m.value.findIndex(e=>e.id===b.id);-1!==e&&(m.value[e].name=b.name,m.value[e].description=b.description,m.value[e].tags=b.tags,F({type:"file",title:"æ›´æ–°æ–‡ä»¶ä¿¡æ¯",status:"completed",statusText:"å·²å®Œæˆ"}),M.Ay.success("æ–‡ä»¶ä¿¡æ¯æ›´æ–°æˆåŠŸï¼"),o.value=!1)}catch(e){M.Ay.error("æ›´æ–°å¤±è´¥ï¼Œè¯·é‡è¯•")}else M.Ay.warning("è¯·è¾“å…¥æ–‡ä»¶åç§°")},R=e=>{u.value=e,i.value=!0},O=async()=>{if(u.value)try{await new Promise(e=>setTimeout(e,1e3));const e=m.value.findIndex(e=>e.id===u.value.id);-1!==e&&(m.value.splice(e,1),f(),F({type:"file",title:"åˆ é™¤æ–‡ä»¶",status:"completed",statusText:"å·²å®Œæˆ"}),M.Ay.success("æ–‡ä»¶åˆ é™¤æˆåŠŸï¼"),i.value=!1,u.value=null)}catch(e){M.Ay.error("åˆ é™¤å¤±è´¥ï¼Œè¯·é‡è¯•")}},P=e=>{M.Ay.info(`å¼€å§‹ä¸‹è½½æ–‡ä»¶: ${e.name}`)};return(0,l.sV)(()=>{L()}),(0,l.hi)(()=>{}),(e,c)=>{const m=(0,l.g2)("a-button"),L=(0,l.g2)("a-input-search"),f=(0,l.g2)("a-select-option"),F=(0,l.g2)("a-select"),E=(0,l.g2)("a-upload"),M=(0,l.g2)("a-modal"),N=(0,l.g2)("a-input"),K=(0,l.g2)("a-form-item"),z=(0,l.g2)("a-textarea"),X=(0,l.g2)("a-form");return(0,l.uX)(),(0,l.CE)("div",Bd,[(0,l.bF)(Oi,{title:"æˆ‘çš„æ–‡ä»¶",subtitle:"ç®¡ç†æ‚¨çš„ä¸ªäººæ–‡ä»¶å’Œæ–‡æ¡£","icon-type":"folder",isUserSide:!0}),(0,l.Lk)("div",Gd,[(0,l.bF)(qi,{isAdmin:!1}),(0,l.Lk)("div",Yd,[(0,l.Lk)("div",Zd,[(0,l.Lk)("div",ec,[c[19]||(c[19]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ“",-1)),(0,l.Lk)("div",ac,[(0,l.Lk)("div",tc,(0,v.v_)(p.totalFiles),1),c[18]||(c[18]=(0,l.Lk)("div",{class:"stat-label"},"æ€»æ–‡ä»¶æ•°",-1))])]),(0,l.Lk)("div",sc,[c[21]||(c[21]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ’¾",-1)),(0,l.Lk)("div",lc,[(0,l.Lk)("div",oc,(0,v.v_)(x(p.totalSize)),1),c[20]||(c[20]=(0,l.Lk)("div",{class:"stat-label"},"æ€»å¤§å°",-1))])]),(0,l.Lk)("div",ic,[c[23]||(c[23]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ“¤",-1)),(0,l.Lk)("div",nc,[(0,l.Lk)("div",rc,(0,v.v_)(p.recentUploads),1),c[22]||(c[22]=(0,l.Lk)("div",{class:"stat-label"},"æœ€è¿‘ä¸Šä¼ ",-1))])]),(0,l.Lk)("div",dc,[c[25]||(c[25]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ”’",-1)),(0,l.Lk)("div",cc,[(0,l.Lk)("div",uc,(0,v.v_)(p.privateFiles),1),c[24]||(c[24]=(0,l.Lk)("div",{class:"stat-label"},"ç§æœ‰æ–‡ä»¶",-1))])])]),(0,l.Lk)("div",vc,[(0,l.Lk)("div",pc,[(0,l.Lk)("div",mc,[(0,l.bF)(m,{type:"primary",onClick:c[0]||(c[0]=e=>a.value=!0),class:"action-btn"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(qd.A))]),default:(0,l.k6)(()=>[c[26]||(c[26]=(0,l.eW)(" ä¸Šä¼ æ–‡ä»¶ ",-1))]),_:1,__:[26]}),(0,l.bF)(m,{onClick:c[1]||(c[1]=e=>t.value=!0),class:"action-btn"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(Jd.A))]),default:(0,l.k6)(()=>[c[27]||(c[27]=(0,l.eW)(" æ–°å»ºæ–‡ä»¶å¤¹ ",-1))]),_:1,__:[27]})]),(0,l.Lk)("div",kc,[(0,l.bF)(L,{value:r.value,"onUpdate:value":c[2]||(c[2]=e=>r.value=e),placeholder:"æœç´¢æ–‡ä»¶...",style:{width:"200px","margin-right":"16px"},onSearch:A},null,8,["value"]),(0,l.bF)(F,{value:d.value,"onUpdate:value":c[3]||(c[3]=e=>d.value=e),style:{width:"120px"}},{default:(0,l.k6)(()=>[(0,l.bF)(f,{value:"grid"},{default:(0,l.k6)(()=>c[28]||(c[28]=[(0,l.eW)("ç½‘æ ¼è§†å›¾",-1)])),_:1,__:[28]}),(0,l.bF)(f,{value:"list"},{default:(0,l.k6)(()=>c[29]||(c[29]=[(0,l.eW)("åˆ—è¡¨è§†å›¾",-1)])),_:1,__:[29]})]),_:1},8,["value"])])]),(0,l.Lk)("div",{class:(0,v.C4)(["file-list",d.value])},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(g.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"file-item",onClick:a=>w(e)},[(0,l.Lk)("div",bc,(0,v.v_)(y(e.type)),1),(0,l.Lk)("div",gc,[(0,l.Lk)("div",Lc,(0,v.v_)(e.name),1),(0,l.Lk)("div",fc,[(0,l.Lk)("span",yc,(0,v.v_)(x(e.size)),1),(0,l.Lk)("span",xc,(0,v.v_)(T(e.uploadTime)),1)])]),(0,l.Lk)("div",Tc,[(0,l.bF)(m,{type:"text",size:"small",onClick:(0,s.D$)(a=>P(e),["stop"]),class:"action-btn"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(Vd.A))]),_:2},1032,["onClick"]),(0,l.bF)(m,{type:"text",size:"small",onClick:(0,s.D$)(a=>D(e),["stop"]),class:"action-btn"},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)($d.A))]),_:2},1032,["onClick"]),(0,l.bF)(m,{type:"text",size:"small",onClick:(0,s.D$)(a=>R(e),["stop"]),class:"action-btn",danger:""},{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(Qd.A))]),_:2},1032,["onClick"])])],8,hc))),128))],2)])])]),(0,l.bF)(M,{open:a.value,"onUpdate:open":c[5]||(c[5]=e=>a.value=e),title:"ä¸Šä¼ æ–‡ä»¶",onOk:_,onCancel:c[6]||(c[6]=e=>a.value=!1),"confirm-loading":n.value},{default:(0,l.k6)(()=>[(0,l.bF)(E,{"file-list":k.value,"onUpdate:fileList":c[4]||(c[4]=e=>k.value=e),"before-upload":C,multiple:!0,"show-upload-list":!0},{default:(0,l.k6)(()=>[(0,l.bF)(m,null,{icon:(0,l.k6)(()=>[(0,l.bF)((0,S.R1)(qd.A))]),default:(0,l.k6)(()=>[c[30]||(c[30]=(0,l.eW)(" é€‰æ‹©æ–‡ä»¶ ",-1))]),_:1,__:[30]})]),_:1},8,["file-list"]),c[31]||(c[31]=(0,l.Lk)("div",{class:"upload-tips"},[(0,l.Lk)("p",null,"æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼šæ–‡æ¡£ã€å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰"),(0,l.Lk)("p",null,"å•ä¸ªæ–‡ä»¶å¤§å°é™åˆ¶ï¼š50MB")],-1))]),_:1,__:[31]},8,["open","confirm-loading"]),(0,l.bF)(M,{open:t.value,"onUpdate:open":c[9]||(c[9]=e=>t.value=e),title:"æ–°å»ºæ–‡ä»¶å¤¹",onOk:I,onCancel:c[10]||(c[10]=e=>t.value=!1)},{default:(0,l.k6)(()=>[(0,l.bF)(X,{model:h,layout:"vertical"},{default:(0,l.k6)(()=>[(0,l.bF)(K,{label:"æ–‡ä»¶å¤¹åç§°",name:"name"},{default:(0,l.k6)(()=>[(0,l.bF)(N,{value:h.name,"onUpdate:value":c[7]||(c[7]=e=>h.name=e),placeholder:"è¯·è¾“å…¥æ–‡ä»¶å¤¹åç§°"},null,8,["value"])]),_:1}),(0,l.bF)(K,{label:"æè¿°",name:"description"},{default:(0,l.k6)(()=>[(0,l.bF)(z,{value:h.description,"onUpdate:value":c[8]||(c[8]=e=>h.description=e),placeholder:"è¯·è¾“å…¥æ–‡ä»¶å¤¹æè¿°"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"]),(0,l.bF)(M,{open:o.value,"onUpdate:open":c[14]||(c[14]=e=>o.value=e),title:"ç¼–è¾‘æ–‡ä»¶ä¿¡æ¯",onOk:U,onCancel:c[15]||(c[15]=e=>o.value=!1)},{default:(0,l.k6)(()=>[(0,l.bF)(X,{model:b,layout:"vertical"},{default:(0,l.k6)(()=>[(0,l.bF)(K,{label:"æ–‡ä»¶åç§°",name:"name"},{default:(0,l.k6)(()=>[(0,l.bF)(N,{value:b.name,"onUpdate:value":c[11]||(c[11]=e=>b.name=e),placeholder:"è¯·è¾“å…¥æ–‡ä»¶åç§°"},null,8,["value"])]),_:1}),(0,l.bF)(K,{label:"æè¿°",name:"description"},{default:(0,l.k6)(()=>[(0,l.bF)(z,{value:b.description,"onUpdate:value":c[12]||(c[12]=e=>b.description=e),placeholder:"è¯·è¾“å…¥æ–‡ä»¶æè¿°"},null,8,["value"])]),_:1}),(0,l.bF)(K,{label:"æ ‡ç­¾",name:"tags"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{value:b.tags,"onUpdate:value":c[13]||(c[13]=e=>b.tags=e),mode:"tags",placeholder:"è¯·è¾“å…¥æ ‡ç­¾",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open"]),(0,l.bF)(M,{open:i.value,"onUpdate:open":c[16]||(c[16]=e=>i.value=e),title:"ç¡®è®¤åˆ é™¤",onOk:O,onCancel:c[17]||(c[17]=e=>i.value=!1)},{default:(0,l.k6)(()=>[(0,l.Lk)("p",null,'ç¡®å®šè¦åˆ é™¤æ–‡ä»¶ "'+(0,v.v_)(u.value?.name)+'" å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚',1)]),_:1},8,["open"])])}}};const wc=(0,r.A)(Ac,[["__scopeId","data-v-e94187a6"]]);var Cc=wc,Fc=t(7939);const _c={class:"my-announcement-container"},Ec={class:"announcement-content"},Ic={class:"main-content"},Sc={class:"stats-overview"},Mc={class:"stat-card"},Dc={class:"stat-content"},Uc={class:"stat-number"},Rc={class:"stat-card"},Oc={class:"stat-content"},Pc={class:"stat-number"},Nc={class:"stat-card"},Kc={class:"stat-content"},zc={class:"stat-number"},Xc={class:"stat-card"},Wc={class:"stat-content"},jc={class:"stat-number"},Hc={class:"announcement-list"},qc={class:"list-header"},Jc={class:"filter-actions"},Vc={class:"announcement-grid"},$c=["onClick"],Qc={class:"card-header"},Bc={class:"announcement-type"},Gc={key:0,class:"important-badge"},Yc={key:1,class:"unread-badge"},Zc={class:"announcement-date"},eu={class:"card-title"},au={class:"card-content"},tu={class:"card-footer"},su={class:"publisher"},lu={class:"category"},ou={key:0,class:"announcement-detail"},iu={class:"detail-header"},nu={class:"detail-title"},ru={key:0,class:"important-badge"},du={class:"detail-meta"},cu={class:"detail-content"},uu={class:"content-text"},vu={key:0,class:"attachments"},pu={class:"attachment-list"},mu={class:"attachment-name"},ku={class:"detail-footer"};var hu={__name:"MyAnnouncement",setup(e){const a=(0,S.KR)(!1),t=(0,S.KR)(null),s=(0,S.KR)(""),o=(0,S.KR)("all"),i=(0,S.KR)(1),n=(0,S.Kh)({total:0,read:0,unread:0,important:0}),r=(0,S.KR)([]),d=(0,l.EW)(()=>{let e=r.value;return"unread"===o.value?e=e.filter(e=>!e.isRead):"read"===o.value?e=e.filter(e=>e.isRead):"important"===o.value&&(e=e.filter(e=>e.isImportant)),s.value&&(e=e.filter(e=>e.title.toLowerCase().includes(s.value.toLowerCase())||e.content.toLowerCase().includes(s.value.toLowerCase())||e.publisher.toLowerCase().includes(s.value.toLowerCase()))),e}),c=()=>{const e=[{id:1,title:"å…³äºç³»ç»Ÿç»´æŠ¤çš„é€šçŸ¥",content:"ä¸ºäº†æå‡ç³»ç»Ÿæ€§èƒ½ï¼Œæˆ‘ä»¬å°†äºæœ¬å‘¨å…­å‡Œæ™¨2:00-6:00è¿›è¡Œç³»ç»Ÿç»´æŠ¤ã€‚ç»´æŠ¤æœŸé—´ç³»ç»Ÿå°†æš‚åœæœåŠ¡ï¼Œè¯·æå‰åšå¥½ç›¸å…³å·¥ä½œå®‰æ’ã€‚",publisher:"ç³»ç»Ÿç®¡ç†å‘˜",publishTime:new Date("2024-01-20 10:00:00"),tags:["ç³»ç»Ÿ","ç»´æŠ¤","é€šçŸ¥"],isRead:!1,isImportant:!0,attachments:[{id:1,name:"ç»´æŠ¤è®¡åˆ’.pdf",url:"#"}]},{id:2,title:"2024å¹´æ˜¥èŠ‚æ”¾å‡å®‰æ’",content:"æ ¹æ®å›½å®¶è§„å®šå’Œå…¬å¸å®‰æ’ï¼Œ2024å¹´æ˜¥èŠ‚æ”¾å‡æ—¶é—´ä¸º2æœˆ10æ—¥-2æœˆ17æ—¥ï¼Œå…±8å¤©ã€‚2æœˆ18æ—¥æ­£å¸¸ä¸Šç­ã€‚",publisher:"äººäº‹éƒ¨",publishTime:new Date("2024-01-19 14:30:00"),tags:["æ”¾å‡","æ˜¥èŠ‚","äººäº‹"],isRead:!0,isImportant:!0,attachments:[]},{id:3,title:"æ–°å‘˜å·¥å…¥èŒåŸ¹è®­é€šçŸ¥",content:"æ¬¢è¿æ–°åŒäº‹åŠ å…¥æˆ‘ä»¬çš„å›¢é˜Ÿï¼æ–°å‘˜å·¥å…¥èŒåŸ¹è®­å°†äºä¸‹å‘¨ä¸€ä¸Šåˆ9:00åœ¨ä¼šè®®å®¤Aä¸¾è¡Œï¼Œè¯·å‡†æ—¶å‚åŠ ã€‚",publisher:"åŸ¹è®­éƒ¨",publishTime:new Date("2024-01-18 16:00:00"),tags:["åŸ¹è®­","æ–°å‘˜å·¥","å…¥èŒ"],isRead:!1,isImportant:!1,attachments:[{id:2,name:"åŸ¹è®­æ‰‹å†Œ.docx",url:"#"},{id:3,name:"åŸ¹è®­æ—¥ç¨‹.xlsx",url:"#"}]},{id:4,title:"åŠå…¬ç”¨å“é‡‡è´­é€šçŸ¥",content:"å„éƒ¨é—¨å¦‚éœ€é‡‡è´­åŠå…¬ç”¨å“ï¼Œè¯·äºæœ¬å‘¨äº”å‰æäº¤é‡‡è´­ç”³è¯·å•ã€‚é‡‡è´­æ¸…å•å’Œé¢„ç®—è¯·è¯¦ç»†å¡«å†™ã€‚",publisher:"è¡Œæ”¿éƒ¨",publishTime:new Date("2024-01-17 11:00:00"),tags:["é‡‡è´­","åŠå…¬ç”¨å“","è¡Œæ”¿"],isRead:!0,isImportant:!1,attachments:[{id:4,name:"é‡‡è´­ç”³è¯·å•.xlsx",url:"#"}]},{id:5,title:"é¡¹ç›®è¿›åº¦æ±‡æŠ¥ä¼šè®®",content:"å®šäºæœ¬å‘¨å››ä¸‹åˆ2:00å¬å¼€é¡¹ç›®è¿›åº¦æ±‡æŠ¥ä¼šè®®ï¼Œè¯·å„é¡¹ç›®è´Ÿè´£äººå‡†å¤‡ç›¸å…³ææ–™å¹¶å‡†æ—¶å‚åŠ ã€‚",publisher:"é¡¹ç›®ç®¡ç†éƒ¨",publishTime:new Date("2024-01-16 15:30:00"),tags:["ä¼šè®®","é¡¹ç›®","æ±‡æŠ¥"],isRead:!1,isImportant:!1,attachments:[]},{id:6,title:"å‘˜å·¥å¥åº·ä½“æ£€å®‰æ’",content:"ä¸ºä¿éšœå‘˜å·¥èº«ä½“å¥åº·ï¼Œå…¬å¸å°†äºä¸‹æœˆç»„ç»‡å¹´åº¦å¥åº·ä½“æ£€ã€‚å…·ä½“æ—¶é—´å’Œåœ°ç‚¹å¦è¡Œé€šçŸ¥ã€‚",publisher:"äººäº‹éƒ¨",publishTime:new Date("2024-01-15 09:00:00"),tags:["ä½“æ£€","å¥åº·","äººäº‹"],isRead:!0,isImportant:!1,attachments:[]}];r.value=e,u()},u=()=>{const e=r.value.length,a=r.value.filter(e=>e.isRead).length,t=e-a,s=r.value.filter(e=>e.isImportant).length;n.total=e,n.read=a,n.unread=t,n.important=s},p=e=>new Date(e).toLocaleString("zh-CN"),m=e=>{const a={"ç³»ç»Ÿ":"blue","ç»´æŠ¤":"orange","é€šçŸ¥":"green","æ”¾å‡":"red","æ˜¥èŠ‚":"red","äººäº‹":"purple","åŸ¹è®­":"cyan","æ–°å‘˜å·¥":"blue","å…¥èŒ":"green","é‡‡è´­":"orange","åŠå…¬ç”¨å“":"blue","è¡Œæ”¿":"purple","ä¼šè®®":"cyan","é¡¹ç›®":"blue","æ±‡æŠ¥":"green","ä½“æ£€":"green","å¥åº·":"green"};return a[e]||"default"},k=()=>{i.value=1},h=e=>{t.value=e,a.value=!0,e.isRead||b(e)},b=e=>{e.isRead=!0,u(),M.Ay.success("å·²æ ‡è®°ä¸ºå·²è¯»")},g=e=>{M.Ay.info(`å¼€å§‹ä¸‹è½½é™„ä»¶: ${e.name}`)};return(0,l.sV)(()=>{c()}),(e,i)=>{const r=(0,l.g2)("a-select-option"),c=(0,l.g2)("a-select"),u=(0,l.g2)("a-input-search"),L=(0,l.g2)("a-tag"),f=(0,l.g2)("a-button"),y=(0,l.g2)("a-modal");return(0,l.uX)(),(0,l.CE)("div",_c,[(0,l.bF)(Oi,{title:"æˆ‘çš„å…¬å‘Š",subtitle:"æŸ¥çœ‹é‡è¦å…¬å‘Šä¿¡æ¯","icon-type":"notification",isUserSide:!0}),(0,l.Lk)("div",Ec,[(0,l.bF)(qi,{isAdmin:!1}),(0,l.Lk)("div",Ic,[(0,l.Lk)("div",Sc,[(0,l.Lk)("div",Mc,[i[7]||(i[7]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ“¢",-1)),(0,l.Lk)("div",Dc,[(0,l.Lk)("div",Uc,(0,v.v_)(n.total),1),i[6]||(i[6]=(0,l.Lk)("div",{class:"stat-label"},"æ€»å…¬å‘Šæ•°",-1))])]),(0,l.Lk)("div",Rc,[i[9]||(i[9]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ“–",-1)),(0,l.Lk)("div",Oc,[(0,l.Lk)("div",Pc,(0,v.v_)(n.read),1),i[8]||(i[8]=(0,l.Lk)("div",{class:"stat-label"},"å·²è¯»å…¬å‘Š",-1))])]),(0,l.Lk)("div",Nc,[i[11]||(i[11]=(0,l.Lk)("div",{class:"stat-icon"},"ğŸ‘€",-1)),(0,l.Lk)("div",Kc,[(0,l.Lk)("div",zc,(0,v.v_)(n.unread),1),i[10]||(i[10]=(0,l.Lk)("div",{class:"stat-label"},"æœªè¯»å…¬å‘Š",-1))])]),(0,l.Lk)("div",Xc,[i[13]||(i[13]=(0,l.Lk)("div",{class:"stat-icon"},"â­",-1)),(0,l.Lk)("div",Wc,[(0,l.Lk)("div",jc,(0,v.v_)(n.important),1),i[12]||(i[12]=(0,l.Lk)("div",{class:"stat-label"},"é‡è¦å…¬å‘Š",-1))])])]),(0,l.Lk)("div",Hc,[(0,l.Lk)("div",qc,[i[17]||(i[17]=(0,l.Lk)("h2",null,"å…¬å‘Šåˆ—è¡¨",-1)),(0,l.Lk)("div",Jc,[(0,l.bF)(c,{value:o.value,"onUpdate:value":i[0]||(i[0]=e=>o.value=e),style:{width:"120px","margin-right":"16px"}},{default:(0,l.k6)(()=>[(0,l.bF)(r,{value:"all"},{default:(0,l.k6)(()=>i[14]||(i[14]=[(0,l.eW)("å…¨éƒ¨å…¬å‘Š",-1)])),_:1,__:[14]}),(0,l.bF)(r,{value:"unread"},{default:(0,l.k6)(()=>i[15]||(i[15]=[(0,l.eW)("æœªè¯»å…¬å‘Š",-1)])),_:1,__:[15]}),(0,l.bF)(r,{value:"important"},{default:(0,l.k6)(()=>i[16]||(i[16]=[(0,l.eW)("é‡è¦å…¬å‘Š",-1)])),_:1,__:[16]})]),_:1},8,["value"]),(0,l.bF)(u,{value:s.value,"onUpdate:value":i[1]||(i[1]=e=>s.value=e),placeholder:"æœç´¢å…¬å‘Š...",style:{width:"200px"},onSearch:k},null,8,["value"])])]),(0,l.Lk)("div",Vc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,v.C4)(["announcement-card",{unread:!e.isRead,important:e.isImportant}]),onClick:a=>h(e)},[(0,l.Lk)("div",Qc,[(0,l.Lk)("div",Bc,[e.isImportant?((0,l.uX)(),(0,l.CE)("span",Gc,"é‡è¦")):(0,l.Q3)("",!0),e.isRead?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",Yc,"æœªè¯»"))]),(0,l.Lk)("div",Zc,(0,v.v_)(p(e.publishTime)),1)]),(0,l.Lk)("div",eu,(0,v.v_)(e.title),1),(0,l.Lk)("div",au,(0,v.v_)(e.content),1),(0,l.Lk)("div",tu,[(0,l.Lk)("div",su,"å‘å¸ƒäººï¼š"+(0,v.v_)(e.publisher),1),(0,l.Lk)("div",lu,"åˆ†ç±»ï¼š"+(0,v.v_)(e.category),1)])],10,$c))),128))])])])]),(0,l.bF)(y,{open:a.value,"onUpdate:open":i[4]||(i[4]=e=>a.value=e),title:"å…¬å‘Šè¯¦æƒ…",width:"800px",onCancel:i[5]||(i[5]=e=>a.value=!1),footer:null},{default:(0,l.k6)(()=>[t.value?((0,l.uX)(),(0,l.CE)("div",ou,[(0,l.Lk)("div",iu,[(0,l.Lk)("h2",nu,[t.value.isImportant?((0,l.uX)(),(0,l.CE)("span",ru,"â­")):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,v.v_)(t.value.title),1)]),(0,l.Lk)("div",du,[(0,l.Lk)("p",null,[i[18]||(i[18]=(0,l.Lk)("strong",null,"å‘å¸ƒè€…ï¼š",-1)),(0,l.eW)((0,v.v_)(t.value.publisher),1)]),(0,l.Lk)("p",null,[i[19]||(i[19]=(0,l.Lk)("strong",null,"å‘å¸ƒæ—¶é—´ï¼š",-1)),(0,l.eW)((0,v.v_)(p(t.value.publishTime)),1)]),(0,l.Lk)("p",null,[i[20]||(i[20]=(0,l.Lk)("strong",null,"åˆ†ç±»ï¼š",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value.tags,e=>((0,l.uX)(),(0,l.Wv)(L,{key:e,color:m(e)},{default:(0,l.k6)(()=>[(0,l.eW)((0,v.v_)(e),1)]),_:2},1032,["color"]))),128))])])]),(0,l.Lk)("div",cu,[(0,l.Lk)("div",uu,(0,v.v_)(t.value.content),1),t.value.attachments&&t.value.attachments.length>0?((0,l.uX)(),(0,l.CE)("div",vu,[i[22]||(i[22]=(0,l.Lk)("h4",null,"é™„ä»¶ï¼š",-1)),(0,l.Lk)("div",pu,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value.attachments,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"attachment-item"},[(0,l.bF)((0,S.R1)(Fc.A)),(0,l.Lk)("span",mu,(0,v.v_)(e.name),1),(0,l.bF)(f,{type:"link",size:"small",onClick:a=>g(e)},{default:(0,l.k6)(()=>i[21]||(i[21]=[(0,l.eW)(" ä¸‹è½½ ",-1)])),_:2,__:[21]},1032,["onClick"])]))),128))])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ku,[t.value.isRead?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(f,{key:0,type:"primary",onClick:i[2]||(i[2]=e=>b(t.value))},{default:(0,l.k6)(()=>i[23]||(i[23]=[(0,l.eW)(" æ ‡è®°ä¸ºå·²è¯» ",-1)])),_:1,__:[23]})),(0,l.bF)(f,{onClick:i[3]||(i[3]=e=>a.value=!1)},{default:(0,l.k6)(()=>i[24]||(i[24]=[(0,l.eW)("å…³é—­",-1)])),_:1,__:[24]})])])):(0,l.Q3)("",!0)]),_:1},8,["open"])])}}};const bu=(0,r.A)(hu,[["__scopeId","data-v-b202a6e2"]]);var gu=bu;const Lu={class:"user-data-manager"},fu={class:"content-wrapper"},yu={class:"main-content"},xu={class:"data-stats"},Tu={class:"stat-item"},Au={class:"stat-number"},wu={class:"stat-item"},Cu={class:"stat-number"},Fu={class:"stat-item"},_u={class:"stat-number"},Eu={class:"stat-item"},Iu={class:"stat-number"},Su={class:"data-actions"},Mu={class:"data-preview"};function Du(e,a,t,s,o,i){const n=(0,l.g2)("CommonHeader"),r=(0,l.g2)("CommonNavigation"),d=(0,l.g2)("a-card"),c=(0,l.g2)("a-col"),u=(0,l.g2)("a-row"),p=(0,l.g2)("a-icon"),m=(0,l.g2)("a-button"),k=(0,l.g2)("a-upload"),h=(0,l.g2)("a-table"),b=(0,l.g2)("a-tab-pane"),g=(0,l.g2)("a-tabs"),L=(0,l.g2)("a-modal");return(0,l.uX)(),(0,l.CE)("div",Lu,[(0,l.bF)(n,{isUserSide:!0}),(0,l.Lk)("div",fu,[(0,l.bF)(r),(0,l.Lk)("div",yu,[a[11]||(a[11]=(0,l.Lk)("div",{class:"page-header"},[(0,l.Lk)("h1",null,"æˆ‘çš„æ•°æ®ç®¡ç†"),(0,l.Lk)("p",null,"ç®¡ç†æ‚¨çš„ä¸ªäººæ•°æ®ï¼ŒåŒ…æ‹¬å¤‡ä»½ã€æ¢å¤å’Œæ¸…é™¤åŠŸèƒ½")],-1)),(0,l.Lk)("div",xu,[(0,l.bF)(u,{gutter:16},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",Tu,[(0,l.Lk)("div",Au,(0,v.v_)(e.dataStats.attendanceCount),1),a[1]||(a[1]=(0,l.Lk)("div",{class:"stat-label"},"è€ƒå‹¤è®°å½•",-1))])]),_:1})]),_:1}),(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",wu,[(0,l.Lk)("div",Cu,(0,v.v_)(e.dataStats.approvalCount),1),a[2]||(a[2]=(0,l.Lk)("div",{class:"stat-label"},"å®¡æ‰¹è®°å½•",-1))])]),_:1})]),_:1}),(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",Fu,[(0,l.Lk)("div",_u,(0,v.v_)(e.dataStats.fileCount),1),a[3]||(a[3]=(0,l.Lk)("div",{class:"stat-label"},"æ–‡ä»¶è®°å½•",-1))])]),_:1})]),_:1}),(0,l.bF)(c,{span:6},{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",Eu,[(0,l.Lk)("div",Iu,(0,v.v_)(e.dataStats.activityCount),1),a[4]||(a[4]=(0,l.Lk)("div",{class:"stat-label"},"æ´»åŠ¨è®°å½•",-1))])]),_:1})]),_:1})]),_:1})]),(0,l.Lk)("div",Su,[(0,l.bF)(u,{gutter:16},{default:(0,l.k6)(()=>[(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{title:"æ•°æ®å¤‡ä»½",class:"action-card"},{extra:(0,l.k6)(()=>[(0,l.bF)(p,{type:"download"})]),default:(0,l.k6)(()=>[a[6]||(a[6]=(0,l.Lk)("p",null,"å¯¼å‡ºæ‚¨çš„æ‰€æœ‰ä¸ªäººæ•°æ®ï¼ŒåŒ…æ‹¬è€ƒå‹¤ã€å®¡æ‰¹ã€æ–‡ä»¶ç­‰è®°å½•",-1)),(0,l.bF)(m,{type:"primary",onClick:e.exportData,loading:e.exporting},{default:(0,l.k6)(()=>[(0,l.bF)(p,{type:"download"}),a[5]||(a[5]=(0,l.eW)(" å¯¼å‡ºæ•°æ® ",-1))]),_:1,__:[5]},8,["onClick","loading"])]),_:1,__:[6]})]),_:1}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{title:"æ•°æ®æ¢å¤",class:"action-card"},{extra:(0,l.k6)(()=>[(0,l.bF)(p,{type:"upload"})]),default:(0,l.k6)(()=>[a[8]||(a[8]=(0,l.Lk)("p",null,"ä»å¤‡ä»½æ–‡ä»¶ä¸­æ¢å¤æ‚¨çš„ä¸ªäººæ•°æ®",-1)),(0,l.bF)(k,{showUploadList:!1,beforeUpload:e.importData,accept:".json"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{type:"primary"},{default:(0,l.k6)(()=>[(0,l.bF)(p,{type:"upload"}),a[7]||(a[7]=(0,l.eW)(" å¯¼å…¥æ•°æ® ",-1))]),_:1,__:[7]})]),_:1},8,["beforeUpload"])]),_:1,__:[8]})]),_:1}),(0,l.bF)(c,{span:8},{default:(0,l.k6)(()=>[(0,l.bF)(d,{title:"æ•°æ®æ¸…é™¤",class:"action-card"},{extra:(0,l.k6)(()=>[(0,l.bF)(p,{type:"delete"})]),default:(0,l.k6)(()=>[a[10]||(a[10]=(0,l.Lk)("p",null,"æ¸…é™¤æ‚¨çš„æ‰€æœ‰ä¸ªäººæ•°æ®ï¼ˆä¸å¯æ¢å¤ï¼‰",-1)),(0,l.bF)(m,{type:"danger",onClick:e.showClearConfirm},{default:(0,l.k6)(()=>[(0,l.bF)(p,{type:"delete"}),a[9]||(a[9]=(0,l.eW)(" æ¸…é™¤æ•°æ® ",-1))]),_:1,__:[9]},8,["onClick"])]),_:1,__:[10]})]),_:1})]),_:1})]),(0,l.Lk)("div",Mu,[(0,l.bF)(d,{title:"æ•°æ®é¢„è§ˆ"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(b,{key:"attendance",tab:"è€ƒå‹¤è®°å½•"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{columns:e.attendanceColumns,dataSource:e.attendanceData,pagination:{pageSize:5},size:"small"},null,8,["columns","dataSource"])]),_:1}),(0,l.bF)(b,{key:"approval",tab:"å®¡æ‰¹è®°å½•"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{columns:e.approvalColumns,dataSource:e.approvalData,pagination:{pageSize:5},size:"small"},null,8,["columns","dataSource"])]),_:1}),(0,l.bF)(b,{key:"files",tab:"æ–‡ä»¶è®°å½•"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{columns:e.fileColumns,dataSource:e.fileData,pagination:{pageSize:5},size:"small"},null,8,["columns","dataSource"])]),_:1}),(0,l.bF)(b,{key:"activities",tab:"æ´»åŠ¨è®°å½•"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{columns:e.activityColumns,dataSource:e.activityData,pagination:{pageSize:5},size:"small"},null,8,["columns","dataSource"])]),_:1})]),_:1})]),_:1})])])]),(0,l.bF)(L,{title:"ç¡®è®¤æ¸…é™¤æ•°æ®",visible:e.showClearModal,onOk:e.clearData,onCancel:a[0]||(a[0]=a=>e.showClearModal=!1),okText:"ç¡®è®¤æ¸…é™¤",cancelText:"å–æ¶ˆ",okType:"danger"},{default:(0,l.k6)(()=>a[12]||(a[12]=[(0,l.Lk)("p",null,"æ‚¨ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰ä¸ªäººæ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼",-1),(0,l.Lk)("p",null,"å°†æ¸…é™¤ä»¥ä¸‹æ•°æ®ï¼š",-1),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,"è€ƒå‹¤è®°å½•"),(0,l.Lk)("li",null,"å®¡æ‰¹è®°å½•"),(0,l.Lk)("li",null,"æ–‡ä»¶è®°å½•"),(0,l.Lk)("li",null,"æ´»åŠ¨è®°å½•"),(0,l.Lk)("li",null,"ä¸ªäººä¿¡æ¯è®¾ç½®")],-1)])),_:1,__:[12]},8,["visible","onOk"])])}var Uu=(0,l.pM)({name:"UserDataManager",components:{CommonHeader:Oi,CommonNavigation:qi},setup(){const e=(0,S.KR)(!1),a=(0,S.KR)(!1),t=(0,S.Kh)({attendanceCount:0,approvalCount:0,fileCount:0,activityCount:0}),s=(0,S.KR)([]),o=(0,S.KR)([]),i=(0,S.KR)([]),n=(0,S.KR)([]),r=[{title:"æ—¥æœŸ",dataIndex:"date",key:"date"},{title:"ç­¾åˆ°æ—¶é—´",dataIndex:"checkInTime",key:"checkInTime"},{title:"ç­¾é€€æ—¶é—´",dataIndex:"checkOutTime",key:"checkOutTime"},{title:"çŠ¶æ€",dataIndex:"statusText",key:"statusText"}],d=[{title:"ç”³è¯·ç±»å‹",dataIndex:"type",key:"type"},{title:"ç”³è¯·å†…å®¹",dataIndex:"content",key:"content"},{title:"ç”³è¯·æ—¶é—´",dataIndex:"applyTime",key:"applyTime"},{title:"çŠ¶æ€",dataIndex:"status",key:"status"}],c=[{title:"æ–‡ä»¶å",dataIndex:"name",key:"name"},{title:"ç±»å‹",dataIndex:"type",key:"type"},{title:"å¤§å°",dataIndex:"size",key:"size"},{title:"ä¸Šä¼ æ—¶é—´",dataIndex:"uploadTime",key:"uploadTime"}],u=[{title:"æ´»åŠ¨ç±»å‹",dataIndex:"type",key:"type"},{title:"æ´»åŠ¨å†…å®¹",dataIndex:"title",key:"title"},{title:"æ—¶é—´",dataIndex:"time",key:"time"},{title:"çŠ¶æ€",dataIndex:"statusText",key:"statusText"}],v=()=>{const e=X(),a=W(),l=j(),r=K();t.attendanceCount=e.length,t.approvalCount=a.length,t.fileCount=l.length,t.activityCount=r.length,s.value=e.slice(0,10),o.value=a.slice(0,10),i.value=l.slice(0,10),n.value=r.slice(0,10)},p=async()=>{e.value=!0;try{const e=J(),a=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(a),s=document.createElement("a");s.href=t,s.download=`user_data_${e.username}_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),M.Ay.success("æ•°æ®å¯¼å‡ºæˆåŠŸï¼")}catch(a){M.Ay.error("æ•°æ®å¯¼å‡ºå¤±è´¥ï¼"),console.error("å¯¼å‡ºé”™è¯¯:",a)}finally{e.value=!1}},m=e=>{const a=new FileReader;return a.onload=e=>{try{const a=JSON.parse(e.target.result);V(a)?(M.Ay.success("æ•°æ®å¯¼å…¥æˆåŠŸï¼"),v()):M.Ay.error("æ•°æ®å¯¼å…¥å¤±è´¥ï¼")}catch(a){M.Ay.error("æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼"),console.error("å¯¼å…¥é”™è¯¯:",a)}},a.readAsText(e),!1},k=()=>{a.value=!0},h=()=>{try{q()?(M.Ay.success("æ•°æ®æ¸…é™¤æˆåŠŸï¼"),v()):M.Ay.error("æ•°æ®æ¸…é™¤å¤±è´¥ï¼")}catch(e){M.Ay.error("æ•°æ®æ¸…é™¤å¤±è´¥ï¼"),console.error("æ¸…é™¤é”™è¯¯:",e)}finally{a.value=!1}};return(0,l.sV)(()=>{v()}),{exporting:e,showClearModal:a,dataStats:t,attendanceData:s,approvalData:o,fileData:i,activityData:n,attendanceColumns:r,approvalColumns:d,fileColumns:c,activityColumns:u,exportData:p,importData:m,showClearConfirm:k,clearData:h}}});const Ru=(0,r.A)(Uu,[["render",Du],["__scopeId","data-v-018e9fa4"]]);var Ou=Ru;const Pu=[{path:"/",name:"Home",component:Be,meta:{requiresAuth:!0,title:"é¦–é¡µ"}},{path:"/login",name:"Login",component:oe,meta:{requiresAuth:!1}},{path:"/user",name:"UserHome",component:Vn,meta:{requiresAuth:!0,title:"ç”¨æˆ·ä¸»é¡µ"}},{path:"/user/workbench",name:"UserWorkbench",component:_r,meta:{requiresAuth:!0,title:"æˆ‘çš„å·¥ä½œå°"}},{path:"/user/profile",name:"UserProfile",component:Tn,meta:{requiresAuth:!0,title:"ä¸ªäººä¿¡æ¯"}},{path:"/user/approval",name:"MyApproval",component:cd,meta:{requiresAuth:!0,title:"æˆ‘çš„å®¡æ‰¹"}},{path:"/user/attendance",name:"MyAttendance",component:Hd,meta:{requiresAuth:!0,title:"æˆ‘çš„è€ƒå‹¤"}},{path:"/user/files",name:"MyFiles",component:Cc,meta:{requiresAuth:!0,title:"æˆ‘çš„æ–‡ä»¶"}},{path:"/user/announcement",name:"MyAnnouncement",component:gu,meta:{requiresAuth:!0,title:"æˆ‘çš„å…¬å‘Š"}},{path:"/user/data-manager",name:"UserDataManager",component:Ou,meta:{requiresAuth:!0,title:"æ•°æ®ç®¡ç†"}},{path:"/admin/employee",name:"Employee",component:Ka,meta:{requiresAuth:!0,title:"å‘˜å·¥ç®¡ç†"}},{path:"/admin/approval",name:"Approval",component:wt,meta:{requiresAuth:!0,title:"å®¡æ‰¹ç®¡ç†"}},{path:"/admin/attendance",name:"Attendance",component:os,meta:{requiresAuth:!0,title:"è€ƒå‹¤ç®¡ç†"}},{path:"/admin/announcement",name:"Announcement",component:js,meta:{requiresAuth:!0,title:"å…¬å‘Šç®¡ç†"}},{path:"/admin/file",name:"FileManager",component:Sl,meta:{requiresAuth:!0,title:"æ–‡ä»¶ç®¡ç†"}},{path:"/admin/user",name:"UserManagement",component:ho,meta:{requiresAuth:!0,title:"ç”¨æˆ·ç®¡ç†"}},{path:"/admin/system",name:"System",component:Zo,meta:{requiresAuth:!0,title:"ç³»ç»Ÿç›‘æ§"}},{path:"/admin/profile",name:"Profile",component:yi,meta:{requiresAuth:!0,title:"ä¸ªäººèµ„æ–™"}},{path:"/employee",redirect:"/admin/employee"},{path:"/approval",redirect:"/admin/approval"},{path:"/attendance",redirect:"/admin/attendance"},{path:"/announcement",redirect:"/admin/announcement"},{path:"/file",redirect:"/admin/file"},{path:"/user-management",redirect:"/admin/user"},{path:"/system",redirect:"/admin/system"},{path:"/profile",redirect:"/admin/profile"}],Nu=(0,u.aE)({history:(0,u.LA)("/"),routes:Pu});Nu.beforeEach((e,a,t)=>{if(console.log("è·¯ç”±è·³è½¬:",{from:a.path,to:e.path,requiresAuth:e.meta.requiresAuth}),"/login"!==e.path){if(e.meta.requiresAuth){const e=localStorage.getItem("token");if(!e)return console.log("æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢"),void t("/login")}t()}else t()});var Ku=Nu,zu=t(6278),Xu=(0,zu.y$)({state:{user:null,token:localStorage.getItem("token")||null},mutations:{SET_USER(e,a){e.user=a},SET_TOKEN(e,a){e.token=a,a?localStorage.setItem("token",a):localStorage.removeItem("token")}},actions:{login({commit:e},{user:a,token:t}){e("SET_USER",a),e("SET_TOKEN",t)},logout({commit:e}){e("SET_USER",null),e("SET_TOKEN",null)}},getters:{isAuthenticated:e=>!!e.token,currentUser:e=>e.user}}),Wu=t(4303),ju=(t(4529),t(3392)),Hu=(t(4188),t(8548)),qu=t(4335);qu.A.defaults.baseURL="http://localhost:8080/api",qu.A.defaults.timeout=1e4,qu.A.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e)),qu.A.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&Ku.push("/login"),Promise.reject(e)));const Ju=(0,s.Ef)(c);Z(Ju),Ju.use(Xu),Ju.use(Ku),Ju.use(Wu.Ay),Ju.use(ju.A);for(const[Vu,$u]of Object.entries(Hu))Ju.component(Vu,$u);Ju.mount("#app")}},a={};function t(s){var l=a[s];if(void 0!==l)return l.exports;var o=a[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}t.m=e,function(){var e=[];t.O=function(a,s,l,o){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],l=e[c][1],o=e[c][2];for(var n=!0,r=0;r<s.length;r++)(!1&o||i>=o)&&Object.keys(t.O).every(function(e){return t.O[e](s[r])})?s.splice(r--,1):(n=!1,o<i&&(i=o));if(n){e.splice(c--,1);var d=l();void 0!==d&&(a=d)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,l,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var l,o,i=s[0],n=s[1],r=s[2],d=0;if(i.some(function(a){return 0!==e[a]})){for(l in n)t.o(n,l)&&(t.m[l]=n[l]);if(r)var c=r(t)}for(a&&a(s);d<i.length;d++)o=i[d],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},s=self["webpackChunksmart_oa_frontend"]=self["webpackChunksmart_oa_frontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[504],function(){return t(6752)});s=t.O(s)})();
//# sourceMappingURL=app.4e837aa4.js.map